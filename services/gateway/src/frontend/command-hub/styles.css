/* --- Variables & Tokens --- */
:root {
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 64px;
  --header-height: 60px;
  --color-bg: #0f172a;
  --color-sidebar-bg: #1e293b;
  --color-border: #334155;
  --color-text-primary: #f8fafc;
  --color-text-secondary: #94a3b8;
  --color-accent: #3b82f6;
  --color-accent-hover: #2563eb;
  --color-operator: #f59e0b;

  /* Task Board Colors */
  --color-task-scheduled: #60a5fa;
  --color-task-progress: #f59e0b;
  --color-task-completed: #10b981;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text-primary);
  height: 100vh;
  overflow: hidden;
}

/* --- Layout --- */
.app-container {
  display: flex;
  height: 100vh;
}

.sidebar {
  width: var(--sidebar-width);
  background-color: var(--color-sidebar-bg);
  border-right: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  transition: width 0.3s ease;
  flex-shrink: 0;
  height: 100vh;
}

.sidebar.collapsed {
  width: var(--sidebar-collapsed-width);
}

.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
}

/* --- Header --- */
.header-bar {
  height: var(--header-height);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  justify-content: space-between;
  background-color: var(--color-bg);
}

.header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.header-title {
    font-weight: 600;
    font-size: 1rem;
    color: var(--color-text-primary);
    margin-right: 1rem;
}

.autopilot-card {
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 6px;
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.autopilot-card .title {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-accent);
}

.autopilot-card .status {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* --- Status Chips (LIVE / Heartbeat) --- */
.status-live {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.status-live .live-dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.status-live.status-live-error {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.status-live.status-live-error .live-dot {
  background-color: #ef4444;
}

.heartbeat-chip {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 500;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(148, 163, 184, 0.1);
  border: 1px solid rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.heartbeat-chip:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

/* Legacy live indicator - kept for compatibility */
.live-indicator {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: #10b981;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.live-dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.multimodal-controls {
  display: flex;
  gap: 0.5rem;
}

.mm-btn {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  width: 32px;
  height: 32px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
}

.mm-btn:hover {
  border-color: var(--color-text-primary);
  color: var(--color-text-primary);
}

.mm-btn.active {
  background: rgba(59, 130, 246, 0.2);
  border-color: var(--color-accent);
  color: var(--color-accent);
}

/* --- Sidebar Navigation --- */
/* VTID-01014: Nav section takes all available space */
.nav-section {
  flex: 1;
  overflow-y: auto;
  padding: 0.75rem 0;
  min-height: 0;
}

.nav-item {
  display: flex;
  align-items: center;
  padding: 0.75rem 1.5rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
  font-size: 0.9rem;
  white-space: nowrap;
  overflow: hidden;
}

.nav-item:hover {
  background-color: rgba(255, 255, 255, 0.05);
  color: var(--color-text-primary);
}

.nav-item.active {
  background-color: rgba(59, 130, 246, 0.1);
  color: var(--color-accent);
  border-right: 3px solid var(--color-accent);
}

.nav-item[data-module="Operator"]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background-color: var(--color-operator);
  display: none;
}

.nav-item[data-module="Operator"] {
  color: var(--color-operator);
}

.nav-item[data-module="Operator"].active::before {
  display: block;
}

/* VTID-01014: Old collapse toggle - hidden (now in header) */
.collapse-toggle {
  display: none;
}

/* --- Tabs --- */
.sub-nav {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  background-color: var(--color-bg);
  padding: 0 1.5rem;
}

.sub-nav-tab {
  padding: 1rem 1.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
}

.sub-nav-tab:hover {
  color: var(--color-text-primary);
}

.sub-nav-tab.active {
  color: var(--color-accent);
  border-bottom-color: var(--color-accent);
}

/* VTID-01151: Approvals badge counter */
.approvals-badge {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 18px;
  height: 18px;
  padding: 0 5px;
  margin-left: 6px;
  font-size: 0.7rem;
  font-weight: 600;
  color: #fff;
  background: #ef4444;
  border-radius: 9px;
  vertical-align: middle;
}

.sub-nav-tab.active .approvals-badge {
  background: var(--color-accent);
}

/* --- Content Area --- */
.content-area {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* --- Tasks View --- */
.tasks-toolbar {
  padding: 1rem 1.5rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  border-bottom: 1px solid var(--color-border);
}

.search-field {
  width: 300px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.9rem;
}

.btn {
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.9rem;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
}

.btn:hover {
  background: rgba(255, 255, 255, 0.05);
}

.btn-primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

.btn-primary:hover {
  background: var(--color-accent-hover);
}

.spacer {
  flex: 1;
}

/* --- Golden Task Board --- */
.task-board {
  flex: 1;
  display: flex;
  padding: 1.5rem;
  gap: 1.5rem;
  overflow-x: auto;
  background-color: #0b1120;
}

.task-column {
  flex: 1;
  min-width: 300px;
  background: var(--color-sidebar-bg);
  border-radius: 12px;
  border: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  max-height: 100%;
  transition: background 0.3s;
}

/* Column specific tints */
.task-column:nth-child(1) { /* Scheduled */
  background: linear-gradient(180deg, rgba(96, 165, 250, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(96, 165, 250, 0.5);
}

.task-column:nth-child(2) { /* In Progress */
  background: linear-gradient(180deg, rgba(245, 158, 11, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(245, 158, 11, 0.5);
}

.task-column:nth-child(3) { /* Completed */
  background: linear-gradient(180deg, rgba(16, 185, 129, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(16, 185, 129, 0.5);
}

.column-header {
  padding: 1rem;
  font-weight: 600;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  font-size: 0.8rem;
  letter-spacing: 0.5px;
}

/* VTID-01013: Scheduled Column Hygiene - Header with toggle and counters */
.column-header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
}

.scheduled-archive-toggle {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.65rem;
  font-weight: 400;
  text-transform: none;
  color: var(--color-text-muted);
  cursor: pointer;
  white-space: nowrap;
}

.scheduled-archive-toggle input[type="checkbox"] {
  width: 12px;
  height: 12px;
  cursor: pointer;
  accent-color: var(--color-primary);
}

.scheduled-archive-toggle:hover {
  color: var(--color-text-secondary);
}

/* VTID-01015: .scheduled-counters removed - counter stamp no longer used */

.column-content {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.task-card {
  background: #253045; /* Slightly lighter than sidebar */
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  padding: 1.25rem;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border-left: 4px solid transparent;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
}

.task-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.2);
  background: #2d3b52;
}

.task-card[data-status="scheduled"] { border-left-color: var(--color-task-scheduled); }
.task-card[data-status="in-progress"] { border-left-color: var(--color-task-progress); }
.task-card[data-status="completed"] { border-left-color: var(--color-task-completed); }

/* Status Pills (simulated via meta span) */
.task-card .meta span:last-child {
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.task-card[data-status="scheduled"] .meta span:last-child {
  background: rgba(96, 165, 250, 0.15);
  color: var(--color-task-scheduled);
  box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.2);
}

.task-card[data-status="in-progress"] .meta span:last-child {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-task-progress);
  box-shadow: 0 0 0 1px rgba(245, 158, 11, 0.2);
}

.task-card[data-status="completed"] .meta span:last-child {
  background: rgba(16, 185, 129, 0.15);
  color: var(--color-task-completed);
  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.2);
}

.task-card .title {
  font-weight: 500;
  margin-bottom: 0.5rem;
  font-size: 0.95rem;
  line-height: 1.4;
}

.task-card .meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.task-card .vtid {
  font-family: monospace;
  color: var(--color-accent);
}

/* --- Split Screen --- */
.split-screen {
  display: flex;
  flex: 1;
  height: 100%;
}

.split-panel-left {
  width: 35%;
  border-right: 1px solid var(--color-border);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.split-panel-right {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.split-divider {
  width: 8px;
  background: var(--color-bg);
  border-left: 1px solid var(--color-border);
  border-right: 1px solid var(--color-border);
  cursor: col-resize;
  display: flex;
  align-items: center;
  justify-content: center;
}

.split-divider::after {
  content: '';
  width: 2px;
  height: 20px;
  background: var(--color-border);
}

.split-divider:hover {
  background: rgba(59, 130, 246, 0.1);
}

.split-divider:hover::after {
  background: var(--color-accent);
}

/* --- Modals --- */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(2px);
}

.modal {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  width: 500px;
  max-width: 90vw;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
}

.modal-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
  font-size: 1.25rem;
  font-weight: 600;
}

.modal-body {
  padding: 1.5rem;
}

.modal-footer {
  padding: 1.5rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
}

/* Profile Modal Specifics */
.profile-avatar-large {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: var(--color-accent);
  margin: 0 auto 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: bold;
}

.profile-name {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.profile-role-badge {
  display: block;
  width: fit-content;
  margin: 0 auto 1rem;
  padding: 0.25rem 0.75rem;
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
  border-radius: 999px;
  font-size: 0.85rem;
}

/* VTID-01014: Role Switcher in Profile Modal */
.profile-role-switcher {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  padding: 0 1rem;
}

.profile-role-switcher label {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.profile-role-select {
  flex: 1;
  max-width: 180px;
  padding: 0.5rem 0.75rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  cursor: pointer;
  transition: border-color 0.2s;
}

.profile-role-select:hover {
  border-color: var(--color-text-secondary);
}

.profile-role-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Form Controls */
.form-group {
  margin-bottom: 1rem;
}

/* VTID-01012: Form row for side-by-side fields */
.form-row {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.form-group-half {
  flex: 1;
  margin-bottom: 0;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
}

.form-control {
  width: 100%;
  padding: 0.75rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  color: var(--color-text-primary);
  font-size: 1rem;
}

.form-control:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* VTID-01003: Form note styling */
.form-note {
  font-size: 12px;
  color: var(--color-text-secondary);
  margin-top: -8px;
  margin-bottom: 12px;
}

/* VTID-01003: Modal task spec textarea */
.task-spec-modal-textarea {
  min-height: 280px;
  resize: vertical;
  font-family: monospace;
  font-size: 0.9rem;
}

/* Drawer */
.task-drawer {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 12px rgba(0, 0, 0, 0.5);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.task-drawer.open {
  right: 0;
}

.drawer-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--color-bg);
}

.drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

/* --- Sidebar Brand & Profile --- */
/* VTID-01014: Updated header layout with collapse toggle */
.sidebar-brand {
  padding: 1rem 1rem 1rem 1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-text-primary);
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--color-border);
  text-transform: uppercase;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
}

.sidebar-brand .brand-title {
  flex: 1;
}

.sidebar-brand .brand-subtitle {
  font-size: 0.7rem;
  font-weight: 400;
  color: var(--color-text-secondary);
  text-transform: none;
  letter-spacing: 0;
  margin-top: 0.25rem;
}

/* VTID-01014: Collapse toggle in header */
.sidebar-brand .collapse-btn {
  width: 28px;
  height: 28px;
  border-radius: 4px;
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}

.sidebar-brand .collapse-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--color-text-primary);
  border-color: var(--color-text-secondary);
}

.sidebar.collapsed .sidebar-brand {
  padding: 1rem 0.5rem;
  justify-content: center;
}

.sidebar.collapsed .sidebar-brand .collapse-btn {
  margin: 0;
}

/* VTID-01014: Compact profile capsule */
.sidebar-profile {
  padding: 0.75rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  transition: background 0.2s;
}

.sidebar-profile:hover {
  background: rgba(255, 255, 255, 0.05);
}

.sidebar.collapsed .sidebar-profile {
  padding: 0.75rem 0.5rem;
  justify-content: center;
}

/* --- Sidebar Footer (Fixed bottom: Profile + ORB) --- */
/* VTID-01014: Compact footer cluster */
.sidebar-footer {
  flex-shrink: 0;
  background: var(--color-sidebar-bg);
  border-top: 1px solid var(--color-border);
  margin-top: auto;
}

.sidebar-orb-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  padding: 0.5rem 0;
}

.sidebar-profile-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  font-weight: 600;
  color: #fff;
  flex-shrink: 0;
}

.sidebar-profile-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.sidebar-profile-name {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sidebar-profile-role {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* --- Header Right Buttons --- */
.header-right {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.header-btn {
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.header-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.header-btn-primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
}

.header-btn-primary:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

.header-btn-operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-btn-operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* --- Header Toolbar (VTID-0517) --- */

.header-toolbar {
  height: var(--header-height);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  background-color: var(--color-bg);
  gap: 0.75rem;
}

.header-toolbar-left {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
}

.header-toolbar-center {
  flex: 1;
  display: flex;
  justify-content: center;
}

.header-toolbar-right {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* --- Header Buttons (VTID-0517) --- */

.header-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
}

.header-button:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

/* Status button style (Autopilot) */
.header-button--status {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
}

.header-button--status:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

.header-button__label {
  font-weight: 500;
}

/* --- Header Pills (DEV-COMHU-2025-0010: Uniform sizing) --- */

.header-pill {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  height: 32px;
  padding: 0 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border: 1px solid var(--color-border);
  background: transparent;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
}

/* VTID-01180: Badge for notification count */
.header-pill-badge {
  position: absolute;
  top: -6px;
  right: -6px;
  min-width: 18px;
  height: 18px;
  background: #ef4444;
  color: white;
  border-radius: 9px;
  font-size: 10px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0 4px;
  line-height: 1;
  text-transform: none;
  letter-spacing: 0;
}

/* Neutral pill (default state) */
.header-pill--neutral {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
}

.header-pill--neutral:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

/* LIVE pill (green) */
.header-pill--live {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.header-pill--live:hover {
  background: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.5);
}

.header-pill--live .header-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

/* OFFLINE pill (red) */
.header-pill--offline {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.header-pill--offline:hover {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.5);
}

.header-pill--offline .header-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #ef4444;
  border-radius: 50%;
}

/* SPEC-01 DEPRECATED: Publish pill (accent blue) - Now uses header-pill--neutral */
/* DO NOT USE - Violates SPEC-01 Global Top Navigation Standard */
.header-pill--publish {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
}

.header-pill--publish:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* SPEC-01 DEPRECATED: Operator pill (orange accent) - Now uses header-pill--neutral */
/* DO NOT USE - Violates SPEC-01 Global Top Navigation Standard */
.header-pill--operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-pill--operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* Primary button style (Operator, Publish) */
.header-button--primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
  font-weight: 600;
}

.header-button--primary:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* Operator button variant */
.header-button--operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-button--operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* Publish button - slightly less dominant than Operator */
.header-button--publish {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
  font-weight: 500;
  padding: 0.4rem 1rem;
  font-size: 0.8rem;
}

.header-button--publish:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* Clock / Icon Button */
.header-icon-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border-radius: 6px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.header-icon-button:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
  color: var(--color-text-primary);
}

.header-icon-button__icon {
  font-size: 1rem;
  line-height: 1;
}

/* --- SPEC-01: Global Refresh Icon Button --- */
.header-icon-button--refresh {
  /* Same neutral styling as other header icon buttons */
}

.header-icon-button--refresh:hover {
  background: rgba(255, 255, 255, 0.1);
}

.header-icon-button--loading {
  opacity: 0.6;
  cursor: not-allowed;
}

.header-icon-button--loading .header-icon-button__icon {
  animation: spin-refresh 1s linear infinite;
}

@keyframes spin-refresh {
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
}

/* --- LIVE Status Pill (VTID-0517) --- */

.header-live-pill {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.header-live-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

/* --- Version History Dropdown (VTID-0517) --- */

.version-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  width: 360px;
  max-height: 400px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.version-dropdown__title {
  padding: 0.75rem 1rem;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.version-dropdown__list {
  flex: 1;
  overflow-y: auto;
  max-height: 340px;
}

.version-dropdown__item {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--color-border);
  cursor: pointer;
  transition: background 0.2s;
}

.version-dropdown__item:last-child {
  border-bottom: none;
}

.version-dropdown__item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.version-dropdown__item--selected {
  background: rgba(59, 130, 246, 0.1);
  border-left: 3px solid var(--color-accent);
}

.version-dropdown__item-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 0.25rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.version-dropdown__item-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
}

.version-dropdown__item-timestamp {
  color: var(--color-text-secondary);
}

.version-dropdown__item-badge {
  padding: 0.15rem 0.5rem;
  border-radius: 999px;
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.version-dropdown__item-badge--live {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.version-dropdown__item-badge--draft {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.version-dropdown__item-badge--unpublished {
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
}

.version-dropdown__item-badge--unknown {
  background: rgba(148, 163, 184, 0.1);
  color: var(--color-text-secondary);
}

/* VTID-0524: Success/Failure badge styles for deployments */
.version-dropdown__item-badge--success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.version-dropdown__item-badge--failure {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* VTID-0524: History tab status badge styles */
.history-status-badge {
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  text-transform: uppercase;
  font-weight: 600;
}

.history-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.history-status-failed {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* --- Toast Notifications (VTID-0517) --- */

.toast-container {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 3000;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 400px;
}

.toast {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.875rem 1rem;
  border-radius: 8px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  animation: toast-slide-in 0.3s ease-out;
}

@keyframes toast-slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast--info {
  border-left: 3px solid var(--color-accent);
}

.toast--success {
  border-left: 3px solid #10b981;
}

.toast--error {
  border-left: 3px solid #ef4444;
}

.toast__message {
  flex: 1;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  line-height: 1.4;
}

.toast__close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.25rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  transition: color 0.2s;
  flex-shrink: 0;
}

.toast__close:hover {
  color: var(--color-text-primary);
}

/* --- Publish Modal (VTID-0517) --- */

.publish-modal {
  max-width: 450px;
}

.publish-modal__message {
  margin: 0;
  color: var(--color-text-secondary);
  line-height: 1.6;
}

/* --- VTID-0407: Governance Blocked Modal --- */
.governance-blocked-modal {
  max-width: 560px;
}

.governance-blocked-header {
  background: rgba(239, 68, 68, 0.08);
  border-bottom: 1px solid rgba(239, 68, 68, 0.25);
}

.governance-violation-card {
  padding: 12px 14px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.governance-violation-card:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(239, 68, 68, 0.3);
}

.governance-rule-chip {
  padding: 4px 8px;
  background: rgba(96, 165, 250, 0.15);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
  color: #60a5fa;
  font-family: ui-monospace, monospace;
  cursor: pointer;
  transition: all 0.2s ease;
}

.governance-rule-chip:hover {
  background: rgba(96, 165, 250, 0.25);
  border-color: rgba(96, 165, 250, 0.5);
}

.governance-level-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
}

.governance-level-badge--l1 {
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.governance-level-badge--l2 {
  background: rgba(245, 158, 11, 0.15);
  border: 1px solid rgba(245, 158, 11, 0.3);
  color: #f59e0b;
}

.governance-level-badge--l3 {
  background: rgba(96, 165, 250, 0.15);
  border: 1px solid rgba(96, 165, 250, 0.3);
  color: #60a5fa;
}

.governance-level-badge--l4 {
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

/* --- Global Overlays --- */
.overlay-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.overlay-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  max-height: 90vh;
  overflow: hidden;
}

.overlay-header {
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--color-bg);
}

.overlay-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.overlay-subtitle {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-top: 0.25rem;
}

.overlay-close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.25rem;
  line-height: 1;
  transition: color 0.2s;
}

.overlay-close:hover {
  color: var(--color-text-primary);
}

.overlay-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

/* --- Heartbeat Overlay --- */
.heartbeat-overlay {
  width: 500px;
  max-width: 90vw;
}

.heartbeat-section {
  margin-bottom: 1.5rem;
}

.heartbeat-section-title {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.75rem;
}

.heartbeat-status {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.heartbeat-status-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--color-text-secondary);
}

.heartbeat-status-dot.standby {
  background: var(--color-text-secondary);
}

.heartbeat-status-dot.active {
  background: #10b981;
  animation: pulse 2s infinite;
}

.heartbeat-metrics {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.heartbeat-metric {
  padding: 1rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.heartbeat-metric-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  margin-bottom: 0.25rem;
}

.heartbeat-metric-value {
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text-primary);
}

.heartbeat-events {
  padding: 1.5rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Operator Overlay --- */
.operator-overlay {
  width: 70vw;
  min-width: 600px;
  max-width: 1000px;
  height: 80vh;
}

.operator-tabs {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
  padding: 0 1.5rem;
}

.operator-tab {
  padding: 1rem 1.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
  background: transparent;
  border-top: none;
  border-left: none;
  border-right: none;
}

.operator-tab:hover {
  color: var(--color-text-primary);
}

.operator-tab.active {
  color: var(--color-operator);
  border-bottom-color: var(--color-operator);
}

.operator-tab-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Chat UI */
.chat-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.chat-messages {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  overflow-y: auto;
  max-height: 65vh;
  padding: 1.5rem;
}

/* VTID-0526: Message bubble styles */
.message-bubble {
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  font-size: 0.9rem;
  line-height: 1.25rem;
  max-width: 80%;
  word-break: break-word;
}

.message-sent {
  align-self: flex-end;
  background-color: #2a7bff;
  color: white;
}

.message-reply {
  align-self: flex-start;
  background-color: #2a2a2a;
  color: #e0e0e0;
}

.message-error {
  background-color: #5c1a1a;
  color: #ff6a6a;
}

.timestamp {
  font-size: 0.7rem;
  opacity: 0.6;
  margin-top: 2px;
}

.chat-message {
  display: flex;
  flex-direction: column;
  max-width: 80%;
}

.chat-message.user {
  align-self: flex-end;
}

.chat-message.system {
  align-self: flex-start;
}

.chat-message-bubble {
  padding: 0.75rem 1rem;
  border-radius: 12px;
  font-size: 0.9rem;
  line-height: 1.5;
}

.chat-message.user .chat-message-bubble {
  background: var(--color-accent);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.chat-message.system .chat-message-bubble {
  background: var(--color-bg);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-bottom-left-radius: 4px;
}

.chat-message-time {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-top: 0.25rem;
  padding: 0 0.5rem;
}

.chat-input-container {
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  gap: 0.75rem;
  background: var(--color-bg);
}

.chat-input {
  flex: 1;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  resize: none;
}

.chat-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.chat-send-btn {
  padding: 0.75rem 1.5rem;
  background: var(--color-operator);
  border: none;
  border-radius: 8px;
  color: #000;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.chat-send-btn:hover {
  background: #d97706;
}

/* Live Ticker UI */
.ticker-container {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.ticker-item {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.ticker-item:last-child {
  border-bottom: none;
}

.ticker-timestamp {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
  min-width: 80px;
}

.ticker-content {
  flex: 1;
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

.ticker-type {
  font-size: 0.7rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.ticker-type.info {
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
}

.ticker-type.system {
  background: rgba(148, 163, 184, 0.2);
  color: var(--color-text-secondary);
}

.ticker-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* DEV-COMHU-0202: Deploy Event Badges in Ticker */
.ticker-vtid {
  font-size: 0.65rem;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  background: rgba(99, 102, 241, 0.2);
  color: #a5b4fc;
  font-weight: 500;
  white-space: nowrap;
}

.ticker-swv {
  font-size: 0.65rem;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  background: rgba(16, 185, 129, 0.2);
  color: #6ee7b7;
  font-weight: 500;
  white-space: nowrap;
}

.ticker-item-success {
  border-left: 3px solid #10b981;
  background: rgba(16, 185, 129, 0.05);
}

.ticker-item-error {
  border-left: 3px solid #ef4444;
  background: rgba(239, 68, 68, 0.05);
}

.ticker-type-deploy {
  background: rgba(168, 85, 247, 0.2);
  color: #c4b5fd;
}

.ticker-type-governance {
  background: rgba(245, 158, 11, 0.2);
  color: #fcd34d;
}

/* DEV-COMHU-0202: Task Event History Styles */
.task-event-history {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.task-event-history-heading {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin: 0 0 0.75rem 0;
  font-weight: 500;
}

.task-event-history-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-event-history-item {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 4px;
  font-size: 0.75rem;
  align-items: center;
}

.task-event-history-item-success {
  border-left: 2px solid #10b981;
}

.task-event-history-item-error {
  border-left: 2px solid #ef4444;
}

.task-event-history-time {
  color: var(--color-text-secondary);
  min-width: 70px;
}

.task-event-history-topic {
  color: var(--color-accent);
  font-weight: 500;
}

.task-event-history-swv {
  font-size: 0.65rem;
  padding: 0.1rem 0.35rem;
  border-radius: 3px;
  background: rgba(16, 185, 129, 0.2);
  color: #6ee7b7;
}

.task-event-history-message {
  width: 100%;
  color: var(--color-text-secondary);
  font-size: 0.7rem;
  margin-top: 0.25rem;
  opacity: 0.85;
}

.task-event-history-empty {
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  opacity: 0.7;
  padding: 0.5rem 0;
}

/* History Tab */
.history-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Utility Classes (CSP-compliant replacements for inline styles) --- */
.module-content-wrapper {
  flex: 1;
  overflow: hidden;
}

.split-pane-header {
  padding: 0.5rem 1rem;
  background: var(--color-sidebar-bg);
  border-bottom: 1px solid var(--color-border);
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
}

.split-pane-content {
  flex: 1;
  overflow: hidden;
}

.content-container {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.placeholder-content {
  padding: 2rem;
  color: var(--color-text-secondary);
}

.tasks-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.date-filter-input {
  width: auto;
  margin-left: 1rem;
}

.refresh-btn-margin {
  margin-left: 0.5rem;
}

.drawer-title-text {
  margin: 0;
  font-size: 1.25rem;
  color: var(--color-accent);
}

.drawer-close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
}

.task-summary-text {
  color: var(--color-text-primary);
}

.task-details-block {
  margin-top: 2rem;
  color: var(--color-text-secondary);
}

.docs-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.docs-toolbar {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.docs-toolbar-label {
  font-weight: 600;
  margin-right: 0.5rem;
}

.role-btn-active {
  background: var(--color-accent);
  color: #fff;
}

.docs-content {
  flex: 1;
  overflow: auto;
  padding: 1rem;
}

.docs-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.docs-table-row-alt {
  background: var(--color-sidebar-bg);
}

.docs-summary {
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  background: var(--color-sidebar-bg);
  border-radius: 4px;
  font-size: 0.875rem;
}

.chat-empty-state {
  text-align: center;
  color: var(--color-text-secondary);
  padding: 2rem;
}

.error-text {
  color: #ef4444;
}

.docs-table-header {
  background: var(--color-sidebar-bg);
  text-align: left;
}

.docs-table-cell {
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
}

.docs-table-code {
  background: var(--color-sidebar-bg);
  padding: 2px 6px;
  border-radius: 3px;
}

/* Autopilot status text */
.autopilot-status-text {
  font-size: 0.7em;
  opacity: 0.8;
}

/* Critical error display */
.critical-error {
  color: #ef4444;
  padding: 2rem;
}

.critical-error h1 {
  margin-bottom: 1rem;
}

.critical-error pre {
  background: var(--color-sidebar-bg);
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  font-size: 0.875rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .operator-overlay {
    width: 95vw;
    min-width: auto;
    height: 90vh;
  }

  .heartbeat-metrics {
    grid-template-columns: 1fr;
  }
}

/* --- VTID-0509: Operator Console Enhancements --- */

/* Heartbeat Live State */
.heartbeat-chip.heartbeat-live {
  background: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.4);
  color: #10b981;
  animation: heartbeat-pulse 2s infinite;
}

@keyframes heartbeat-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
  50% { box-shadow: 0 0 0 4px rgba(16, 185, 129, 0); }
}

/* Live Ticker Button */
.header-btn-ticker {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.3);
  color: var(--color-accent);
}

.header-btn-ticker:hover {
  background: rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.5);
}

/* Ticker Status Banner */
.ticker-status-banner {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.ticker-status-banner.ticker-live {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, var(--color-bg) 100%);
  border-bottom-color: rgba(16, 185, 129, 0.3);
}

.ticker-status-banner.ticker-standby {
  background: var(--color-bg);
}

.ticker-status-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.ticker-status-tasks {
  margin-top: 0.5rem;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.ticker-status-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
}

.ticker-status-value {
  font-weight: 600;
  font-size: 0.85rem;
}

.ticker-status-value.status-live {
  color: #10b981;
}

.ticker-status-value.status-standby {
  color: var(--color-text-secondary);
}

.ticker-status-value.status-ok {
  color: #10b981;
}

/* VTID-01210: Summary view progress counter */
.ticker-summary-row {
  gap: 0.75rem;
}

.ticker-progress-counter {
  display: flex;
  align-items: baseline;
  gap: 0.35rem;
  background: rgba(16, 185, 129, 0.1);
  padding: 0.25rem 0.75rem;
  border-radius: 6px;
  margin-left: 0.5rem;
}

.ticker-progress-completed {
  font-size: 1.25rem;
  font-weight: 700;
  color: #10b981;
}

.ticker-progress-of {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.ticker-progress-total {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.ticker-progress-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  margin-left: 0.25rem;
}

.ticker-hint {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.ticker-events-list {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem 0;
}

/* Ticker type colors */
.ticker-type-operator {
  background: rgba(245, 158, 11, 0.2);
  color: var(--color-operator);
}

.ticker-type-gateway {
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
}

.ticker-type-deploy {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.ticker-type-cicd {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
}

/* VTID-0407: Governance ticker type */
.ticker-type-governance {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
}

/* Chat Textarea */
.chat-textarea {
  flex: 1;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  font-family: inherit;
  resize: none;
  min-height: 60px;
}

.chat-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Chat Attachment Button */
.chat-attach-btn {
  position: relative;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.2rem;
  transition: all 0.2s;
}

.chat-attach-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.chat-attach-menu {
  position: absolute;
  bottom: 100%;
  left: 0;
  margin-bottom: 0.5rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
  z-index: 100;
  min-width: 100px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  display: none;
}

.chat-attach-menu.menu-open {
  display: block;
}

.attach-option {
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 0.85rem;
}

.attach-option:hover {
  background: rgba(255, 255, 255, 0.05);
}

/* Chat Attachments Preview */
.chat-attachments-preview {
  padding: 0.5rem 1rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.attachment-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 999px;
  font-size: 0.75rem;
  color: var(--color-accent);
}

.attachment-chip.attachment-image {
  background: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.attachment-chip.attachment-video {
  background: rgba(168, 85, 247, 0.15);
  border-color: rgba(168, 85, 247, 0.3);
  color: #a855f7;
}

.attachment-chip.attachment-file {
  background: rgba(245, 158, 11, 0.15);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.attachment-remove {
  cursor: pointer;
  opacity: 0.7;
  font-weight: bold;
}

.attachment-remove:hover {
  opacity: 1;
}

.chat-message-attachments {
  margin-top: 0.5rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.chat-message.error .chat-message-bubble {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

/* History Tab */
.history-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.history-header span {
  font-weight: 600;
}

.history-refresh-btn {
  padding: 0.35rem 0.75rem;
  font-size: 0.8rem;
}

.history-content {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.history-loading,
.history-error,
.history-empty {
  text-align: center;
  padding: 2rem;
  color: var(--color-text-secondary);
}

.history-error {
  color: #ef4444;
}

.history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.history-table th,
.history-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.history-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  font-size: 0.7rem;
  letter-spacing: 0.5px;
}

.history-table tbody tr:hover {
  background: rgba(255, 255, 255, 0.02);
}

.history-type {
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-accent);
}

.history-vtid {
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-operator);
}

.history-time {
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  white-space: nowrap;
}

.history-summary {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.history-status {
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  text-transform: uppercase;
  font-weight: 600;
}

.history-status-info {
  background: rgba(59, 130, 246, 0.15);
  color: var(--color-accent);
}

.history-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.history-status-warning {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-operator);
}

.history-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* --- VTID-0520: CI/CD Health Indicator --- */

.cicd-health-indicator {
  position: relative;
  display: flex;
  align-items: center;
  margin-right: 0.75rem;
}

.cicd-health-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  border-radius: 8px;
  border: 1px solid var(--color-border);
  background: transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cicd-health-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.cicd-health-btn:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
}

.cicd-health-icon {
  font-size: 1.25rem;
  line-height: 1;
  transition: transform 0.2s ease;
}

/* Healthy state - green heartbeat */
.cicd-health-btn--healthy {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
}

.cicd-health-btn--healthy:hover {
  background: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.5);
}

.cicd-health-btn--healthy .cicd-health-icon {
  color: #10b981;
  animation: cicd-heartbeat 1.5s ease-in-out infinite;
}

/* Error state - red heartbeat */
.cicd-health-btn--error {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
}

.cicd-health-btn--error:hover {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.5);
}

.cicd-health-btn--error .cicd-health-icon {
  color: #ef4444;
  animation: cicd-heartbeat-error 0.8s ease-in-out infinite;
}

/* VTID-0541 D4: Warning state - yellow/amber (governance limited, runtime OK) */
.cicd-health-btn--warning {
  background: rgba(251, 191, 36, 0.1);
  border-color: rgba(251, 191, 36, 0.3);
}

.cicd-health-btn--warning:hover {
  background: rgba(251, 191, 36, 0.2);
  border-color: rgba(251, 191, 36, 0.5);
}

.cicd-health-btn--warning .cicd-health-icon {
  color: #fbbf24;
  animation: cicd-heartbeat 1.5s ease-in-out infinite;
}

/* Loading state - gray pulsing */
.cicd-health-btn--loading {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
}

.cicd-health-btn--loading .cicd-health-icon {
  color: var(--color-text-secondary);
  animation: cicd-pulse 1s ease-in-out infinite;
}

/* Unknown state - gray */
.cicd-health-btn--unknown {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
}

.cicd-health-btn--unknown .cicd-health-icon {
  color: var(--color-text-secondary);
}

/* Heartbeat animation for healthy state */
@keyframes cicd-heartbeat {
  0%, 100% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.15);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.15);
  }
  56% {
    transform: scale(1);
  }
}

/* Faster heartbeat for error state */
@keyframes cicd-heartbeat-error {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

/* Pulse animation for loading */
@keyframes cicd-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

/* --- CI/CD Health Tooltip (VTID-0520) --- */

.cicd-health-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  width: 280px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  overflow: hidden;
  animation: cicd-tooltip-fade-in 0.15s ease-out;
}

@keyframes cicd-tooltip-fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.cicd-health-tooltip__header {
  padding: 0.75rem 1rem;
  background: var(--color-bg);
  border-bottom: 1px solid var(--color-border);
}

.cicd-health-tooltip__status {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  font-weight: 600;
}

.cicd-health-tooltip__status--healthy {
  color: #10b981;
}

.cicd-health-tooltip__status--error {
  color: #ef4444;
}

/* VTID-0541 D4: Warning status for governance limited */
.cicd-health-tooltip__status--warning {
  color: #fbbf24;
}

.cicd-health-tooltip__details {
  padding: 0.75rem 1rem;
}

.cicd-health-tooltip__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.35rem 0;
  font-size: 0.8rem;
}

.cicd-health-tooltip__label {
  color: var(--color-text-secondary);
}

.cicd-health-tooltip__value {
  color: var(--color-text-primary);
  font-weight: 500;
}

.cicd-health-tooltip__value--yes {
  color: #10b981;
}

.cicd-health-tooltip__value--no {
  color: #ef4444;
}

.cicd-health-tooltip__caps-header {
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 0.75rem;
  margin-bottom: 0.25rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--color-border);
}

.cicd-health-tooltip__error {
  padding: 0.75rem 1rem;
  color: #ef4444;
  font-size: 0.8rem;
}

.cicd-health-tooltip__loading {
  padding: 0.75rem 1rem;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  text-align: center;
}

.cicd-health-tooltip__footer {
  padding: 0.5rem 1rem;
  background: var(--color-bg);
  border-top: 1px solid var(--color-border);
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  text-align: right;
}

/* --- VTID-0401: Governance Rules Catalog --- */

.governance-rules-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.governance-rules-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.governance-rules-search {
  min-width: 250px;
  flex: 1;
  max-width: 400px;
}

.governance-filter-select {
  width: auto !important;
  min-width: 140px;
  max-width: 200px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  flex-shrink: 0;
}

.governance-filter-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

.governance-rules-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.governance-rules-loading {
  padding: 2rem;
}

.skeleton-table {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.skeleton-row {
  height: 48px;
  background: linear-gradient(90deg, var(--color-sidebar-bg) 25%, var(--color-border) 50%, var(--color-sidebar-bg) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes skeleton-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.governance-rules-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.governance-rules-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.governance-rules-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.governance-rules-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.governance-rules-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.governance-rules-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.governance-rules-table th.sortable {
  cursor: pointer;
  user-select: none;
}

.governance-rules-table th.sortable:hover {
  color: var(--color-text-primary);
}

.governance-rule-row {
  cursor: pointer;
  transition: background 0.15s ease;
}

.governance-rule-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.governance-rules-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.rule-id-cell {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
  font-weight: 500;
}

.domain-cell {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.title-cell {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.updated-cell {
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  white-space: nowrap;
}

/* Level badges */
.level-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.level-l1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.level-l2 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.level-l3 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.level-l4 {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

/* Status badges */
.status-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.status-active {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.status-draft {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

.status-deprecated {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.status-proposal {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

/* VTID chips */
.vtids-cell {
  white-space: nowrap;
}

.vtid-chip {
  display: inline-block;
  padding: 0.125rem 0.375rem;
  margin-right: 0.25rem;
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 3px;
  font-size: 0.7rem;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  color: var(--color-accent);
}

.vtid-more {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
}

.vtid-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

/* Domain badge for detail drawer */
.domain-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

/* Enforcement chips */
.enforcement-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

.enforcement-chip {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  background: rgba(139, 92, 246, 0.1);
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 4px;
  font-size: 0.75rem;
  color: #8b5cf6;
}

/* Sources list */
.sources-list {
  margin: 0;
  padding-left: 1.25rem;
  list-style-type: disc;
}

.sources-list li {
  margin-bottom: 0.375rem;
}

.sources-list code {
  background: var(--color-sidebar-bg);
  padding: 0.125rem 0.375rem;
  border-radius: 3px;
  font-size: 0.8rem;
  word-break: break-all;
}

/* Governance Rule Detail Drawer */
.governance-rule-drawer {
  position: fixed;
  top: 0;
  right: -500px;
  width: 500px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.governance-rule-drawer.open {
  right: 0;
}

.rule-detail-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.rule-detail-section {
  margin-bottom: 1.25rem;
}

.rule-detail-section h3 {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--color-text-secondary);
  margin: 0 0 0.5rem 0;
}

.rule-detail-section p {
  margin: 0;
  line-height: 1.6;
  color: var(--color-text-primary);
}

/* --- VTID-0405: Source badges and enforcement semantics --- */

/* Source badges (SYSTEM vs CATALOG) */
.source-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.source-system {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.source-catalog {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

/* Enforcement semantics display */
.enforcement-semantics {
  padding: 0.75rem 1rem;
  border-radius: 6px;
  font-size: 0.875rem;
  line-height: 1.5;
}

.enforcement-hard {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: #fca5a5;
}

.enforcement-soft {
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  color: #93c5fd;
}

.enforcement-info {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.2);
  color: #fcd34d;
}

/* --- VTID-0526-D: Stage Counters Styling --- */

/* Stage counter row in ticker status banner */
.ticker-stage-counters {
  display: flex;
  gap: 0.75rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--color-border);
}

.stage-counter {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  cursor: default;
}

.stage-icon {
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 3px;
  font-weight: 700;
  font-size: 0.7rem;
}

.stage-count {
  min-width: 20px;
  text-align: center;
}

/* Stage-specific colors */
.stage-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.stage-planner .stage-icon {
  background: #3b82f6;
  color: white;
}

.stage-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
}

.stage-worker .stage-icon {
  background: #f59e0b;
  color: white;
}

.stage-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
}

.stage-validator .stage-icon {
  background: #8b5cf6;
  color: white;
}

.stage-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
}

.stage-deploy .stage-icon {
  background: #10b981;
  color: white;
}

/* Stage badges in ticker event items */
.ticker-stage {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  font-weight: 700;
  font-size: 0.65rem;
  flex-shrink: 0;
  margin-right: 0.5rem;
}

.ticker-stage-planner {
  background: #3b82f6;
  color: white;
}

.ticker-stage-worker {
  background: #f59e0b;
  color: white;
}

.ticker-stage-validator {
  background: #8b5cf6;
  color: white;
}

.ticker-stage-deploy {
  background: #10b981;
  color: white;
}

/* --- VTID-0527: Task Stage Timeline Styles --- */

/* Card-level stage timeline pills */
.task-stage-timeline {
  display: flex;
  gap: 4px;
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--color-border);
}

.task-stage-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 4px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  transition: all 0.2s ease;
}

/* Stage-specific base colors */
.task-stage-pill-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.task-stage-pill-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.task-stage-pill-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.task-stage-pill-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

/* Completed state - solid fill */
.task-stage-pill-completed.task-stage-pill-planner {
  background: #3b82f6;
  color: white;
  border-color: #3b82f6;
}

.task-stage-pill-completed.task-stage-pill-worker {
  background: #f59e0b;
  color: white;
  border-color: #f59e0b;
}

.task-stage-pill-completed.task-stage-pill-validator {
  background: #8b5cf6;
  color: white;
  border-color: #8b5cf6;
}

.task-stage-pill-completed.task-stage-pill-deploy {
  background: #10b981;
  color: white;
  border-color: #10b981;
}

/* Current state - highlighted with pulse */
.task-stage-pill-current {
  box-shadow: 0 0 0 2px var(--color-bg), 0 0 0 4px currentColor;
  animation: stage-pulse 2s ease-in-out infinite;
}

@keyframes stage-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* Pending state - muted */
.task-stage-pill-pending {
  opacity: 0.4;
}

/* --- Task Stage Detail (Drawer) --- */

.task-stage-detail {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.task-stage-detail-heading {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 1rem 0;
}

.task-stage-detail-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-stage-detail-item {
  padding: 0.75rem;
  background: var(--color-bg);
  border-radius: 8px;
  border-left: 3px solid var(--color-border);
}

/* VTID-0530: Added -success alias for -completed */
.task-stage-detail-item-completed,
.task-stage-detail-item-success {
  border-left-color: #10b981;
  background: rgba(16, 185, 129, 0.05);
}

.task-stage-detail-item-current {
  border-left-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
}

.task-stage-detail-item-pending {
  border-left-color: var(--color-border);
  opacity: 0.6;
}

.task-stage-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;
}

.task-stage-detail-stage {
  font-weight: 600;
  font-size: 0.8rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

.task-stage-detail-stage-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.task-stage-detail-stage-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
}

.task-stage-detail-stage-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
}

.task-stage-detail-stage-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
}

.task-stage-detail-status {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
}

/* VTID-0530: Added -success alias for -completed */
.task-stage-detail-status-completed,
.task-stage-detail-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.task-stage-detail-status-current {
  background: rgba(59, 130, 246, 0.15);
  color: var(--color-accent);
}

.task-stage-detail-status-pending {
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
}

.task-stage-detail-meta {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-top: 0.5rem;
}

.task-stage-detail-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.task-stage-detail-message {
  font-size: 0.8rem;
  color: var(--color-text-primary);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* --- VTID-0529-B: Hard Bundle Fingerprint UI --- */
/* Banner at top + footer label at bottom-right to prove which bundle is served */

.bundle-fingerprint-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding: 6px 12px;
  text-align: center;
  font-size: 12px;
  letter-spacing: 0.06em;
  background: rgba(255, 196, 0, 0.18);
  border-bottom: 1px solid rgba(255, 196, 0, 0.4);
  color: #ffcc33;
  z-index: 9999;
  pointer-events: none;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-weight: 600;
}

.bundle-fingerprint-footer {
  position: fixed;
  bottom: 8px;
  right: 12px;
  font-size: 10px;
  opacity: 0.7;
  z-index: 9999;
  pointer-events: none;
  color: var(--color-text-secondary);
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: rgba(0, 0, 0, 0.3);
  padding: 2px 6px;
  border-radius: 3px;
}

/* VTID-0539: Hide bundle fingerprint banner and footer for cleaner chat experience */
.bundle-fingerprint-banner,
.bundle-fingerprint-footer {
  display: none !important;
}

/* VTID-0527: Additional stage detail styles */

.task-stage-detail-loading {
  padding: 1rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.task-stage-detail-item-error {
  border-left-color: #ef4444;
  background: rgba(239, 68, 68, 0.08);
}

.task-stage-detail-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.task-stage-detail-time-completed {
  color: #10b981;
}

.task-stage-detail-time-error {
  color: #ef4444;
}

/* --- VTID-0527: VTID Stage Timeline Visual Component --- */

.vtid-stage-timeline {
  margin-top: 12px;
  padding: 12px 16px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.04);
}

.vtid-stage-timeline-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.vtid-stage-timeline-item:last-child {
  border-bottom: none;
}

.vtid-stage-timeline-item-marker {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  margin-top: 4px;
  flex-shrink: 0;
}

/* Status colors for timeline markers */
/* VTID-0530: Added --success alias for --completed */
.vtid-stage-timeline-item-marker--completed,
.vtid-stage-timeline-item-marker--success {
  background: #10b981;
  box-shadow: 0 0 4px rgba(16, 185, 129, 0.4);
}

.vtid-stage-timeline-item-marker--running {
  background: #f59e0b;
  box-shadow: 0 0 4px rgba(245, 158, 11, 0.4);
  animation: marker-pulse 1.5s ease-in-out infinite;
}

.vtid-stage-timeline-item-marker--pending {
  background: #4b5563;
  opacity: 0.5;
}

.vtid-stage-timeline-item-marker--error {
  background: #ef4444;
  box-shadow: 0 0 4px rgba(239, 68, 68, 0.4);
}

@keyframes marker-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.1);
  }
}

.vtid-stage-timeline-item-main {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
}

.vtid-stage-timeline-item-title {
  font-weight: 500;
  font-size: 0.8rem;
  color: var(--color-text-primary);
}

.vtid-stage-timeline-item-meta {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  opacity: 0.8;
}

/* --- VTID-01209: Task Execution Status Component --- */

.task-execution-status {
  padding: 12px 16px;
  border-radius: 8px;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(99, 102, 241, 0.05) 100%);
  border: 1px solid rgba(59, 130, 246, 0.2);
  margin-bottom: 16px;
}

.task-execution-status-ticker-inline {
  padding: 8px 12px;
  margin-bottom: 8px;
  background: rgba(59, 130, 246, 0.06);
  border-radius: 6px;
}

.task-execution-status-ticker-card {
  padding: 12px;
  margin-bottom: 12px;
  background: rgba(59, 130, 246, 0.08);
  border-radius: 8px;
  border: 1px solid rgba(59, 130, 246, 0.15);
}

.execution-status-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
}

.execution-status-live-badge {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 2px 8px;
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  color: #ef4444;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.execution-status-live-badge .live-dot {
  width: 6px;
  height: 6px;
  background: #ef4444;
  border-radius: 50%;
  animation: live-pulse 1.5s ease-in-out infinite;
}

@keyframes live-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.5; transform: scale(0.8); }
}

.execution-status-vtid {
  font-weight: 600;
  font-size: 14px;
  color: var(--color-text-primary);
}

.execution-status-badge {
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 500;
  text-transform: capitalize;
}

.execution-status-badge-in_progress,
.execution-status-badge-running,
.execution-status-badge-active {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.execution-status-badge-completed,
.execution-status-badge-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.execution-status-badge-failed,
.execution-status-badge-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.execution-status-badge-scheduled,
.execution-status-badge-allocated {
  background: rgba(99, 102, 241, 0.15);
  color: #6366f1;
}

.execution-status-progress {
  margin-bottom: 12px;
}

.execution-step-counter {
  font-size: 13px;
  margin-bottom: 6px;
  color: var(--color-text-secondary);
}

.execution-step-counter .step-current {
  font-weight: 600;
  color: var(--color-text-primary);
}

.execution-step-counter .step-separator {
  opacity: 0.7;
}

.execution-step-counter .step-total {
  opacity: 0.8;
}

.execution-progress-bar {
  position: relative;
  height: 8px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
  overflow: hidden;
}

.execution-progress-bar-active {
  background: rgba(255, 255, 255, 0.08);
}

.execution-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #3b82f6 0%, #6366f1 100%);
  border-radius: 4px;
  transition: width 0.5s ease-out;
}

.execution-progress-bar-active .execution-progress-fill {
  background: linear-gradient(90deg, #f59e0b 0%, #f97316 100%);
  animation: progress-shimmer 2s ease-in-out infinite;
}

@keyframes progress-shimmer {
  0% { opacity: 1; }
  50% { opacity: 0.7; }
  100% { opacity: 1; }
}

.execution-progress-text {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  font-size: 10px;
  font-weight: 600;
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

.execution-current-step {
  margin-bottom: 12px;
}

.execution-current-label {
  font-size: 11px;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 4px;
}

.execution-current-name {
  font-size: 13px;
  color: var(--color-text-primary);
  word-break: break-word;
  line-height: 1.4;
}

.execution-meta-row {
  display: flex;
  align-items: center;
  gap: 12px;
  margin-top: 8px;
}

.execution-stage-badge {
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
}

.execution-stage-planner {
  background: rgba(99, 102, 241, 0.15);
  color: #6366f1;
}

.execution-stage-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.execution-stage-validator {
  background: rgba(14, 165, 233, 0.15);
  color: #0ea5e9;
}

.execution-stage-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.execution-stage-unknown {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
}

.execution-elapsed {
  font-size: 12px;
  color: var(--color-text-secondary);
}

.execution-recent-events {
  padding-top: 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.08);
}

.execution-recent-label {
  font-size: 11px;
  color: var(--color-text-tertiary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 8px;
}

.execution-recent-list {
  display: flex;
  flex-direction: column;
  gap: 4px;
}

.execution-recent-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  padding: 4px 0;
  color: var(--color-text-secondary);
}

.execution-recent-item-latest {
  color: var(--color-text-primary);
}

.execution-recent-icon {
  width: 16px;
  text-align: center;
  font-size: 12px;
}

.execution-recent-icon.icon-success {
  color: #10b981;
}

.execution-recent-icon.icon-error {
  color: #ef4444;
}

.execution-recent-icon.icon-info {
  color: #6366f1;
}

.execution-recent-name {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.execution-recent-time {
  font-size: 11px;
  color: var(--color-text-tertiary);
  white-space: nowrap;
}

.execution-last-updated {
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  font-size: 10px;
  color: var(--color-text-tertiary);
  text-align: right;
}

.execution-status-loading {
  padding: 16px;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 13px;
}

/* --- VTID-01172: Admin Dev Users (exafy_admin toggle) --- */

.admin-dev-users-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.admin-dev-users-header {
  margin-bottom: 1.5rem;
}

.admin-dev-users-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.admin-dev-users-subtitle {
  margin: 0.5rem 0 0 0;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
}

.admin-dev-users-toolbar {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.admin-dev-users-search {
  min-width: 200px;
  max-width: 300px;
}

.admin-dev-users-grant-input {
  min-width: 250px;
  max-width: 350px;
}

.admin-dev-users-count {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
}

.admin-dev-users-content {
  flex: 1;
  overflow: auto;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.admin-dev-users-loading,
.admin-dev-users-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

.admin-dev-users-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
  margin: 1rem;
}

.admin-dev-users-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.admin-dev-users-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.admin-dev-users-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.admin-dev-users-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.admin-dev-users-table tbody tr:hover {
  background: rgba(59, 130, 246, 0.1);
}

.admin-dev-users-email {
  font-weight: 500;
  color: var(--color-text-primary);
}

.admin-dev-users-id {
  font-family: monospace;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.admin-dev-users-status-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.admin-dev-users-status-badge.status-active {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
}

.admin-dev-users-updated {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.btn-danger {
  background: rgba(239, 68, 68, 0.1);
  border-color: #ef4444;
  color: #ef4444;
}

.btn-danger:hover {
  background: #ef4444;
  color: white;
}

.btn-sm {
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
}

.btn-secondary {
  background: var(--color-sidebar-bg);
  border-color: var(--color-border);
  color: var(--color-text-primary);
}

.btn-secondary:hover {
  background: var(--color-border);
}

/* --- VTID-0406: Governance Evaluations Viewer --- */

.gov-evals-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-evals-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.gov-evals-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.gov-evals-loading {
  padding: 2rem;
}

.gov-evals-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-evals-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-evals-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-evals-empty p {
  margin: 0.5rem 0;
}

.gov-evals-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

.gov-evals-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-evals-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-evals-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-evals-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-eval-row {
  transition: background 0.15s ease;
}

.gov-eval-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-evals-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-eval-timestamp {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.gov-eval-action {
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.gov-eval-service {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.gov-eval-env {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

/* Result badges - Allow (green) / Deny (red) */
.gov-eval-allow {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-eval-deny {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-eval-rules {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

.gov-eval-no-violations {
  color: var(--color-text-secondary);
  opacity: 0.5;
}

/* Rule chips with level badges */
.gov-rule-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  cursor: pointer;
  transition: all 0.15s ease;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
}

.gov-rule-chip:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.gov-rule-chip-id {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-weight: 500;
}

.gov-rule-chip-level {
  padding: 0.1rem 0.25rem;
  border-radius: 2px;
  font-weight: 700;
  font-size: 0.65rem;
}

/* Level-specific chip colors - L1 red, L2 blue, L3 amber, L4 purple */
.gov-rule-chip-l1 {
  border-color: rgba(239, 68, 68, 0.4);
}

.gov-rule-chip-l1 .gov-rule-chip-level {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

.gov-rule-chip-l2 {
  border-color: rgba(59, 130, 246, 0.4);
}

.gov-rule-chip-l2 .gov-rule-chip-level {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
}

.gov-rule-chip-l3 {
  border-color: rgba(245, 158, 11, 0.4);
}

.gov-rule-chip-l3 .gov-rule-chip-level {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
}

.gov-rule-chip-l4 {
  border-color: rgba(139, 92, 246, 0.4);
}

.gov-rule-chip-l4 .gov-rule-chip-level {
  background: rgba(139, 92, 246, 0.2);
  color: #8b5cf6;
}

/* --- VTID-0408: Governance History Timeline --- */

.gov-history-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-history-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.gov-history-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.gov-history-loading {
  padding: 2rem;
}

.gov-history-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-history-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-history-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-history-empty p {
  margin: 0.5rem 0;
}

.gov-history-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

.gov-history-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-history-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-history-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-history-row {
  transition: background 0.15s ease;
  cursor: pointer;
}

.gov-history-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-history-row:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

.gov-history-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-history-timestamp {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.gov-history-summary {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.gov-history-no-level {
  color: var(--color-text-secondary);
  opacity: 0.5;
}

.gov-history-details-cell {
  width: 40px;
  text-align: center;
}

.gov-history-chevron {
  font-size: 1.25rem;
  color: var(--color-text-secondary);
  transition: transform 0.2s ease;
}

.gov-history-row:hover .gov-history-chevron {
  transform: translateX(3px);
  color: var(--color-accent);
}

/* Event Type Badges */
.gov-history-type-badge {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-history-type-blocked {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-history-type-allowed {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-history-type-evaluate {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-history-type-rule {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

.gov-history-type-default {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Actor Badges */
.gov-history-actor-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: capitalize;
}

.gov-history-actor-operator {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-history-actor-autopilot {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.gov-history-actor-validator {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.gov-history-actor-system {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Load More Button */
.gov-history-load-more {
  margin-top: 1rem;
  width: 100%;
  padding: 0.75rem;
}

/* History Event Drawer */
.gov-history-drawer {
  position: fixed;
  top: 0;
  right: -500px;
  width: 500px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.gov-history-drawer.open {
  right: 0;
}

.gov-history-drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.gov-history-drawer-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
  color: var(--color-text-primary);
}

.gov-history-drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

.gov-history-drawer-section {
  margin-bottom: 1.5rem;
}

.gov-history-drawer-section h3 {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--color-text-secondary);
  margin: 0 0 0.5rem 0;
}

.gov-history-drawer-section p {
  margin: 0;
  line-height: 1.6;
  color: var(--color-text-primary);
}

.gov-history-drawer-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.gov-history-rules-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.gov-history-context-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.gov-history-context-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.gov-history-context-item .label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  min-width: 60px;
}

.gov-history-context-item .value {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.gov-history-json-section {
  margin-top: 2rem;
}

.gov-history-json {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 1rem;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.75rem;
  overflow-x: auto;
  max-height: 300px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
  color: var(--color-text-secondary);
}

/* ==========================================================================
   VTID-0150-A: ORB UI & Interaction Shell (Global Assistant Overlay)
   ========================================================================== */

/* --- ORB Variables --- */
:root {
  --orb-outer: #5a6a8a;
  --orb-mid: #4a5a7a;
  --orb-core: #3a4a6a;
  --orb-highlight: rgba(140, 160, 200, 0.4);
  --orb-glow: rgba(90, 110, 150, 0.5);
  --orb-size-idle: 72px;
  --orb-size-large: 280px;
  --orb-z-idle: 850;
  --orb-z-overlay: 2500;
  --orb-z-drawer: 2600;
  /* VTID-01064: ORB Status Aura Variables */
  --orb-glow-ready: rgba(20, 184, 166, 0.6);
  --orb-glow-listening: rgba(59, 130, 246, 0.6);
  --orb-glow-thinking: rgba(139, 92, 246, 0.6);
  --orb-glow-speaking: rgba(245, 158, 11, 0.6);
  --orb-glow-paused: rgba(107, 114, 128, 0.4);
  --orb-glow-connecting: rgba(226, 232, 240, 0.6);
  --orb-glow-error: rgba(239, 68, 68, 0.5);
  --orb-aura-opacity-base: 0.4;
  --orb-aura-opacity-active: 0.8;
  /* VTID-01067: Aura intensity levels */
  --orb-aura-radius-ready: 140%;
  --orb-aura-radius-active: 160%;
  --orb-aura-radius-error: 120%;
  --orb-aura-intensity-ready: 0.4;
  --orb-aura-intensity-active: 0.6;
  --orb-aura-intensity-speaking: 0.8;
}

/* --- ORB Container (Global Overlay Layer) --- */
.orb-layer {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: var(--orb-z-idle);
}

/* --- ORB Idle State (Floating Sphere - Nebula Style) --- */
.orb-idle {
  position: relative;
  width: var(--orb-size-idle);
  height: var(--orb-size-idle);
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 35% 35%,
    var(--orb-highlight) 0%,
    var(--orb-outer) 25%,
    var(--orb-mid) 50%,
    var(--orb-core) 75%,
    #2a3a5a 100%
  );
  box-shadow:
    0 8px 32px var(--orb-glow),
    0 0 60px rgba(90, 110, 150, 0.3),
    inset 0 -8px 20px rgba(0, 0, 0, 0.4),
    inset 0 8px 20px rgba(255, 255, 255, 0.08);
  cursor: pointer;
  pointer-events: auto;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
              box-shadow 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-shrink: 0;
}

/* Highlight shimmer effect */
.orb-idle::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 25% 25%,
    rgba(255, 255, 255, 0.25) 0%,
    rgba(255, 255, 255, 0.1) 20%,
    transparent 50%
  );
}

/* Subtle inner glow / nebula particles effect */
.orb-idle::after {
  content: '';
  position: absolute;
  width: 60%;
  height: 60%;
  border-radius: 50%;
  background: radial-gradient(
    circle at 60% 60%,
    rgba(180, 190, 220, 0.15) 0%,
    transparent 70%
  );
  animation: orb-nebula-drift 6s ease-in-out infinite;
}

@keyframes orb-nebula-drift {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate(5px, -5px) scale(1.1);
    opacity: 0.8;
  }
}

.orb-idle:hover {
  transform: scale(1.08);
  box-shadow:
    0 10px 40px var(--orb-glow),
    0 0 80px rgba(90, 110, 150, 0.4),
    inset 0 -8px 20px rgba(0, 0, 0, 0.4),
    inset 0 8px 20px rgba(255, 255, 255, 0.1);
}

.orb-idle:active {
  transform: scale(0.95);
}

/* Subtle pulse animation for idle orb */
.orb-idle-pulse {
  animation: orb-idle-pulse 4s ease-in-out infinite;
}

@keyframes orb-idle-pulse {
  0%, 100% {
    box-shadow:
      0 8px 32px var(--orb-glow),
      0 0 60px rgba(90, 110, 150, 0.3),
      inset 0 -8px 20px rgba(0, 0, 0, 0.4),
      inset 0 8px 20px rgba(255, 255, 255, 0.08);
  }
  50% {
    box-shadow:
      0 8px 40px rgba(90, 110, 150, 0.6),
      0 0 80px rgba(90, 110, 150, 0.4),
      inset 0 -8px 20px rgba(0, 0, 0, 0.4),
      inset 0 8px 20px rgba(255, 255, 255, 0.1);
  }
}

/* Inner orb icon - hidden for clean sphere look per design */
.orb-idle-icon {
  display: none;
}

/* Hide idle orb when overlay is open */
.orb-idle.orb-hidden {
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
}

/* --- ORB Overlay (Full-Screen Mode) --- */
.orb-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(200, 210, 220, 0.75);
  backdrop-filter: blur(8px);
  z-index: var(--orb-z-overlay);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease, visibility 0.4s ease;
}

.orb-overlay.orb-overlay-visible {
  opacity: 1;
  visibility: visible;
}

/* Large centered ORB - Nebula/Galaxy Style */
.orb-large {
  width: var(--orb-size-large);
  height: var(--orb-size-large);
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 40% 35%,
    rgba(160, 175, 200, 0.5) 0%,
    #7080a0 15%,
    #5a6a8a 30%,
    #4a5a7a 50%,
    #3a4a6a 70%,
    #2a3a5a 100%
  );
  box-shadow:
    0 20px 80px rgba(60, 80, 120, 0.5),
    0 0 150px rgba(80, 100, 140, 0.3),
    inset 0 -20px 50px rgba(0, 0, 0, 0.4),
    inset 0 20px 40px rgba(255, 255, 255, 0.08);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0;
}

/* Main highlight */
.orb-large::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 30% 25%,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(255, 255, 255, 0.15) 15%,
    transparent 45%
  );
}

/* Subtle inner nebula glow */
.orb-large::after {
  content: '';
  position: absolute;
  width: 70%;
  height: 70%;
  border-radius: 50%;
  background: radial-gradient(
    circle at 55% 55%,
    rgba(140, 160, 200, 0.2) 0%,
    transparent 60%
  );
  animation: orb-large-nebula 8s ease-in-out infinite;
}

@keyframes orb-large-nebula {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(10px, -10px) scale(1.1);
    opacity: 0.7;
  }
}

/* Idle animation for large orb */
.orb-large-idle {
  animation: orb-large-idle 5s ease-in-out infinite;
}

@keyframes orb-large-idle {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Thinking animation for large orb */
.orb-large-thinking {
  animation: orb-large-thinking 1.5s ease-in-out infinite;
}

@keyframes orb-large-thinking {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      0 20px 80px rgba(60, 80, 120, 0.5),
      0 0 150px rgba(80, 100, 140, 0.3),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.08);
  }
  50% {
    transform: scale(1.05);
    box-shadow:
      0 20px 100px rgba(60, 80, 120, 0.7),
      0 0 180px rgba(80, 100, 140, 0.5),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.1);
  }
}

/* DEV-COMHU-2025-0014: Listening animation for live voice */
.orb-large-listening {
  animation: orb-large-listening 2s ease-in-out infinite;
}

@keyframes orb-large-listening {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      0 20px 80px rgba(59, 130, 246, 0.4),
      0 0 150px rgba(59, 130, 246, 0.2),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.08);
  }
  50% {
    transform: scale(1.03);
    box-shadow:
      0 20px 100px rgba(59, 130, 246, 0.6),
      0 0 180px rgba(59, 130, 246, 0.4),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.1);
  }
}

/* DEV-COMHU-2025-0014: Live transcript area */
.orb-live-transcript {
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 600px;
  max-height: 200px;
  overflow-y: auto;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
  padding: 16px 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  z-index: 10002;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.orb-live-transcript:empty {
  display: none;
}

.orb-live-message {
  font-size: 0.95rem;
  line-height: 1.5;
  color: #1e293b;
}

.orb-live-message-assistant {
  background: #f1f5f9;
  padding: 12px 16px;
  border-radius: 12px;
  border-left: 3px solid #3b82f6;
}

.orb-live-message-user {
  background: #e0f2fe;
  padding: 12px 16px;
  border-radius: 12px;
  text-align: right;
}

.orb-live-listening,
.orb-live-connecting {
  font-size: 0.9rem;
  color: #64748b;
  text-align: center;
  padding: 8px;
  animation: orb-live-pulse 2s ease-in-out infinite;
}

@keyframes orb-live-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.orb-live-error {
  font-size: 0.9rem;
  color: #ef4444;
  text-align: center;
  padding: 12px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
}

/* VTID-0135: Interim transcript styling */
.orb-live-interim {
  opacity: 0.7;
  font-style: italic;
}

/* ==========================================================================
   VTID-01066: ORB Conversation Stream - Voice-First Live Flow
   ========================================================================== */

/* A) Message type modifiers */
.orb-live-message--voice::before {
  content: '';
  display: inline-block;
  width: 14px;
  height: 14px;
  margin-right: 6px;
  vertical-align: middle;
  background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z'/%3E%3Cpath d='M19 10v2a7 7 0 0 1-14 0v-2'/%3E%3Cline x1='12' y1='19' x2='12' y2='23'/%3E%3Cline x1='8' y1='23' x2='16' y2='23'/%3E%3C/svg%3E");
  background-size: contain;
  background-repeat: no-repeat;
}

.orb-live-message--voice .orb-live-voice-label {
  font-size: 0.7rem;
  color: #64748b;
  margin-left: 4px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.orb-live-message--text {
  /* Text messages get no special styling - default bubble */
}

.orb-live-message--spoken {
  /* Spoken assistant messages - default styling */
}

/* B) Thinking placeholder with animated dots */
.orb-live-message--thinking {
  color: #64748b;
  font-style: italic;
}

.orb-live-message--thinking .orb-thinking-dots::after {
  content: '';
  animation: thinkingDots 1.5s infinite;
}

@keyframes thinkingDots {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
  100% { content: ''; }
}

/* C) System messages - lighter, compact */
.orb-live-message--system {
  font-size: 0.8rem;
  color: #94a3b8;
  background: transparent;
  padding: 4px 8px;
  border-left: 2px solid #cbd5e1;
  text-align: left;
}

/* D) Speaking cursor + progress highlight */
.orb-live-message.is-speaking {
  position: relative;
}

/* Blinking caret at end of speaking message */
.orb-live-message.is-speaking::after {
  content: '';
  display: inline-block;
  width: 2px;
  height: 1em;
  background: #22c55e;
  margin-left: 2px;
  vertical-align: text-bottom;
  animation: blinkCaret 0.8s step-end infinite;
}

@keyframes blinkCaret {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}

/* Left-edge progress bar */
.orb-live-message.is-speaking.speak-progress::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 3px;
  height: 0%;
  background: linear-gradient(180deg, #22c55e 0%, #16a34a 100%);
  border-radius: 3px 0 0 3px;
  animation-name: speakProgress;
  animation-timing-function: linear;
  animation-fill-mode: forwards;
}

/* Duration classes for progress animation */
.orb-live-message.speak-dur-1.speak-progress::before {
  animation-duration: 1.5s;
}

.orb-live-message.speak-dur-2.speak-progress::before {
  animation-duration: 3s;
}

.orb-live-message.speak-dur-3.speak-progress::before {
  animation-duration: 6s;
}

.orb-live-message.speak-dur-4.speak-progress::before {
  animation-duration: 10s;
}

@keyframes speakProgress {
  0% { height: 0%; }
  100% { height: 100%; }
}

/* E) Stop TTS button */
.orb-stop-tts {
  display: none;
  position: fixed;
  bottom: 180px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 20px;
  background: rgba(239, 68, 68, 0.9);
  color: white;
  border: none;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  z-index: 10003;
  transition: all 0.2s ease;
  box-shadow: 0 2px 10px rgba(239, 68, 68, 0.3);
}

.orb-stop-tts:hover {
  background: rgba(220, 38, 38, 1);
  transform: translateX(-50%) scale(1.05);
}

/* Show stop button only when speaking */
.orb-overlay.orb-speaking .orb-stop-tts {
  display: block;
}

/* F) Speaking container state (for stop button visibility) */
.orb-overlay.orb-speaking {
  /* Container marker when TTS is active */
}

/* ==========================================================================
   VTID-0135: ORB State Pill (Voice Conversation State)
   ========================================================================== */

.orb-state-pill {
  position: fixed;
  top: 32px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 24px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  z-index: 2510;
  transition: all 0.3s ease;
}

.orb-state-idle {
  background: rgba(100, 116, 139, 0.2);
  color: #64748b;
}

.orb-state-listening {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
  animation: orb-state-pulse 1.5s ease-in-out infinite;
}

.orb-state-thinking {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
  animation: orb-state-pulse 0.8s ease-in-out infinite;
}

.orb-state-speaking {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
  animation: orb-state-speaking 1s ease-in-out infinite;
}

.orb-state-muted {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

@keyframes orb-state-pulse {
  0%, 100% { opacity: 0.8; transform: translateX(-50%) scale(1); }
  50% { opacity: 1; transform: translateX(-50%) scale(1.02); }
}

@keyframes orb-state-speaking {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 1; }
}

/* VTID-0135: ORB Large Speaking State */
.orb-large-speaking {
  animation: orb-large-speaking 1s ease-in-out infinite;
}

@keyframes orb-large-speaking {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 60px rgba(34, 197, 94, 0.4), 0 0 120px rgba(34, 197, 94, 0.2);
  }
  50% {
    transform: scale(1.03);
    box-shadow: 0 0 80px rgba(34, 197, 94, 0.5), 0 0 160px rgba(34, 197, 94, 0.3);
  }
}

/* VTID-0135: ORB Large Muted State */
.orb-large-muted {
  opacity: 0.6;
  filter: grayscale(30%);
}

/* ==========================================================================
   VTID-01064: ORB Status Aura System
   ========================================================================== */

/* --- ORB Shell Wrapper (contains ORB + aura layers) --- */
.orb-shell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* --- Aura Layer (behind ORB via ::before) --- */
.orb-shell::before {
  content: '';
  position: absolute;
  width: 140%;
  height: 140%;
  border-radius: 50%;
  opacity: var(--orb-aura-opacity-base);
  transition: opacity 300ms ease, box-shadow 300ms ease, background 300ms ease;
  pointer-events: none;
  z-index: -1;
}

/* --- Secondary Aura Glow (::after for depth) --- */
.orb-shell::after {
  content: '';
  position: absolute;
  width: 160%;
  height: 160%;
  border-radius: 50%;
  opacity: calc(var(--orb-aura-opacity-base) * 0.5);
  transition: opacity 300ms ease, box-shadow 300ms ease, background 300ms ease;
  pointer-events: none;
  z-index: -2;
}

/* --- Ready State (Teal/Cyan - slow breathe) --- */
.orb-shell.orb--ready::before {
  background: radial-gradient(circle, var(--orb-glow-ready) 0%, transparent 70%);
  box-shadow: 0 0 60px var(--orb-glow-ready), 0 0 120px var(--orb-glow-ready);
  animation: orb-aura-breathe 4s ease-in-out infinite;
}
.orb-shell.orb--ready::after {
  background: radial-gradient(circle, var(--orb-glow-ready) 0%, transparent 60%);
}

@keyframes orb-aura-breathe {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.05);
  }
}

/* --- Listening State (Blue - subtle ripple) --- */
.orb-shell.orb--listening::before {
  background: radial-gradient(circle, var(--orb-glow-listening) 0%, transparent 70%);
  box-shadow: 0 0 80px var(--orb-glow-listening), 0 0 150px var(--orb-glow-listening);
  animation: orb-aura-ripple 2s ease-in-out infinite;
}
.orb-shell.orb--listening::after {
  background: radial-gradient(circle, var(--orb-glow-listening) 0%, transparent 60%);
  animation: orb-aura-ripple-outer 2s ease-in-out infinite 0.3s;
}

@keyframes orb-aura-ripple {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.08);
  }
}

@keyframes orb-aura-ripple-outer {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.4);
    transform: scale(1);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.6);
    transform: scale(1.1);
  }
}

/* --- Thinking State (Purple - slow swirl) --- */
.orb-shell.orb--thinking::before {
  background: radial-gradient(circle, var(--orb-glow-thinking) 0%, transparent 70%);
  box-shadow: 0 0 100px var(--orb-glow-thinking), 0 0 180px var(--orb-glow-thinking);
  animation: orb-aura-swirl 3s ease-in-out infinite;
}
.orb-shell.orb--thinking::after {
  background: radial-gradient(circle, var(--orb-glow-thinking) 0%, transparent 60%);
  animation: orb-aura-swirl-counter 3s ease-in-out infinite;
}

@keyframes orb-aura-swirl {
  0% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1) rotate(0deg);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.06) rotate(180deg);
  }
  100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1) rotate(360deg);
  }
}

@keyframes orb-aura-swirl-counter {
  0% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.5);
    transform: scale(1) rotate(0deg);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.7);
    transform: scale(1.08) rotate(-180deg);
  }
  100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.5);
    transform: scale(1) rotate(-360deg);
  }
}

/* --- Speaking State (Gold/Amber - rhythmic pulse) --- */
.orb-shell.orb--speaking::before {
  background: radial-gradient(circle, var(--orb-glow-speaking) 0%, transparent 70%);
  box-shadow: 0 0 80px var(--orb-glow-speaking), 0 0 140px var(--orb-glow-speaking);
  animation: orb-aura-pulse 1s ease-in-out infinite;
}
.orb-shell.orb--speaking::after {
  background: radial-gradient(circle, var(--orb-glow-speaking) 0%, transparent 60%);
  animation: orb-aura-pulse-outer 1s ease-in-out infinite 0.15s;
}

@keyframes orb-aura-pulse {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.04);
  }
}

@keyframes orb-aura-pulse-outer {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.4);
    transform: scale(1);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.7);
    transform: scale(1.06);
  }
}

/* --- Paused/Muted State (Gray - no animation) --- */
.orb-shell.orb--paused::before {
  background: radial-gradient(circle, var(--orb-glow-paused) 0%, transparent 70%);
  box-shadow: 0 0 40px var(--orb-glow-paused);
  opacity: var(--orb-aura-opacity-base);
  animation: none;
}
.orb-shell.orb--paused::after {
  background: radial-gradient(circle, var(--orb-glow-paused) 0%, transparent 60%);
  opacity: calc(var(--orb-aura-opacity-base) * 0.3);
  animation: none;
}

/* --- Connecting/Loading State (Silver/White - fade loop) --- */
.orb-shell.orb--connecting::before {
  background: radial-gradient(circle, var(--orb-glow-connecting) 0%, transparent 70%);
  box-shadow: 0 0 60px var(--orb-glow-connecting), 0 0 100px var(--orb-glow-connecting);
  animation: orb-aura-fade 2s ease-in-out infinite;
}
.orb-shell.orb--connecting::after {
  background: radial-gradient(circle, var(--orb-glow-connecting) 0%, transparent 60%);
  animation: orb-aura-fade 2s ease-in-out infinite 0.5s;
}

@keyframes orb-aura-fade {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.3);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
  }
}

/* --- Error/Blocked State (Soft Red - static, tighter radius) --- */
.orb-shell.orb--error::before {
  background: radial-gradient(circle, var(--orb-glow-error) 0%, transparent 60%);
  box-shadow: 0 0 40px var(--orb-glow-error);
  opacity: var(--orb-aura-opacity-active);
  animation: none;
  width: 120%;
  height: 120%;
}
.orb-shell.orb--error::after {
  background: radial-gradient(circle, var(--orb-glow-error) 0%, transparent 50%);
  opacity: calc(var(--orb-aura-opacity-base) * 0.5);
  animation: none;
  width: 130%;
  height: 130%;
}

/* ==========================================================================
   VTID-01067: ORB Aura v2 - Context Badges + Intensity + Speech Sync
   ========================================================================== */

/* --- Speaking Beat Animation --- */
@keyframes orb-speak-beat {
  0%, 100% {
    transform: scale(1);
    opacity: var(--orb-aura-intensity-speaking);
  }
  50% {
    transform: scale(1.05);
    opacity: 1;
  }
}

.orb-shell.orb--speaking.orb-speak-beat::before {
  animation: orb-speak-beat 420ms ease-in-out;
}

/* --- Listening Shimmer (mic-reactive) --- */
@keyframes orb-listen-shimmer {
  0%, 100% {
    opacity: var(--orb-aura-intensity-active);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-intensity-speaking);
    transform: scale(1.02);
  }
}

.orb-shell.orb--listening.orb-mic-active::before {
  animation: orb-listen-shimmer 300ms ease-out;
}

/* --- Badge Fade Animations --- */
@keyframes orb-badge-fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes orb-badge-fade-out {
  from {
    opacity: 1;
    transform: translateY(0);
  }
  to {
    opacity: 0;
    transform: translateY(-4px);
  }
}

/* --- Badge Rail Container --- */
.orb-badges {
  position: absolute;
  top: 50%;
  right: -80px;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 8px;
  z-index: 10;
}

/* --- Individual Badge Chip --- */
.orb-badge {
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 32px;
  height: 28px;
  padding: 0 8px;
  border-radius: 14px;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
  font-size: 12px;
  font-weight: 500;
  color: #475569;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease, transform 0.2s ease;
}

.orb-badge--active {
  opacity: 1;
  visibility: visible;
  animation: orb-badge-fade-in 0.2s ease-out;
}

.orb-badge--hidden {
  animation: orb-badge-fade-out 0.2s ease-out forwards;
}

/* Badge icon styling */
.orb-badge-icon {
  width: 16px;
  height: 16px;
  flex-shrink: 0;
}

/* Badge text (for language indicator) */
.orb-badge-text {
  margin-left: 4px;
  font-size: 11px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Badge color variants */
.orb-badge--mic {
  color: #3b82f6;
}

.orb-badge--mic-muted {
  color: #ef4444;
}

.orb-badge--screen {
  color: #10b981;
}

.orb-badge--camera {
  color: #8b5cf6;
}

.orb-badge--lang {
  color: #64748b;
  font-size: 11px;
  font-weight: 700;
}

/* --- Micro-Status Line --- */
.orb-micro-status {
  position: absolute;
  top: 50%;
  right: -80px;
  transform: translateY(calc(-50% + 80px));
  min-width: 80px;
  padding: 4px 12px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.85);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.08);
  font-size: 11px;
  font-weight: 500;
  color: #64748b;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  max-width: 120px;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.2s ease, visibility 0.2s ease;
}

.orb-micro-status--visible {
  opacity: 1;
  visibility: visible;
}

/* Micro-status state colors */
.orb-micro-status--listening {
  color: #3b82f6;
}

.orb-micro-status--thinking {
  color: #8b5cf6;
}

.orb-micro-status--speaking {
  color: #f59e0b;
}

.orb-micro-status--muted {
  color: #ef4444;
}

.orb-micro-status--error {
  color: #ef4444;
}

/* --- Mobile Responsive Badge Placement --- */
@media (max-width: 768px) {
  .orb-badges {
    right: auto;
    left: 50%;
    top: auto;
    bottom: -60px;
    transform: translateX(-50%);
    flex-direction: row;
  }

  .orb-micro-status {
    right: auto;
    left: 50%;
    top: auto;
    bottom: -100px;
    transform: translateX(-50%);
  }
}

/* VTID-0135: End button styling (red) */
.orb-control-end {
  color: #ef4444;
}

.orb-control-end:hover {
  background: rgba(239, 68, 68, 0.1);
  color: #dc2626;
}

/* DEV-COMHU-2025-0014: Status text below orb - show for live mode */
.orb-status-text {
  margin-top: 24px;
  font-size: 1rem;
  font-weight: 500;
  color: #475569;
  text-align: center;
}

/* --- ORB Control Row (Fixed at bottom center) --- */
.orb-controls {
  position: fixed;
  bottom: 48px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 12px;
  background: rgba(255, 255, 255, 0.95);
  padding: 12px 16px;
  border-radius: 32px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.orb-control-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.orb-control-btn:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-control-btn.orb-control-active {
  color: #3b82f6;
}

.orb-control-btn.orb-control-active:hover {
  background: rgba(59, 130, 246, 0.1);
}

/* Close button - same style as others */
.orb-control-close {
  color: #64748b;
}

.orb-control-close:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-control-icon {
  width: 24px;
  height: 24px;
}

/* Hide labels - controls are icon-only per design */
.orb-control-label {
  display: none;
}

/* Wrapper for control buttons - no labels */
.orb-control-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.orb-control-wrapper .orb-control-label {
  display: none;
  opacity: 0.7;
}

/* VTID-01042: Unified Language Settings (replaces VTID-01038 Voice Settings) */
.orb-lang-settings {
  position: absolute;
  bottom: 140px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: rgba(30, 40, 55, 0.8);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.orb-lang-label-row {
  display: flex;
  align-items: baseline;
  gap: 8px;
  width: 100%;
}

.orb-lang-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-text-primary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.orb-lang-helper {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.orb-lang-select {
  min-width: 200px;
  max-width: 280px;
  padding: 8px 12px;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

.orb-lang-select:hover {
  border-color: var(--color-text-secondary);
}

.orb-lang-select:focus {
  outline: none;
  border-color: var(--color-primary);
}

.orb-lang-warning {
  font-size: 0.75rem;
  color: var(--color-warning, #f0a500);
  text-align: center;
  padding: 4px 8px;
  background: rgba(240, 165, 0, 0.1);
  border-radius: 4px;
  max-width: 280px;
}

/* Chat button in overlay - hidden per design, chat accessed via control */
.orb-chat-btn {
  display: none;
}

/* --- ORB Chat Drawer --- */
.orb-chat-drawer {
  position: fixed;
  top: 0;
  right: -420px;
  width: 420px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -8px 0 30px rgba(0, 0, 0, 0.4);
  z-index: var(--orb-z-drawer);
  display: flex;
  flex-direction: column;
  transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.orb-chat-drawer.orb-chat-drawer-open {
  right: 0;
}

/* Drawer Header */
.orb-chat-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--color-bg);
}

.orb-chat-title {
  display: flex;
  align-items: center;
  gap: 12px;
}

.orb-chat-title-orb {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--orb-primary) 0%, var(--orb-secondary) 100%);
  box-shadow: 0 2px 10px var(--orb-glow);
}

.orb-chat-title-text {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0;
}

.orb-chat-close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 4px;
  line-height: 1;
  transition: color 0.2s;
}

.orb-chat-close:hover {
  color: var(--color-text-primary);
}

/* Chat Messages Area */
.orb-chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Suggestion Chips Area (Placeholder) */
.orb-suggestion-chips {
  padding: 12px 20px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  background: var(--color-bg);
}

.orb-suggestion-chip {
  padding: 6px 14px;
  border-radius: 16px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.2s;
}

.orb-suggestion-chip:hover {
  background: rgba(139, 92, 246, 0.1);
  border-color: var(--orb-primary);
  color: var(--orb-primary);
}

/* Chat Message Bubble */
.orb-chat-message {
  display: flex;
  flex-direction: column;
  max-width: 85%;
}

.orb-chat-message-user {
  align-self: flex-end;
}

.orb-chat-message-assistant {
  align-self: flex-start;
}

.orb-chat-bubble {
  padding: 12px 16px;
  border-radius: 16px;
  font-size: 0.9rem;
  line-height: 1.5;
}

.orb-chat-message-user .orb-chat-bubble {
  background: var(--orb-primary);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.orb-chat-message-assistant .orb-chat-bubble {
  background: var(--color-bg);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-bottom-left-radius: 4px;
}

.orb-chat-message-time {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-top: 4px;
  padding: 0 8px;
}

/* Chat Input Area */
.orb-chat-input-container {
  padding: 16px 20px;
  border-top: 1px solid var(--color-border);
  display: flex;
  gap: 12px;
  background: var(--color-bg);
}

.orb-chat-input {
  flex: 1;
  padding: 12px 16px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  resize: none;
  font-family: inherit;
  min-height: 44px;
  max-height: 120px;
}

.orb-chat-input:focus {
  outline: none;
  border-color: var(--orb-primary);
}

.orb-chat-input::placeholder {
  color: var(--color-text-secondary);
}

.orb-chat-send {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  background: var(--orb-primary);
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}

.orb-chat-send:hover {
  background: var(--orb-secondary);
  transform: scale(1.05);
}

.orb-chat-send:disabled {
  background: var(--color-border);
  cursor: not-allowed;
  transform: none;
}

.orb-chat-send-icon {
  width: 20px;
  height: 20px;
}

/* Empty state for chat */
.orb-chat-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--color-text-secondary);
  text-align: center;
  padding: 40px;
}

.orb-chat-empty-orb {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--orb-primary) 0%, var(--orb-secondary) 100%);
  box-shadow: 0 4px 20px var(--orb-glow);
  margin-bottom: 16px;
  opacity: 0.6;
}

.orb-chat-empty-text {
  font-size: 0.9rem;
  margin-bottom: 8px;
}

.orb-chat-empty-hint {
  font-size: 0.8rem;
  opacity: 0.7;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .orb-chat-drawer {
    width: 100%;
    right: -100%;
  }

  .orb-large {
    width: 140px;
    height: 140px;
  }

  .orb-controls {
    gap: 12px;
  }

  .orb-control-btn {
    width: 48px;
    height: 48px;
  }
}

/* ========================================
   VTID-0409: Governance Categories Styles
   ======================================== */

.gov-categories-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-categories-loading {
  padding: 2rem;
}

.gov-categories-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-categories-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-categories-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-categories-empty p {
  margin: 0.5rem 0;
}

.gov-categories-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

/* Two-column layout */
.gov-categories-layout {
  display: flex;
  gap: 1.5rem;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* Left column: Category list */
.gov-categories-list {
  width: 280px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  overflow-y: auto;
  padding-right: 0.5rem;
}

.gov-category-item {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.875rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  transition: all 0.15s ease;
  width: 100%;
}

.gov-category-item:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.3);
}

.gov-category-item:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

.gov-category-item.selected {
  background: rgba(59, 130, 246, 0.15);
  border-color: var(--color-accent);
}

.gov-category-label {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}

.gov-category-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.gov-category-count {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.gov-category-levels {
  display: flex;
  gap: 0.25rem;
}

.gov-category-levels .lvl {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 18px;
  font-size: 0.65rem;
  font-weight: 600;
  border-radius: 3px;
}

.gov-category-levels .lvl-L1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.gov-category-levels .lvl-L2 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.gov-category-levels .lvl-L3 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.gov-category-levels .lvl-L4 {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
}

/* Right column: Rules table */
.gov-category-rules {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-category-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--color-border);
}

.gov-category-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
  color: var(--color-text-primary);
}

.gov-category-rule-count {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  background: var(--color-sidebar-bg);
  padding: 0.25rem 0.625rem;
  border-radius: 12px;
}

.gov-category-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-category-rules-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-category-rules-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-category-rules-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-category-rule-row {
  transition: background 0.15s ease;
  cursor: pointer;
}

.gov-category-rule-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-category-rule-row:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

.gov-category-rules-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-rule-id {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
  white-space: nowrap;
}

.gov-rule-title {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Level badges in categories table */
.gov-rule-level {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-rule-level.lvl-L1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-rule-level.lvl-L2 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.gov-rule-level.lvl-L3 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-rule-level.lvl-L4 {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Source badges */
.gov-rule-source {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-rule-source.source-system {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.gov-rule-source.source-catalog {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-rule-chevron {
  width: 30px;
  text-align: center;
  font-size: 1.25rem;
  color: var(--color-text-secondary);
  transition: transform 0.2s ease;
}

.gov-category-rule-row:hover .gov-rule-chevron {
  transform: translateX(3px);
  color: var(--color-accent);
}

/* ========================================
   VTID-0600: Operational Visibility Styles
   ======================================== */

/* --- Severity Colors --- */
.severity-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 8px;
}

.severity-critical, .severity-dot.severity-critical { background-color: #ff4d4f; }
.severity-important, .severity-dot.severity-important { background-color: #f7b731; }
.severity-info, .severity-dot.severity-info { background-color: #2ecc71; }
.severity-low, .severity-dot.severity-low { background-color: #95a5a6; }

/* Severity row backgrounds */
.severity-row-critical { background: rgba(255, 77, 79, 0.08); }
.severity-row-important { background: rgba(247, 183, 49, 0.08); }
.severity-row-critical:hover { background: rgba(255, 77, 79, 0.15); }
.severity-row-important:hover { background: rgba(247, 183, 49, 0.15); }

/* --- OASIS Events View --- */
.oasis-events-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.oasis-events-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;
}

.oasis-toolbar-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.oasis-toolbar-right {
  display: flex;
  align-items: center;
}

.auto-refresh-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
}

.oasis-events-toolbar .filter-select {
  height: 32px;
  padding: 0.25rem 0.5rem;
  font-size: 0.8rem;
}

.oasis-live-pill {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.625rem;
  background: rgba(46, 204, 113, 0.15);
  border: 1px solid rgba(46, 204, 113, 0.3);
  border-radius: 12px;
  color: #2ecc71;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;
}

.oasis-refresh-icon-btn {
  width: 34px;
  height: 34px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
}

.oasis-refresh-icon-btn svg {
  width: 16px;
  height: 16px;
}

.live-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #2ecc71;
  animation: pulse 1.5s infinite;
  flex-shrink: 0;
}

.oasis-events-content {
  flex: 1;
  overflow-y: auto;
}

.oasis-events-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.oasis-events-table th,
.oasis-events-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.oasis-events-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
  z-index: 1;
}

.oasis-event-row {
  cursor: pointer;
  transition: background 0.15s ease;
}

.oasis-event-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.event-timestamp {
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  white-space: nowrap;
}

.event-topic {
  font-family: monospace;
  font-size: 0.8rem;
}

.event-vtid {
  font-weight: 500;
  color: var(--color-accent);
}

.event-message {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* --- Status Badges --- */
.status-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.status-success { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }
.status-error { background: rgba(255, 77, 79, 0.15); color: #ff4d4f; }
.status-info { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.status-warning { background: rgba(247, 183, 49, 0.15); color: #f7b731; }

/* --- OASIS Event Drawer --- */
.oasis-event-drawer {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--color-bg);
  border-left: 1px solid var(--color-border);
  z-index: 1000;
  transition: right 0.3s ease;
  display: flex;
  flex-direction: column;
}

.oasis-event-drawer.open {
  right: 0;
}

.severity-banner {
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  font-size: 0.85rem;
  text-align: center;
}

.severity-banner-critical { background: rgba(255, 77, 79, 0.2); color: #ff4d4f; }
.severity-banner-important { background: rgba(247, 183, 49, 0.2); color: #f7b731; }
.severity-banner-info { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
.severity-banner-low { background: rgba(149, 165, 166, 0.2); color: #95a5a6; }

.drawer-field {
  padding: 0.75rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
}

.drawer-field-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  margin-bottom: 0.25rem;
}

.drawer-field-value {
  font-size: 0.9rem;
  color: var(--color-text-primary);
  word-break: break-word;
}

.drawer-section {
  padding: 1rem 1.5rem;
}

.drawer-section h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
}

.drawer-metadata {
  background: var(--color-sidebar-bg);
  padding: 1rem;
  border-radius: 6px;
  font-size: 0.8rem;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
  font-family: monospace;
}

/* --- VTID-01039: ORB Session Transcript Styles --- */
.orb-summary-section {
  border-bottom: 1px solid var(--color-border);
}

.orb-summary-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.5rem;
}

.orb-summary-stats {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
}

.orb-summary-bullets {
  margin-bottom: 1rem;
}

.orb-summary-bullets ul,
.orb-summary-actions ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.orb-summary-bullets li,
.orb-summary-actions li {
  margin-bottom: 0.25rem;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}

.orb-summary-actions {
  background: rgba(59, 130, 246, 0.1);
  border-radius: 6px;
  padding: 0.75rem;
}

.orb-summary-actions strong {
  font-size: 0.8rem;
  color: var(--color-accent);
}

.orb-transcript-section {
  flex: 1;
  overflow-y: auto;
}

.orb-transcript-loading,
.orb-transcript-error,
.orb-transcript-empty {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

.orb-transcript-error {
  color: #ff4d4f;
}

.orb-transcript-turns {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.orb-transcript-turn {
  padding: 0.75rem;
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.orb-transcript-turn-user {
  background: rgba(59, 130, 246, 0.1);
  border-left: 3px solid var(--color-accent);
}

.orb-transcript-turn-assistant {
  background: rgba(16, 185, 129, 0.1);
  border-left: 3px solid #10b981;
}

.orb-transcript-turn-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.orb-transcript-role {
  font-weight: 600;
  font-size: 0.8rem;
  text-transform: uppercase;
}

.orb-transcript-turn-user .orb-transcript-role {
  color: var(--color-accent);
}

.orb-transcript-turn-assistant .orb-transcript-role {
  color: #10b981;
}

.orb-transcript-ts {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
}

.orb-transcript-text {
  font-size: 0.9rem;
  color: var(--color-text-primary);
  line-height: 1.5;
  word-break: break-word;
}

/* --- Command Hub Events View --- */
.command-hub-events-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.command-hub-events-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.section-subtitle {
  color: var(--color-text-secondary);
  font-size: 0.9rem;
  margin: 0 0 1.5rem 0;
}

.command-hub-events-toolbar {
  display: flex;
  gap: 1rem;
  align-items: center;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.filter-select {
  min-width: 150px;
  padding: 0.5rem;
  border-radius: 6px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  font-size: 0.85rem;
}

.command-hub-events-content {
  flex: 1;
  overflow-y: auto;
}

.command-hub-events-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.command-hub-events-table th,
.command-hub-events-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.command-hub-events-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
}

.command-hub-event-row {
  transition: background 0.15s ease;
}

.event-type-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  text-transform: capitalize;
}

/* --- VTIDs View --- */
.vtids-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.vtids-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.vtid-status-legend {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.vtids-toolbar {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.vtids-content {
  flex: 1;
  overflow-y: auto;
}

.vtids-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.vtids-table th,
.vtids-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.vtids-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
}

.vtid-row {
  transition: background 0.15s ease;
}

.vtid-row:hover {
  background: rgba(59, 130, 246, 0.08);
}

.vtid-cell {
  font-weight: 600;
  color: var(--color-accent);
  font-family: monospace;
}

/* VTID Stage Badges */
.vtid-stage-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
}

.vtid-stage-pl { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }
.vtid-stage-wo { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-stage-va { background: rgba(247, 183, 49, 0.15); color: #f7b731; }
.vtid-stage-de { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }

/* VTID Layer Badges */
.vtid-layer-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.vtid-layer-dev { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-layer-gov { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
.vtid-layer-adm { background: rgba(249, 115, 22, 0.15); color: #f97316; }
.vtid-layer-unk { background: rgba(107, 114, 128, 0.15); color: #6b7280; }

/* DEV-COMHU-2025-0008: VTID Ledger Error Banner & Status Line */
.vtid-ledger-error-banner {
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: #ef4444;
  padding: 0.75rem 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
  font-size: 0.85rem;
}

.vtid-ledger-status-line {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
  padding: 0.25rem 0;
}

/* DEV-COMHU-2025-0009: View fingerprint for deployment verification */
.view-fingerprint {
  display: inline-block;
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  background: rgba(107, 114, 128, 0.1);
  border: 1px solid rgba(107, 114, 128, 0.2);
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  margin-left: 1rem;
  vertical-align: middle;
  font-family: 'Courier New', monospace;
}

/* DEV-COMHU-2025-0008: VTID Status Badges */
.vtid-status-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: capitalize;
}

.vtid-status-active { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.vtid-status-completed { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-status-pending { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.vtid-status-blocked { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
.vtid-status-unknown { background: rgba(107, 114, 128, 0.15); color: #6b7280; }

/* VTID-01016: OASIS Event Authority - Deterministic Status Values */
.vtid-status-scheduled { background: rgba(107, 114, 128, 0.15); color: #6b7280; }
.vtid-status-in_progress { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-status-success { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.vtid-status-failed { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

/* VTID-01016: OASIS Event Authority - Deterministic Stage Values */
.vtid-stage-scheduled { background: rgba(107, 114, 128, 0.15); color: #6b7280; }
.vtid-stage-queued { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.vtid-stage-planner { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }
.vtid-stage-worker { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-stage-validator { background: rgba(247, 183, 49, 0.15); color: #f7b731; }
.vtid-stage-deploy { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }
.vtid-stage-done { background: rgba(16, 185, 129, 0.15); color: #10b981; }

/* --- Approvals View --- */
.approvals-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.approvals-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.approvals-section {
  margin-bottom: 2rem;
}

.approvals-section-header {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.approvals-section-content {
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  overflow: hidden;
}

.approvals-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.approvals-table th,
.approvals-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.approvals-table th {
  background: var(--color-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
}

.approvals-empty-cell {
  text-align: center;
  color: var(--color-text-secondary);
  padding: 2rem !important;
}

.approvals-sample-note {
  padding: 1rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.85rem;
  border-top: 1px solid var(--color-border);
}

.approvals-actions-section {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
}

.btn-success {
  background: rgba(46, 204, 113, 0.2);
  color: #2ecc71;
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.btn-success:hover:not(:disabled) {
  background: rgba(46, 204, 113, 0.3);
}

.btn-danger {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.btn-danger:hover:not(:disabled) {
  background: rgba(239, 68, 68, 0.3);
}

/* --- Ticker Enhancements --- */
.ticker-filter-toolbar {
  display: flex;
  gap: 1rem;
  align-items: center;
  padding: 0.75rem;
  background: var(--color-sidebar-bg);
  border-bottom: 1px solid var(--color-border);
  font-size: 0.85rem;
}

.ticker-collapse-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  color: var(--color-text-secondary);
}

.ticker-collapse-toggle input {
  cursor: pointer;
}

.ticker-severity-filter {
  padding: 0.4rem;
  border-radius: 4px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  font-size: 0.8rem;
}

.ticker-item-critical {
  border-left: 3px solid #ff4d4f;
  background: rgba(255, 77, 79, 0.05);
}

.ticker-item-important {
  border-left: 3px solid #f7b731;
  background: rgba(247, 183, 49, 0.05);
}

.ticker-item-info {
  border-left: 3px solid #2ecc71;
}

.ticker-item-low {
  border-left: 3px solid #95a5a6;
  opacity: 0.7;
}

.ticker-severity-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 8px;
  flex-shrink: 0;
}

.ticker-severity-critical { background: #ff4d4f; }
.ticker-severity-important { background: #f7b731; }
.ticker-severity-info { background: #2ecc71; }
.ticker-severity-low { background: #95a5a6; }

.ticker-heartbeat-collapsed {
  border: 1px solid var(--color-border);
  border-radius: 6px;
  margin: 0.5rem;
  overflow: hidden;
}

.ticker-heartbeat-header {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  cursor: pointer;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
}

.ticker-heartbeat-header:hover {
  background: rgba(149, 165, 166, 0.15);
}

/* VTID-01210: Heartbeat indicator styles */
.heartbeat-icon {
  color: #10b981;
  font-size: 1rem;
  animation: heartbeat-pulse 2s infinite;
}

@keyframes heartbeat-pulse {
  0%, 100% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.1); opacity: 0.8; }
}

.heartbeat-count {
  font-weight: 600;
  color: var(--color-text-primary);
}

.heartbeat-last {
  color: var(--color-text-tertiary);
  font-size: 0.8rem;
}

.ticker-expand-btn {
  margin-left: auto;
  padding: 0.25rem 0.5rem;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  transition: all 0.2s;
}

.ticker-expand-btn:hover {
  background: var(--color-surface);
  border-color: var(--color-primary);
  color: var(--color-primary);
}

.ticker-heartbeat-list {
  display: none;
  padding: 0.5rem;
  max-height: 200px;
  overflow-y: auto;
}

.ticker-heartbeat-collapsed.expanded .ticker-heartbeat-list {
  display: block;
}

.ticker-item-mini {
  padding: 0.4rem 0.75rem !important;
  font-size: 0.75rem;
  opacity: 0.8;
}

.ticker-more-note {
  padding: 0.5rem 1rem;
  text-align: center;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- VTID-01209: Ticker Active Executions --- */

.ticker-active-executions {
  padding: 12px;
  margin: 8px 0;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.08) 0%, rgba(99, 102, 241, 0.04) 100%);
  border: 1px solid rgba(59, 130, 246, 0.15);
  border-radius: 8px;
}

.ticker-active-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 12px;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-primary);
}

.ticker-active-header .active-header-badge {
  padding: 2px 8px;
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 4px;
  font-size: 11px;
  color: #ef4444;
}

/* --- VTID-01209: Pipelines Active Executions --- */

.pipelines-active-executions {
  padding: 16px;
  margin: 16px 0;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.06) 0%, rgba(99, 102, 241, 0.03) 100%);
  border: 1px solid rgba(59, 130, 246, 0.15);
  border-radius: 12px;
}

.pipelines-active-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 16px;
  font-size: 15px;
  font-weight: 600;
  color: var(--color-text-primary);
}

.pipelines-active-header .live-indicator {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 3px 10px;
  background: rgba(239, 68, 68, 0.12);
  border: 1px solid rgba(239, 68, 68, 0.25);
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
  color: #ef4444;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.pipelines-active-header .live-indicator .live-dot {
  width: 6px;
  height: 6px;
  background: #ef4444;
  border-radius: 50%;
  animation: live-pulse 1.5s ease-in-out infinite;
}

.pipelines-active-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 12px;
}

/* --- Deployment History Enhancements --- */
.history-summary {
  max-width: 200px;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
}

.history-triggered-by {
  white-space: nowrap;
}

.history-trigger-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.history-trigger-user {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.history-trigger-agent {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
}

/* btn-sm and btn-active variants */
.btn-sm {
  padding: 0.3rem 0.6rem;
  font-size: 0.8rem;
}

.btn-active {
  background: var(--color-accent);
  color: white;
  border-color: var(--color-accent);
}

/* --- DEV-COMHU-2025-0012: Task Management v1 Styles --- */

/* Enhanced Task Card Design */
.task-card-enhanced {
  position: relative;
}

.task-card-title {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
  color: var(--color-text-primary);
}

.task-card-vtid-line {
  margin-bottom: 0.5rem;
}

.task-card-vtid-label {
  font-family: monospace;
  font-size: 0.8rem;
  color: #60a5fa;
  background: rgba(96, 165, 250, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
}

.task-card-status-row {
  margin-bottom: 0.5rem;
}

.task-card-status-pill {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.task-card-status-pill-scheduled {
  background: rgba(96, 165, 250, 0.15);
  color: var(--color-task-scheduled);
  box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.2);
}

.task-card-status-pill-in-progress {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-task-progress);
  box-shadow: 0 0 0 1px rgba(245, 158, 11, 0.2);
}

.task-card-status-pill-completed {
  background: rgba(16, 185, 129, 0.15);
  color: var(--color-task-completed);
  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.2);
}

/* DEV-COMHU-2025-0015: Uniform card sizing across all columns */
.task-card-enhanced {
  min-height: 140px;
  max-height: 180px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.task-card-enhanced .task-card-title {
  /* Limit title to 2 lines with ellipsis */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: 2.8em;
  max-height: 2.8em;
}

.task-card-enhanced .task-card-vtid-label {
  /* Prominent VTID display */
  font-size: 0.85rem;
  font-weight: 600;
  padding: 4px 10px;
}

.task-card-enhanced .task-stage-timeline {
  margin-top: auto;
}

/* Task Spec Editor in Drawer */
.task-spec-section {
  margin-top: 1.5rem;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 8px;
}

.task-spec-heading {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.75rem;
}

.task-spec-textarea {
  width: 100%;
  min-height: 150px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-family: monospace;
  font-size: 0.85rem;
  padding: 0.75rem;
  resize: vertical;
  margin-bottom: 0.75rem;
}

.task-spec-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.task-spec-textarea::placeholder {
  color: var(--color-text-secondary);
}

.task-spec-actions {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 0.75rem;
}

.task-spec-btn {
  padding: 0.4rem 0.8rem;
  font-size: 0.85rem;
}

.task-activate-btn {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.task-activate-btn:hover {
  background: #059669;
  border-color: #059669;
}

/* VTID-01052: Delete button styling for scheduled tasks */
.task-delete-btn {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.task-delete-btn:hover:not(:disabled) {
  background: #dc2626;
  border-color: #dc2626;
}

.task-delete-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.task-spec-local-banner {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 0.5rem;
  background: rgba(59, 130, 246, 0.05);
  border-radius: 4px;
  text-align: center;
}

/* Approvals View Enhancements */
.approvals-decisions-label {
  font-size: 0.75rem;
  color: #f59e0b;
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.3);
  padding: 4px 10px;
  border-radius: 4px;
  margin-top: 8px;
  display: inline-block;
}

.approvals-error {
  background: #3b1515;
  border: 1px solid #ef4444;
  padding: 12px;
  border-radius: 6px;
  margin-bottom: 16px;
  color: #fca5a5;
}

.approvals-empty-state {
  text-align: center;
  padding: 40px 20px;
  color: #888;
}

.approvals-empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.approvals-empty-title {
  font-size: 18px;
  margin-bottom: 8px;
}

.approvals-empty-subtitle {
  font-size: 14px;
}

.approvals-pr-link {
  color: #60a5fa;
}

.approvals-branch-cell {
  font-family: monospace;
  font-size: 12px;
}

.approvals-service-badge {
  background: #1e3a3f;
  color: #34d399;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
}

.approvals-status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.status-pass {
  color: #22c55e;
}

.status-fail {
  color: #ef4444;
}

.status-pending {
  color: #f59e0b;
}

.status-unknown {
  color: #888;
}

.approvals-action-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
}

.approvals-action-merge-deploy {
  background: #4c1d95;
  color: #c4b5fd;
}

.approvals-action-deploy {
  background: #1e3a3f;
  color: #34d399;
}

.approvals-action-merge {
  background: #1e3a5f;
  color: #60a5fa;
}

.approvals-actions-cell {
  text-align: center;
}

.approvals-actions-cell .btn {
  padding: 4px 12px;
  font-size: 12px;
  margin-right: 8px;
}

.approvals-actions-cell .btn:last-child {
  margin-right: 0;
}

.vtid-badge {
  background: #1e3a5f;
  color: #60a5fa;
  padding: 2px 8px;
  border-radius: 4px;
  font-family: monospace;
}

.vtid-badge-unknown {
  background: #3b2f1f;
  color: #f59e0b;
}

.approvals-info {
  margin-top: 24px;
  padding: 16px;
  background: #1a1a2e;
  border-radius: 8px;
  border: 1px solid #333;
}

.approvals-info-title {
  font-weight: 600;
  margin-bottom: 8px;
}

.approvals-info-content {
  font-size: 13px;
  color: #888;
  line-height: 1.6;
}

.approvals-info-content code {
  background: #2a2a3e;
  padding: 2px 6px;
  border-radius: 4px;
}

.approvals-info-content strong {
  color: #fff;
}

/* btn-success and btn-danger for Approvals */
.btn-success {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.btn-success:hover:not(:disabled) {
  background: #059669;
  border-color: #059669;
}

.btn-success:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-danger {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.btn-danger:hover:not(:disabled) {
  background: #dc2626;
  border-color: #dc2626;
}

.btn-danger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-secondary {
  background: var(--color-sidebar-bg);
  border-color: var(--color-border);
  color: var(--color-text-secondary);
}

.btn-secondary:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-primary);
}

/* DEV-COMHU-2025-0013: Muted fingerprint line (non-disruptive) */
.view-fingerprint-muted {
  display: block;
  font-size: 0.65rem;
  color: var(--color-text-secondary);
  opacity: 0.7;
  font-family: 'Courier New', monospace;
  margin-top: 0.25rem;
  margin-left: 1rem;
}

/* DEV-COMHU-2025-0015: OASIS Event Tracking Styles */
.task-event-history {
  margin-top: 1.5rem;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 8px;
}

.task-event-history-heading {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.75rem;
}

.task-event-history-empty {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 0.5rem 0;
}

.task-event-history-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-event-history-item {
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.75rem;
  transition: all 0.2s;
  border-left: 3px solid var(--color-border);
}

.task-event-history-item:hover {
  background: rgba(15, 23, 42, 0.8);
  border-color: var(--color-accent);
}

.task-event-history-item-success {
  border-left-color: #10b981;
}

.task-event-history-item-error {
  border-left-color: #ef4444;
}

.task-event-history-item-warning {
  border-left-color: #f59e0b;
}

.task-event-history-item-expanded {
  background: rgba(15, 23, 42, 0.8);
}

.task-event-history-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.task-event-history-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-family: monospace;
  min-width: 100px;
}

.task-event-history-topic {
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
}

.task-event-history-status {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  padding: 2px 6px;
  border-radius: 4px;
}

.task-event-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.task-event-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.task-event-status-warning {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.task-event-status-info {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.task-event-history-message {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-top: 0.5rem;
  line-height: 1.4;
}

.task-event-history-detail {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--color-border);
}

.task-event-detail-row {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.4rem;
  font-size: 0.8rem;
}

.task-event-detail-label {
  color: var(--color-text-secondary);
  min-width: 80px;
  flex-shrink: 0;
}

.task-event-detail-value {
  color: var(--color-text-primary);
  word-break: break-word;
}

.task-event-detail-meta {
  flex-direction: column;
}

.task-event-detail-json {
  background: var(--color-bg);
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  overflow-x: auto;
  margin-top: 0.25rem;
}

/* ========================================
 * VTID-01006: Task Lifecycle Lock Enforcement
 * Styles for drawer mode separation and finalization
 * ======================================== */

/* Mode badge in drawer header */
.drawer-mode-badge {
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  padding: 2px 8px;
  border-radius: 4px;
  margin-left: 10px;
  letter-spacing: 0.5px;
}

.drawer-mode-final {
  background: linear-gradient(135deg, #1e3a5f 0%, #0f1f36 100%);
  color: #60a5fa;
  border: 1px solid rgba(96, 165, 250, 0.4);
}

.drawer-mode-failed {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  color: #f87171;
  border: 1px solid rgba(248, 113, 113, 0.4);
}

/* Content styling for final mode */
.drawer-content-final {
  background: linear-gradient(180deg, rgba(30, 58, 95, 0.1) 0%, transparent 100%);
}

/* Finalization banner */
.task-finalization-banner {
  background: linear-gradient(135deg, #1e3a5f 0%, #0f1f36 100%);
  border: 1px solid rgba(96, 165, 250, 0.4);
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 16px;
  color: #93c5fd;
  font-size: 0.875rem;
  line-height: 1.5;
}

.task-finalization-banner strong {
  color: #60a5fa;
}

.task-finalization-banner-failed {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  border-color: rgba(248, 113, 113, 0.4);
  color: #fca5a5;
}

.task-finalization-banner-failed strong {
  color: #f87171;
}

.task-finalization-banner-cancelled {
  background: linear-gradient(135deg, #3d3317 0%, #1f1a0d 100%);
  border-color: rgba(251, 191, 36, 0.4);
  color: #fcd34d;
}

.task-finalization-banner-cancelled strong {
  color: #f59e0b;
}

/* Inconsistent state warning */
.task-inconsistent-state-warning {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  border: 2px solid #ef4444;
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 16px;
  color: #fca5a5;
  font-size: 0.875rem;
  line-height: 1.5;
}

.task-inconsistent-state-warning strong {
  color: #ef4444;
}

/* Stage inconsistency warning */
.task-stage-inconsistent-warning {
  background: rgba(245, 158, 11, 0.15);
  border: 1px solid rgba(245, 158, 11, 0.4);
  border-radius: 6px;
  padding: 10px 12px;
  margin-bottom: 12px;
  color: #fcd34d;
  font-size: 0.8rem;
}

.task-stage-inconsistent-warning strong {
  color: #f59e0b;
}

/* Locked spec section */
.task-spec-section-locked {
  opacity: 0.85;
}

.task-spec-section-locked .task-spec-heading {
  color: var(--color-text-secondary);
}

/* Locked textarea */
.task-spec-textarea-locked {
  background: rgba(0, 0, 0, 0.3) !important;
  border-color: rgba(100, 100, 100, 0.3) !important;
  cursor: not-allowed;
  color: var(--color-text-secondary) !important;
}

.task-spec-textarea-locked::placeholder {
  color: rgba(150, 150, 150, 0.5);
}

/* Locked stage list */
.task-stage-detail-list-locked {
  opacity: 0.9;
}

.task-stage-detail-list-locked .task-stage-detail-item {
  cursor: default;
}

/* Stage detail heading for locked state */
.task-stage-detail-heading {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ===========================================================================
   VTID-01010: Target Role Styles
   =========================================================================== */

/* --- Target Role Selector (Modal) --- */
.target-role-selector {
  display: flex;
  flex-wrap: nowrap;
  gap: 8px;
  padding: 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  border: 1px solid var(--color-border);
  overflow-x: auto;
}

.target-role-option {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.target-role-option:hover {
  background: rgba(255, 255, 255, 0.1);
}

.target-role-option input[type="checkbox"] {
  cursor: pointer;
}

.target-role-label {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.form-note-error {
  color: #f87171 !important;
}

/* --- Role Filter Bar --- */
.role-filter-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 12px 0;
  margin-bottom: 8px;
}

.role-filter-chip {
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.05);
  color: var(--color-text-secondary);
}

.role-filter-chip:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-primary);
}

.role-filter-chip-active {
  background: var(--color-primary) !important;
  color: white !important;
  border-color: var(--color-primary) !important;
}

/* Role-specific chip colors */
.role-filter-chip-dev { border-color: rgba(59, 130, 246, 0.5); }
.role-filter-chip-com { border-color: rgba(16, 185, 129, 0.5); }
.role-filter-chip-adm { border-color: rgba(239, 68, 68, 0.5); }
.role-filter-chip-pro { border-color: rgba(139, 92, 246, 0.5); }
.role-filter-chip-erp { border-color: rgba(245, 158, 11, 0.5); }
.role-filter-chip-pat { border-color: rgba(236, 72, 153, 0.5); }
.role-filter-chip-infra { border-color: rgba(100, 116, 139, 0.5); }

/* --- Task Card Role Badge --- */
.task-card-role-badge {
  display: inline-block;
  padding: 2px 8px;
  margin-left: 6px;
  border-radius: 4px;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

/* Role-specific badge colors */
.task-card-role-badge-dev {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.task-card-role-badge-com {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.4);
}

.task-card-role-badge-adm {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.4);
}

.task-card-role-badge-pro {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.4);
}

.task-card-role-badge-erp {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.task-card-role-badge-pat {
  background: rgba(236, 72, 153, 0.2);
  color: #f472b6;
  border: 1px solid rgba(236, 72, 153, 0.4);
}

.task-card-role-badge-infra {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.4);
}

.task-card-role-badge-multi {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.task-card-role-badge-unknown {
  background: rgba(100, 100, 100, 0.2);
  color: #888;
  border: 1px solid rgba(100, 100, 100, 0.3);
  font-style: italic;
}

/* --- Drawer Role Badge --- */
.drawer-role-badge {
  display: inline-block;
  padding: 3px 10px;
  margin-left: 8px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.drawer-role-badge-dev {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.drawer-role-badge-com {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.4);
}

.drawer-role-badge-adm {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.4);
}

.drawer-role-badge-pro {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.4);
}

.drawer-role-badge-erp {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.drawer-role-badge-pat {
  background: rgba(236, 72, 153, 0.2);
  color: #f472b6;
  border: 1px solid rgba(236, 72, 153, 0.4);
}

.drawer-role-badge-infra {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.4);
}

.drawer-role-badge-unknown {
  background: rgba(100, 100, 100, 0.2);
  color: #888;
  border: 1px solid rgba(100, 100, 100, 0.3);
  font-style: italic;
}

/* --- VTID-01041: Editable Task Card Title Styles --- */

/* Editable title on card - show cursor pointer */
.task-card-title-editable {
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.task-card-title-editable:hover {
  background: rgba(59, 130, 246, 0.1);
  border-radius: 4px;
}

/* Placeholder title styling - italic, muted */
.task-card-title-placeholder {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Inline input for card title editing */
.task-card-title-input {
  width: 100%;
  padding: 4px 8px;
  font-size: 1rem;
  font-weight: 600;
  font-family: inherit;
  background: var(--color-bg);
  border: 1px solid var(--color-accent);
  border-radius: 4px;
  color: var(--color-text-primary);
  outline: none;
  box-sizing: border-box;
}

.task-card-title-input:focus {
  border-color: var(--color-accent-hover);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.task-card-title-input::placeholder {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- VTID-01041: Drawer Title Row Styles --- */

/* Drawer title row (below VTID heading) */
.drawer-title-row {
  display: flex;
  align-items: center;
  margin-top: 8px;
  padding: 6px 10px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 4px;
  font-size: 0.9rem;
}

.drawer-title-row.drawer-title-editable {
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.drawer-title-row.drawer-title-editable:hover {
  background: rgba(59, 130, 246, 0.1);
}

.drawer-title-label {
  color: var(--color-text-secondary);
  margin-right: 4px;
  font-weight: 500;
}

.drawer-title-value {
  color: var(--color-text-primary);
  font-weight: 600;
  flex: 1;
}

.drawer-title-placeholder .drawer-title-value {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Inline input for drawer title editing */
.drawer-title-input {
  flex: 1;
  padding: 4px 8px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: inherit;
  background: var(--color-bg);
  border: 1px solid var(--color-accent);
  border-radius: 4px;
  color: var(--color-text-primary);
  outline: none;
  box-sizing: border-box;
}

.drawer-title-input:focus {
  border-color: var(--color-accent-hover);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.drawer-title-input::placeholder {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- VTID-01045: Compact Task Cards + Date Filter Icon --- */

/* Compact card density: reduce padding and height */
.task-card {
  padding: 0.625rem 0.75rem;
}

.task-card-enhanced {
  min-height: 72px;
  max-height: 100px;
}

/* Reduce title font size and margins */
.task-card-title {
  font-size: 0.875rem;
  margin-bottom: 0.25rem;
  line-height: 1.3;
}

.task-card-enhanced .task-card-title {
  min-height: 2.4em;
  max-height: 2.4em;
}

/* VTID line: reduce margin */
.task-card-vtid-line {
  margin-bottom: 0.25rem;
}

/* Smaller VTID chip */
.task-card-vtid-label {
  font-size: 0.7rem;
  padding: 1px 6px;
}

.task-card-enhanced .task-card-vtid-label {
  font-size: 0.7rem;
  font-weight: 600;
  padding: 1px 6px;
}

/* Status row: single line flex, no wrap */
.task-card-status-row {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  gap: 6px;
  overflow: hidden;
  margin-bottom: 0.25rem;
}

/* Smaller status pills */
.task-card-status-pill {
  padding: 1px 6px;
  font-size: 0.6rem;
  height: 18px;
  line-height: 16px;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Smaller role badges */
.task-card-role-badge {
  padding: 1px 5px;
  font-size: 0.55rem;
  height: 16px;
  line-height: 14px;
  white-space: nowrap;
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Stage timeline compact */
.task-card-enhanced .task-stage-timeline {
  margin-top: 4px;
  padding-top: 4px;
}

.task-stage-timeline {
  gap: 3px;
  margin-top: 4px;
  padding-top: 4px;
}

/* Reduce column content gap */
.column-content {
  gap: 0.5rem;
}

/* --- Date Filter Calendar Icon Button --- */

/* Hidden date input (visually hidden but accessible) */
.date-hidden-input {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
  opacity: 0;
}

/* Calendar icon button container */
.date-filter-btn-container {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: 0.5rem;
}

/* Calendar icon button */
.date-filter-icon-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.date-filter-icon-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
  color: var(--color-text-primary);
}

.date-filter-icon-btn.date-filter-active {
  border-color: var(--color-accent);
  color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
}

/* Calendar SVG icon */
.date-filter-icon-btn svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

/* Active date indicator (compact text next to icon) */
.date-filter-indicator {
  font-size: 0.7rem;
  color: var(--color-accent);
  font-family: monospace;
  white-space: nowrap;
}

/* Clear date button (small X) */
.date-filter-clear-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  background: none;
  border: none;
  border-radius: 50%;
  color: var(--color-text-secondary);
  cursor: pointer;
  font-size: 0.75rem;
  transition: all 0.15s;
  padding: 0;
}

.date-filter-clear-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

/* ==========================================================================
   VTID-01069: ORB Input Surface v2 (Auto-Growing Chatbox, Symmetric Layout)
   VTID-01069-C: Geometry Lock - Exact proportions, no creativity
   ========================================================================== */

/* VTID-01069-C: Two-column layout for ORB overlay - LOCKED GEOMETRY */
.orb-overlay-layout {
  display: flex;
  width: 100vw;
  height: 100vh;
  gap: 0;
  padding: 0;
  box-sizing: border-box;
}

/* VTID-01069-D: Left column - 40vw, flex column with stream + input */
/* VTID-01069-F: Centering handled by stage */
.orb-left {
  width: 40vw;
  flex: 0 0 40vw;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  height: 100vh;
  padding: 0;
  box-sizing: border-box;
}

/* VTID-01069-F: Chat stage - centered, 2cm (~75px) more from left edge */
.orb-chat-stage {
  display: flex;
  flex-direction: column;
  width: 380px;
  max-width: calc(100% - 40px);
  height: calc(100vh - 40px);
  margin: 20px auto 20px calc(50% - 190px + 40px);
}

/* VTID-01069-D: Conversation stream - fills available height, scrollable */
/* VTID-01069-F: Scrollable without visible scrollbar */
.orb-chat-stream {
  flex: 1 1 auto;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 6px;
  padding: 12px 0;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
}

.orb-chat-stream::-webkit-scrollbar {
  display: none; /* Chrome/Safari */
}

/* VTID-01069-F: Bottom safe spacer - 120px desktop */
.orb-bottom-safe {
  flex: 0 0 120px;
  height: 120px;
}

/* VTID-01069-D: Empty state for conversation stream */
.orb-chat-stream-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: rgba(255, 255, 255, 0.5);
  text-align: center;
  padding: 32px;
}

.orb-chat-stream-empty-text {
  font-size: 0.95rem;
  margin: 0;
}

/* VTID-01069-D: Message bubbles in conversation stream */
.orb-stream-msg {
  display: flex;
  flex-direction: column;
  max-width: 85%;
}

.orb-stream-msg-user {
  align-self: flex-end;
}

.orb-stream-msg-assistant {
  align-self: flex-start;
}

/* VTID-01069-F: Premium scale typography (13px, 1.28 line-height, compact padding) */
.orb-stream-bubble {
  padding: 8px 11px;
  border-radius: 14px;
  font-size: 13px;
  line-height: 1.28;
  word-wrap: break-word;
}

.orb-stream-msg-user .orb-stream-bubble {
  background: rgba(139, 92, 246, 0.9);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.orb-stream-msg-assistant .orb-stream-bubble {
  background: rgba(255, 255, 255, 0.95);
  color: #1e293b;
  border-bottom-left-radius: 4px;
}

.orb-stream-msg-assistant.orb-stream-msg-speaking .orb-stream-bubble {
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.orb-stream-msg-thinking .orb-stream-bubble {
  background: rgba(255, 255, 255, 0.6);
  color: #64748b;
  font-style: italic;
}

/* VTID-01069-F: Interim speech recognition message (typing effect) */
.orb-stream-msg-interim .orb-stream-bubble {
  background: rgba(139, 92, 246, 0.15);
  border: 1px dashed rgba(139, 92, 246, 0.4);
  color: #64748b;
}

/* VTID-01069-E: Timestamps hidden entirely */
.orb-stream-time {
  display: none;
}

/* VTID-01069-D: Input zone wrapper - docked at bottom */
/* VTID-01069-F: Bottom spacing handled by .orb-bottom-safe */
.orb-inputzone-wrap {
  flex: 0 0 auto;
  display: flex;
  justify-content: center;
}

/* VTID-01069-D: Input bar - full width, flex row */
/* VTID-01069-F: Reduced scale (10-15% smaller) */
.orb-inputbar {
  display: flex;
  align-items: center;
  gap: 6px;
  background: rgba(255, 255, 255, 0.98);
  border-radius: 24px;
  padding: 6px 10px;
  box-shadow: 0 3px 16px rgba(0, 0, 0, 0.10);
  border: 1px solid rgba(0, 0, 0, 0.06);
  width: 100%;
  min-height: 48px;
  max-height: 35vh;
}

/* VTID-01069-D: Control rail - fixed width, no shrink */
/* VTID-01069-F: Tighter gap */
.orb-input-controls {
  display: flex;
  flex-direction: row;
  gap: 2px;
  flex: 0 0 auto;
  white-space: nowrap;
  align-items: center;
}

/* VTID-01069-F: Smaller control buttons */
.orb-input-control-btn {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 0;
}

.orb-input-control-btn:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-input-control-btn.orb-input-control-active {
  color: #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}

/* VTID-01069-F: Smaller icons */
.orb-input-control-btn svg {
  width: 16px;
  height: 16px;
}

/* VTID-01069-D: Textarea container - expands to fill available space */
/* VTID-01069-F: Reduced min-width for compact layout */
.orb-textarea-wrap {
  flex: 1 1 auto;
  min-width: 140px;
  display: flex;
  align-items: center;
}

/* VTID-01069-C: Base textarea styles */
/* VTID-01069-F: Smaller font and padding */
.orb-textarea {
  width: 100%;
  padding: 6px 10px;
  font-size: 13px;
  font-family: inherit;
  line-height: 1.4;
  color: #1e293b;
  background: transparent;
  border: none;
  resize: none;
  outline: none;
  transition: height 160ms ease;
  box-sizing: border-box;
}

.orb-textarea::placeholder {
  color: #94a3b8;
}

.orb-textarea:focus {
  outline: none;
}

/* VTID-01069-C: Focus ring on input bar */
.orb-inputbar:focus-within {
  border-color: var(--orb-primary);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12), 0 0 0 3px rgba(139, 92, 246, 0.15);
}

/* VTID-01069-C: Height bucket classes (class-based, no inline styles) */
/* h1: 1-2 lines */
.input-h1 .orb-textarea {
  height: 2.5rem;
  overflow-y: hidden;
}

/* h2: 3-5 lines */
.input-h2 .orb-textarea {
  height: 4.5rem;
  overflow-y: hidden;
}

/* h3: 6-9 lines */
.input-h3 .orb-textarea {
  height: 7rem;
  overflow-y: hidden;
}

/* h4: 10-14 lines */
.input-h4 .orb-textarea {
  height: 10rem;
  overflow-y: hidden;
}

/* h5: 15+ lines (MAX with scroll) */
.input-h5 .orb-textarea {
  height: 14rem;
  overflow-y: auto;
}

/* VTID-01069-C: Inline language dropdown in input bar */
.orb-input-lang {
  flex-shrink: 0;
  padding: 6px 10px;
  font-size: 0.8rem;
  font-weight: 500;
  color: #64748b;
  background: transparent;
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 16px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.orb-input-lang:hover {
  border-color: rgba(0, 0, 0, 0.2);
  color: #334155;
}

.orb-input-lang:focus {
  outline: none;
  border-color: var(--orb-primary);
}

/* VTID-01069-C: Send button in input bar */
.orb-input-send {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: var(--orb-primary);
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.orb-input-send:hover:not(:disabled) {
  background: var(--orb-secondary);
  transform: scale(1.05);
}

.orb-input-send:disabled {
  background: #cbd5e1;
  cursor: not-allowed;
  transform: none;
}

/* VTID-01069-F: Active send button when text is entered */
.orb-input-send-active {
  background: var(--orb-secondary);
  box-shadow: 0 0 12px rgba(16, 185, 129, 0.5);
}

.orb-input-send svg {
  width: 18px;
  height: 18px;
}

/* VTID-01069-C: Bottom spacer for vertical centering */
.orb-left-bottomspacer {
  flex: 1;
}

/* VTID-01069-C: Right column - 60vw EXACTLY, ORB centered */
.orb-right {
  width: 60vw;
  flex: 0 0 60vw;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0;
}

/* VTID-01069-D: ORB size = 50vh (20% reduction from 62vh) */
.orb-overlay.orb-overlay-twocol .orb-shell {
  width: 50vh;
  height: 50vh;
}

.orb-overlay.orb-overlay-twocol .orb-large {
  width: 100%;
  height: 100%;
}

/* VTID-01069-D: Hide ORB-adjacent controls in twocol mode (stream is separate) */
.orb-overlay.orb-overlay-twocol .orb-state-pill,
.orb-overlay.orb-overlay-twocol .orb-live-transcript,
.orb-overlay.orb-overlay-twocol .orb-controls,
.orb-overlay.orb-overlay-twocol .orb-lang-settings,
.orb-overlay.orb-overlay-twocol .orb-badges,
.orb-overlay.orb-overlay-twocol .orb-stop-tts {
  display: none;
}

/* VTID-01069-C: Override overlay for two-column layout */
.orb-overlay.orb-overlay-twocol {
  flex-direction: row;
  align-items: stretch;
  justify-content: flex-start;
  padding: 0;
}

/* VTID-01069-C: Close button - 64px, bottom center, 24px offset */
.orb-close-btn {
  position: fixed;
  bottom: 24px;
  left: 50%;
  transform: translateX(-50%);
  width: 64px;
  height: 64px;
  border-radius: 50%;
  border: none;
  background: rgba(255, 255, 255, 0.95);
  color: #64748b;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
  transition: all 0.2s ease;
  z-index: 10;
}

.orb-close-btn:hover {
  background: #fff;
  color: #ef4444;
  transform: translateX(-50%) scale(1.05);
}

.orb-close-btn svg {
  width: 28px;
  height: 28px;
}

/* VTID-01069-C: Responsive - stack vertically on narrow screens */
/* VTID-01069-F: Mobile-ready with centered stage */
@media (max-width: 900px) {
  .orb-overlay-layout {
    flex-direction: column-reverse;
  }

  .orb-left {
    width: 100vw;
    flex: 0 0 auto;
    height: auto;
    padding: 16px;
  }

  /* VTID-01069-F: Chat stage stays centered on mobile */
  .orb-chat-stage {
    max-width: 100%;
    padding: 0 8px;
  }

  .orb-right {
    width: 100vw;
    flex: 1;
  }

  .orb-overlay.orb-overlay-twocol .orb-shell {
    width: calc(45vw);
    height: calc(45vw);
    max-width: 280px;
    max-height: 280px;
  }

  .orb-inputbar {
    width: 100%;
  }

  .orb-close-btn {
    bottom: 16px;
    width: 52px;
    height: 52px;
  }

  .orb-close-btn svg {
    width: 24px;
    height: 24px;
  }

  .orb-chat-stream {
    max-height: 35vh;
  }

  /* VTID-01069-F: Smaller bottom safe on mobile (80px) */
  .orb-bottom-safe {
    flex: 0 0 80px;
    height: 80px;
  }
}

/* =============================================================================
   VTID-01086: Memory Garden UI Styles
   ============================================================================= */

.memory-garden-container {
  display: flex;
  flex-direction: column;
  gap: 24px;
  padding: 24px;
  max-width: 1400px;
  margin: 0 auto;
  height: 100%;
  overflow-y: auto;
}

.memory-garden-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 16px;
  flex-wrap: wrap;
}

.memory-garden-title-section h2 {
  margin: 0 0 4px 0;
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary, #e0e0e0);
}

.memory-garden-title-section .section-subtitle {
  margin: 0;
  font-size: 14px;
  color: var(--text-secondary, #888);
}

.memory-garden-actions {
  display: flex;
  gap: 8px;
}

.memory-garden-loading,
.memory-garden-error {
  padding: 40px;
  text-align: center;
  color: var(--text-secondary, #888);
  font-size: 14px;
}

.memory-garden-error {
  color: var(--error, #f44336);
}

.memory-garden-main {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* Longevity Focus Panel */
.longevity-focus-panel {
  background: linear-gradient(135deg, rgba(76, 175, 80, 0.1) 0%, rgba(33, 150, 243, 0.1) 100%);
  border: 1px solid rgba(76, 175, 80, 0.3);
  border-radius: 12px;
  padding: 20px;
}

.longevity-panel-header {
  margin-bottom: 16px;
}

.longevity-panel-header h3 {
  margin: 0;
  font-size: 18px;
  font-weight: 600;
  color: var(--text-primary, #e0e0e0);
}

.longevity-loading,
.longevity-no-data {
  padding: 16px;
  text-align: center;
  color: var(--text-secondary, #888);
  font-size: 14px;
}

.longevity-signals {
  display: flex;
  gap: 24px;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.longevity-signal {
  display: flex;
  flex-direction: column;
  gap: 4px;
  min-width: 120px;
  padding: 12px 16px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}

.signal-label {
  font-size: 12px;
  font-weight: 500;
  text-transform: uppercase;
  color: var(--text-secondary, #888);
}

.signal-value {
  font-size: 24px;
  font-weight: 600;
  color: var(--text-primary, #e0e0e0);
}

.signal-trend {
  font-size: 12px;
  font-weight: 500;
  text-transform: capitalize;
}

.signal-trend.trend-improving,
.signal-trend.trend-high {
  color: var(--success, #4caf50);
}

.signal-trend.trend-declining,
.signal-trend.trend-low {
  color: var(--error, #f44336);
}

.signal-trend.trend-stable,
.signal-trend.trend-moderate {
  color: var(--warning, #ff9800);
}

.longevity-recommendation {
  padding: 12px 16px;
  background: rgba(33, 150, 243, 0.1);
  border: 1px solid rgba(33, 150, 243, 0.3);
  border-radius: 8px;
  margin-bottom: 16px;
}

.longevity-recommendation .rec-title {
  font-size: 14px;
  font-weight: 600;
  color: var(--accent, #2196f3);
  margin-bottom: 4px;
}

.longevity-recommendation .rec-description {
  font-size: 13px;
  color: var(--text-secondary, #888);
}

.longevity-why-matters {
  padding: 12px 16px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
}

.longevity-why-matters .why-title {
  font-size: 12px;
  font-weight: 600;
  text-transform: uppercase;
  color: var(--text-secondary, #888);
  margin-bottom: 4px;
}

.longevity-why-matters .why-text {
  font-size: 14px;
  color: var(--text-primary, #e0e0e0);
  line-height: 1.5;
}

/* Memory Garden Grid - Production-style layout */
.memory-garden-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 16px;
}

.memory-garden-card {
  background: linear-gradient(135deg, rgba(40, 40, 40, 0.9) 0%, rgba(30, 30, 30, 0.95) 100%);
  border: 1px solid var(--border-color, #333);
  border-radius: 16px;
  padding: 20px;
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
  overflow: hidden;
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 16px;
}

.memory-garden-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0.08;
  transition: opacity 0.3s;
  pointer-events: none;
}

.memory-garden-card:hover {
  border-color: rgba(255, 255, 255, 0.2);
  transform: translateY(-4px);
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
}

.memory-garden-card:hover::before {
  opacity: 0.15;
}

/* Category-specific gradient accents - matching production Memory Garden */
.memory-garden-card[data-category="personal_identity"]::before { background: linear-gradient(135deg, #ff6b9d, #ff8a65); }
.memory-garden-card[data-category="health_wellness"]::before { background: linear-gradient(135deg, #4ecdc4, #44a08d); }
.memory-garden-card[data-category="lifestyle_routines"]::before { background: linear-gradient(135deg, #667eea, #764ba2); }
.memory-garden-card[data-category="business_projects"]::before { background: linear-gradient(135deg, #f093fb, #f5576c); }
.memory-garden-card[data-category="network_relationships"]::before { background: linear-gradient(135deg, #4facfe, #00f2fe); }
.memory-garden-card[data-category="learning_knowledge"]::before { background: linear-gradient(135deg, #43e97b, #38f9d7); }
.memory-garden-card[data-category="finance_assets"]::before { background: linear-gradient(135deg, #fa709a, #fee140); }
.memory-garden-card[data-category="location_environment"]::before { background: linear-gradient(135deg, #a8edea, #fed6e3); }
.memory-garden-card[data-category="digital_footprint"]::before { background: linear-gradient(135deg, #d299c2, #fef9d7); }
.memory-garden-card[data-category="values_aspirations"]::before { background: linear-gradient(135deg, #89f7fe, #66a6ff); }
.memory-garden-card[data-category="autopilot_context"]::before { background: linear-gradient(135deg, #cd9cf2, #f6f3ff); }
.memory-garden-card[data-category="future_plans"]::before { background: linear-gradient(135deg, #ffecd2, #fcb69f); }
.memory-garden-card[data-category="uncategorized"]::before { background: linear-gradient(135deg, #868f96, #596164); }

.memory-garden-card .card-icon {
  width: 48px;
  height: 48px;
  min-width: 48px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  position: relative;
  z-index: 1;
}

.memory-garden-card .card-icon svg {
  width: 24px;
  height: 24px;
  fill: var(--text-primary, #e0e0e0);
}

.memory-garden-card .card-content {
  flex: 1;
  min-width: 0;
  position: relative;
  z-index: 1;
}

.memory-garden-card .card-label {
  font-size: 16px;
  font-weight: 600;
  color: var(--text-primary, #e0e0e0);
  margin-bottom: 4px;
}

.memory-garden-card .card-count {
  font-size: 13px;
  color: var(--text-secondary, #888);
  margin-bottom: 8px;
}

.card-progress-container {
  display: flex;
  align-items: center;
  gap: 8px;
}

.card-progress-bar {
  flex: 1;
  height: 6px;
  background: rgba(255, 255, 255, 0.1);
  border-radius: 3px;
  overflow: hidden;
}

.card-progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent, #2196f3), var(--success, #4caf50));
  border-radius: 3px;
  transition: width 0.3s ease;
}

.card-progress-text {
  font-size: 12px;
  font-weight: 600;
  color: var(--text-secondary, #888);
  min-width: 36px;
  text-align: right;
}

.memory-garden-card .card-stats-row {
  font-size: 13px;
  color: var(--text-secondary, #888);
  margin-bottom: 6px;
}

.memory-garden-card .card-description {
  font-size: 13px;
  color: var(--text-muted, #999);
  margin-top: 4px;
  line-height: 1.4;
}

/* Category Detail Modal */
.category-detail-modal {
  max-width: 700px;
  width: 95vw;
  max-height: 80vh;
  display: flex;
  flex-direction: column;
}

.category-detail-modal .modal-header {
  background: linear-gradient(135deg, rgba(60, 60, 60, 0.95) 0%, rgba(40, 40, 40, 0.95) 100%);
  border-radius: 16px 16px 0 0;
  padding: 20px 24px;
  display: flex;
  align-items: center;
  gap: 16px;
}

.category-detail-modal .modal-header-icon {
  width: 48px;
  height: 48px;
  min-width: 48px;
  border-radius: 12px;
  background: rgba(255, 255, 255, 0.15);
  display: flex;
  align-items: center;
  justify-content: center;
}

.category-detail-modal .modal-header-icon svg {
  width: 24px;
  height: 24px;
  fill: white;
}

.category-detail-modal .modal-header-text {
  flex: 1;
}

.category-detail-modal .modal-header-text h3 {
  font-size: 18px;
  font-weight: 600;
  color: white;
  margin: 0 0 4px 0;
}

.category-detail-modal .modal-header-text .memory-count {
  font-size: 14px;
  color: rgba(255, 255, 255, 0.7);
}

.category-detail-modal .modal-body {
  padding: 20px 24px;
  flex: 1;
  overflow-y: auto;
  min-height: 200px;
}

.category-detail-modal .subcategory-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  margin-bottom: 20px;
}

.category-detail-modal .subcategory-tab {
  padding: 6px 12px;
  background: var(--card-bg, #2a2a2a);
  border: 1px solid var(--border-color, #444);
  border-radius: 16px;
  color: var(--text-secondary, #888);
  font-size: 13px;
  cursor: pointer;
  transition: all 0.2s;
}

.category-detail-modal .subcategory-tab:hover {
  border-color: var(--accent, #2196f3);
}

.category-detail-modal .subcategory-tab.active {
  background: var(--accent, #2196f3);
  border-color: var(--accent, #2196f3);
  color: white;
}

.category-detail-modal .memories-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.category-detail-modal .memory-item {
  padding: 12px 16px;
  background: var(--card-bg, #2a2a2a);
  border: 1px solid var(--border-color, #333);
  border-radius: 8px;
}

.category-detail-modal .memory-item-content {
  color: var(--text-primary, #e0e0e0);
  font-size: 14px;
  line-height: 1.5;
  margin-bottom: 8px;
}

.category-detail-modal .memory-item-meta {
  font-size: 12px;
  color: var(--text-muted, #666);
}

.category-detail-modal .empty-memories {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted, #666);
}

.category-detail-modal .empty-memories p {
  margin: 8px 0;
}

/* Diary Entry Modal */
.diary-entry-modal {
  max-width: 500px;
  width: 90vw;
}

.diary-textarea {
  width: 100%;
  min-height: 120px;
  padding: 12px;
  background: var(--input-bg, #2a2a2a);
  border: 1px solid var(--border-color, #333);
  border-radius: 8px;
  color: var(--text-primary, #e0e0e0);
  font-size: 14px;
  font-family: inherit;
  resize: vertical;
}

.diary-textarea:focus {
  outline: none;
  border-color: var(--accent, #2196f3);
}

.diary-textarea::placeholder {
  color: var(--text-muted, #666);
}

.diary-hint {
  margin-top: 8px;
  font-size: 12px;
  color: var(--text-muted, #666);
}

/* Mobile responsive adjustments */
@media (max-width: 768px) {
  .memory-garden-container {
    padding: 16px;
    gap: 16px;
  }

  .memory-garden-header {
    flex-direction: column;
    align-items: stretch;
  }

  .memory-garden-actions {
    justify-content: flex-start;
  }

  .longevity-signals {
    flex-direction: column;
  }

  .longevity-signal {
    min-width: auto;
    flex-direction: row;
    justify-content: space-between;
    align-items: center;
  }

  .signal-value {
    font-size: 18px;
  }

  .memory-garden-grid {
    grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
    gap: 12px;
  }

  .memory-garden-card {
    padding: 12px;
  }

  .memory-garden-card .card-icon {
    width: 32px;
    height: 32px;
  }

  .memory-garden-card .card-icon svg {
    width: 20px;
    height: 20px;
  }
}

/* ===========================================================================
 * INTELLIGENCE & MEMORY DEV SCREENS
 * Knowledge Graph, Embeddings, Recall, Inspector
 * =========================================================================== */

/* --- Shared Intelligence Container --- */
.intelligence-container {
  padding: 24px;
  max-width: 1600px;
  margin: 0 auto;
  display: flex;
  flex-direction: column;
  gap: 20px;
  height: calc(100vh - var(--header-height) - 60px);
  overflow-y: auto;
}

.intelligence-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  flex-wrap: wrap;
  gap: 16px;
}

.intelligence-title-section h2 {
  margin: 0 0 4px 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.intelligence-title-section .section-subtitle {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.intelligence-actions {
  display: flex;
  gap: 8px;
}

/* --- Stats Bar --- */
.intelligence-stats-bar {
  display: flex;
  gap: 16px;
  flex-wrap: wrap;
}

.stat-card {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 16px 20px;
  display: flex;
  align-items: center;
  gap: 12px;
  min-width: 140px;
  flex: 1;
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(59, 130, 246, 0.1);
  color: var(--color-accent);
}

.stat-icon svg {
  width: 20px;
  height: 20px;
}

.stat-icon-node { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }
.stat-icon-edge { background: rgba(16, 185, 129, 0.1); color: #10b981; }
.stat-icon-entity { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
.stat-icon-concept { background: rgba(168, 85, 247, 0.1); color: #a855f7; }
.stat-icon-memory { background: rgba(236, 72, 153, 0.1); color: #ec4899; }

.stat-content {
  display: flex;
  flex-direction: column;
}

.stat-value {
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text-primary);
  line-height: 1.2;
}

.stat-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* --- Toolbar --- */
.intelligence-toolbar {
  display: flex;
  gap: 12px;
  align-items: center;
  flex-wrap: wrap;
}

.filter-select {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 8px 12px;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  min-width: 140px;
  cursor: pointer;
}

.filter-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* --- Knowledge Graph --- */
.knowledge-graph-main {
  display: grid;
  grid-template-columns: 1fr 320px;
  gap: 20px;
  flex: 1;
  min-height: 0;
}

.knowledge-graph-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.graph-visualization-placeholder {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 40px;
}

.graph-placeholder-content {
  max-width: 400px;
}

.graph-icon {
  width: 80px;
  height: 80px;
  margin: 0 auto 20px;
  background: rgba(59, 130, 246, 0.1);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  color: var(--color-accent);
}

.graph-icon svg {
  width: 40px;
  height: 40px;
}

.graph-placeholder-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 8px;
}

.graph-placeholder-desc {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-bottom: 20px;
  line-height: 1.5;
}

.knowledge-graph-detail {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.knowledge-graph-detail h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.node-detail-content {
  margin-bottom: 20px;
}

.node-detail-field {
  padding: 8px 0;
  border-bottom: 1px solid var(--color-border);
  font-size: 0.875rem;
}

.node-detail-field .field-label {
  color: var(--color-text-secondary);
  margin-right: 8px;
}

.no-selection-message {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  text-align: center;
  padding: 20px;
}

.detail-section-title {
  margin: 20px 0 12px 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.recent-nodes-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.recent-node-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 12px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
}

.recent-node-item:hover {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.05);
}

.node-type-badge {
  width: 24px;
  height: 24px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 600;
}

.node-type-entity .node-type-badge {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.node-type-memory .node-type-badge {
  background: rgba(236, 72, 153, 0.15);
  color: #ec4899;
}

.node-type-concept .node-type-badge {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

.node-label {
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

/* --- Embeddings --- */
.embeddings-main {
  display: grid;
  grid-template-columns: 1fr 400px;
  gap: 20px;
  flex: 1;
  min-height: 0;
}

.embeddings-collections-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.embeddings-collections-panel h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
}

.collections-grid {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.collection-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 16px;
  cursor: pointer;
  transition: all 0.2s;
}

.collection-card:hover {
  border-color: var(--color-accent);
}

.collection-card.selected {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.05);
}

.collection-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.collection-name {
  font-weight: 600;
  color: var(--color-text-primary);
}

.collection-status {
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: 500;
}

.collection-status.status-active {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.collection-status.status-indexing {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.collection-stats {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.collection-stat {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.collection-stat .stat-num {
  font-weight: 600;
  color: var(--color-text-primary);
}

.collection-model {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-family: monospace;
}

.embeddings-search-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.embeddings-search-panel h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

.search-form {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.search-textarea {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 12px;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  resize: vertical;
  min-height: 80px;
}

.search-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

.search-results-container {
  flex: 1;
  overflow-y: auto;
}

.search-results-container h4 {
  margin: 0 0 12px 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
}

.search-result-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 12px;
  margin-bottom: 8px;
}

.result-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.result-score {
  font-size: 0.75rem;
  font-weight: 600;
  color: #10b981;
  background: rgba(16, 185, 129, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
}

.result-collection {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.result-text {
  font-size: 0.875rem;
  color: var(--color-text-primary);
  line-height: 1.5;
}

.no-results-message {
  text-align: center;
  padding: 40px 20px;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Recall --- */
.recall-main {
  display: grid;
  grid-template-columns: 350px 1fr 280px;
  gap: 20px;
  flex: 1;
  min-height: 0;
}

.recall-query-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.recall-query-panel h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
}

.recall-query-input {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 12px;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  resize: vertical;
  min-height: 100px;
}

.recall-query-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.recall-filters {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.min-score-label {
  display: flex;
  align-items: center;
  gap: 12px;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.min-score-slider {
  flex: 1;
  accent-color: var(--color-accent);
}

.min-score-value {
  min-width: 40px;
  text-align: right;
  font-weight: 600;
  color: var(--color-text-primary);
}

.btn-lg {
  padding: 12px 24px;
  font-size: 1rem;
}

.recall-results-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.recall-results-panel h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
}

.recall-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  padding: 60px 20px;
  color: var(--color-text-secondary);
}

.loading-spinner {
  width: 40px;
  height: 40px;
  border: 3px solid var(--color-border);
  border-top-color: var(--color-accent);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.recall-results-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.recall-result-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s;
}

.recall-result-card:hover {
  border-color: var(--color-accent);
}

.recall-result-card.selected {
  border-color: var(--color-accent);
  box-shadow: 0 0 0 1px var(--color-accent);
}

.result-score-bar {
  height: 4px;
  background: var(--color-border);
}

.score-fill {
  height: 100%;
  background: linear-gradient(90deg, #10b981, #3b82f6);
  transition: width 0.3s ease;
}

.recall-result-card .result-header {
  padding: 12px 16px 8px;
  display: flex;
  align-items: center;
  gap: 12px;
}

.result-rank {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
}

.result-score-text {
  font-size: 0.75rem;
  font-weight: 600;
  color: #10b981;
}

.result-source {
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 4px;
  margin-left: auto;
}

.source-memories {
  background: rgba(236, 72, 153, 0.15);
  color: #ec4899;
}

.source-knowledge {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

.source-conversations {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.recall-result-card .result-text {
  padding: 0 16px 12px;
}

.result-metadata {
  padding: 8px 16px 12px;
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
}

.meta-item {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.meta-key {
  color: var(--color-text-secondary);
  opacity: 0.7;
}

.recall-empty-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 60px 20px;
  text-align: center;
}

.empty-icon {
  width: 64px;
  height: 64px;
  margin-bottom: 16px;
  color: var(--color-text-secondary);
  opacity: 0.5;
}

.empty-icon svg {
  width: 100%;
  height: 100%;
}

.empty-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 8px;
}

.empty-desc {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.recall-history-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.recall-history-panel h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
}

.history-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.history-item {
  padding: 10px 12px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.2s;
}

.history-item:hover {
  border-color: var(--color-accent);
}

.history-query {
  font-size: 0.875rem;
  color: var(--color-text-primary);
  margin-bottom: 4px;
  word-break: break-word;
}

.history-meta {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.no-history {
  text-align: center;
  padding: 20px;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Inspector --- */
.inspector-filters-bar {
  display: flex;
  gap: 12px;
  flex-wrap: wrap;
}

.inspector-main {
  display: grid;
  grid-template-columns: 400px 1fr;
  gap: 20px;
  flex: 1;
  min-height: 0;
}

.inspector-sessions-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.inspector-sessions-panel h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
}

.sessions-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.session-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 14px;
  cursor: pointer;
  transition: all 0.2s;
}

.session-card:hover {
  border-color: var(--color-accent);
}

.session-card.selected {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.05);
}

.session-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 8px;
}

.session-surface {
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 500;
  text-transform: uppercase;
}

.surface-operator {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.surface-orb {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

.surface-api {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.session-status {
  font-size: 0.75rem;
  padding: 2px 8px;
  border-radius: 4px;
  font-weight: 500;
}

.status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.status-pending {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.session-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  margin-left: auto;
}

.session-query {
  font-size: 0.875rem;
  color: var(--color-text-primary);
  margin-bottom: 8px;
  line-height: 1.4;
}

.session-meta {
  display: flex;
  gap: 16px;
}

.session-meta .meta-item {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.session-error {
  margin-top: 8px;
  padding: 8px 10px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 4px;
  font-size: 0.75rem;
  color: #ef4444;
}

.inspector-detail-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  padding: 20px;
  overflow-y: auto;
}

.inspector-detail-panel h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  font-weight: 600;
}

.session-info {
  margin-bottom: 20px;
  padding-bottom: 16px;
  border-bottom: 1px solid var(--color-border);
}

.info-row {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 6px 0;
  font-size: 0.875rem;
}

.info-label {
  color: var(--color-text-secondary);
  min-width: 100px;
}

.status-badge {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.detail-section {
  margin-bottom: 20px;
}

.detail-section h4 {
  margin: 0 0 12px 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.query-box {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 12px;
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

.tools-list {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.tool-card {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  overflow: hidden;
}

.tool-header {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px;
  background: rgba(0, 0, 0, 0.2);
}

.tool-name {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-accent);
  font-family: monospace;
}

.tool-duration {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.tool-toggle-btn {
  margin-left: auto;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  padding: 4px 10px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.tool-toggle-btn:hover {
  border-color: var(--color-accent);
  color: var(--color-accent);
}

.tool-details {
  padding: 12px;
  border-top: 1px solid var(--color-border);
}

.tool-args,
.tool-result {
  margin-bottom: 12px;
}

.tool-args strong,
.tool-result strong {
  display: block;
  margin-bottom: 8px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.tool-details pre {
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 10px;
  font-size: 0.8rem;
  color: var(--color-text-primary);
  overflow-x: auto;
  margin: 0;
}

.no-selection-state {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 80px 20px;
  text-align: center;
}

/* --- Responsive: Intelligence Screens --- */
@media (max-width: 1200px) {
  .knowledge-graph-main {
    grid-template-columns: 1fr;
  }

  .knowledge-graph-detail {
    max-height: 300px;
  }

  .embeddings-main {
    grid-template-columns: 1fr;
  }

  .recall-main {
    grid-template-columns: 1fr;
  }

  .recall-history-panel {
    order: -1;
    max-height: 200px;
  }

  .inspector-main {
    grid-template-columns: 1fr;
  }

  .inspector-sessions-panel {
    max-height: 300px;
  }
}

@media (max-width: 768px) {
  .intelligence-container {
    padding: 16px;
  }

  .intelligence-stats-bar {
    flex-direction: column;
  }

  .stat-card {
    min-width: 100%;
  }
}

/* ===========================================================================
 * VTID-01173: Agents Control Plane v1 - Worker Orchestrator Registry Styles
 * =========================================================================== */

.agents-registry-container {
  padding: 16px 24px;
  max-width: 1400px;
}

.agents-registry-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.agents-registry-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.agents-registry-subtitle {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  margin: 0;
}

.agents-refresh-btn {
  margin-left: auto;
}

/* API Status Strip */
.agents-api-status-strip {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.8);
  border-radius: 8px;
  margin-bottom: 20px;
  border: 1px solid var(--color-border);
}

.agents-api-status-item {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 0.875rem;
  padding: 4px 8px;
  border-radius: 4px;
}

.agents-api-status-icon {
  font-size: 1rem;
}

.agents-api-status-ok {
  background: rgba(16, 185, 129, 0.1);
}

.agents-api-status-error {
  background: rgba(239, 68, 68, 0.1);
}

.agents-api-status-pending {
  background: rgba(245, 158, 11, 0.1);
}

.agents-api-status-label {
  color: var(--color-text-secondary);
}

.agents-api-status-value {
  color: var(--color-text-primary);
  font-family: monospace;
}

/* Error Panel */
.agents-error-panel {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 20px;
}

.agents-error-panel h4 {
  margin: 0 0 12px 0;
  color: #ef4444;
  font-size: 1rem;
}

.agents-error-item {
  margin-bottom: 12px;
}

.agents-error-item:last-child {
  margin-bottom: 0;
}

.agents-error-text {
  margin: 8px 0 0 0;
  padding: 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 150px;
  overflow-y: auto;
}

/* Loading State */
.agents-loading {
  text-align: center;
  padding: 40px;
  color: var(--color-text-secondary);
  font-size: 1rem;
}

/* Fingerprints Section */
.agents-fingerprints-section {
  background: rgba(30, 41, 59, 0.6);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 20px;
  border: 1px solid var(--color-border);
}

.agents-fingerprints-section h4 {
  margin: 0 0 12px 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.agents-fingerprints-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 24px;
}

.agents-fingerprint-item {
  display: flex;
  gap: 8px;
}

.agents-fingerprint-label {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.agents-fingerprint-value {
  color: var(--color-accent);
  font-family: monospace;
  font-size: 0.875rem;
  font-weight: 600;
}

/* Cards */
.agents-card {
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 20px;
  border: 1px solid var(--color-border);
}

.agents-card h3 {
  margin: 0 0 16px 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.agents-card-empty {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* Info Grid */
.agents-info-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  gap: 12px;
  margin-bottom: 16px;
}

.agents-info-row {
  display: flex;
  gap: 8px;
}

.agents-info-label {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.agents-info-value {
  color: var(--color-text-primary);
  font-size: 0.875rem;
  font-family: monospace;
}

/* Subagent Badges */
.agents-orchestrator-subagents,
.agents-orchestrator-endpoints {
  margin-top: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--color-border);
}

.agents-orchestrator-subagents h4,
.agents-orchestrator-endpoints h4 {
  margin: 0 0 12px 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.agents-subagent-badges {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.agents-subagent-badge {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.75rem;
  font-weight: 500;
}

.agents-subagent-badge.badge-success {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.agents-subagent-badge.badge-secondary {
  background: rgba(148, 163, 184, 0.2);
  color: var(--color-text-secondary);
}

/* Endpoint List */
.agents-endpoint-list {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.agents-endpoint-item {
  padding: 4px 10px;
  background: rgba(59, 130, 246, 0.1);
  border-radius: 4px;
  font-size: 0.75rem;
  font-family: monospace;
  color: var(--color-accent);
}

/* Sections */
.agents-section {
  margin-bottom: 24px;
}

.agents-section h3 {
  margin: 0 0 16px 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.agents-section-empty {
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 16px;
  background: rgba(30, 41, 59, 0.4);
  border-radius: 8px;
}

/* Tables */
.agents-table {
  width: 100%;
  border-collapse: collapse;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  overflow: hidden;
  border: 1px solid var(--color-border);
}

.agents-table thead {
  background: rgba(30, 41, 59, 0.8);
}

.agents-table th {
  padding: 12px 16px;
  text-align: left;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  border-bottom: 1px solid var(--color-border);
}

.agents-table td {
  padding: 12px 16px;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  border-bottom: 1px solid var(--color-border);
  vertical-align: top;
}

.agents-table tbody tr:last-child td {
  border-bottom: none;
}

.agents-table tbody tr:hover {
  background: rgba(59, 130, 246, 0.05);
}

.agents-table-id {
  font-family: monospace;
  font-weight: 500;
  color: var(--color-accent);
}

/* Compact Lists in Tables */
.agents-list-compact {
  margin: 0;
  padding: 0 0 0 16px;
  list-style: disc;
}

.agents-list-compact li {
  font-size: 0.8125rem;
  line-height: 1.5;
  color: var(--color-text-secondary);
}

/* Preflight Chains */
.agents-preflight-chains {
  margin-top: 20px;
  padding: 16px;
  background: rgba(30, 41, 59, 0.6);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.agents-preflight-chains h4 {
  margin: 0 0 12px 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.agents-chain-row {
  margin-bottom: 8px;
  font-size: 0.875rem;
}

.agents-chain-row:last-child {
  margin-bottom: 0;
}

.agents-chain-row strong {
  color: var(--color-text-secondary);
  text-transform: capitalize;
}

.agents-chain-row span {
  font-family: monospace;
  color: var(--color-accent);
}

/* Debug Section */
.agents-debug-section {
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid var(--color-border);
}

.agents-debug-section h3 {
  margin: 0 0 16px 0;
  font-size: 1rem;
  color: var(--color-text-secondary);
}

.agents-raw-json-section {
  margin-bottom: 12px;
}

.agents-raw-json-toggle {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  padding: 8px 12px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 0.875rem;
  width: 100%;
  text-align: left;
  transition: background 0.2s;
}

.agents-raw-json-toggle:hover {
  background: rgba(59, 130, 246, 0.1);
  color: var(--color-text-primary);
}

.agents-raw-json-content {
  margin: 8px 0 0 0;
  padding: 12px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 400px;
  overflow-y: auto;
  border: 1px solid var(--color-border);
}

/* Skills View Container */
.agents-skills-view-container {
  padding: 16px 24px;
  max-width: 1400px;
}

/* Responsive */
@media (max-width: 768px) {
  .agents-registry-container,
  .agents-skills-view-container {
    padding: 12px 16px;
  }

  .agents-api-status-strip {
    flex-direction: column;
    gap: 8px;
  }

  .agents-fingerprints-grid {
    flex-direction: column;
    gap: 12px;
  }

  .agents-info-grid {
    grid-template-columns: 1fr;
  }

  .agents-table {
    font-size: 0.8125rem;
  }

  .agents-table th,
  .agents-table td {
    padding: 8px 12px;
  }
}

/* ===========================================================================
 * VTID-01174: Agents Control Plane v2 - Pipelines Styles
 * =========================================================================== */

.pipelines-container {
  padding: 16px 24px;
  max-width: 1600px;
  overflow-y: auto;
}

.pipelines-header {
  display: flex;
  align-items: center;
  gap: 16px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.pipelines-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.pipelines-subtitle {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  margin: 0;
}

.pipelines-refresh-btn {
  margin-left: auto;
}

/* Controls Bar */
.pipelines-controls {
  display: flex;
  align-items: center;
  gap: 24px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}

.pipelines-filter-pills {
  display: flex;
  gap: 8px;
}

.pipelines-filter-pill {
  padding: 6px 14px;
  border-radius: 20px;
  font-size: 0.8125rem;
  font-weight: 500;
  background: rgba(30, 41, 59, 0.6);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  cursor: pointer;
  transition: all 0.2s ease;
}

.pipelines-filter-pill:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: var(--color-accent);
  color: var(--color-text-primary);
}

.pipelines-filter-pill-active {
  background: var(--color-accent);
  color: white;
  border-color: var(--color-accent);
}

.pipelines-time-selector {
  display: flex;
  align-items: center;
  gap: 8px;
}

.pipelines-time-label {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
}

.pipelines-time-btn {
  padding: 4px 10px;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: rgba(30, 41, 59, 0.4);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  cursor: pointer;
  transition: all 0.2s ease;
}

.pipelines-time-btn:hover {
  background: rgba(59, 130, 246, 0.1);
  color: var(--color-text-primary);
}

.pipelines-time-btn-active {
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
  border-color: var(--color-accent);
}

/* Stats Bar */
.pipelines-stats {
  display: flex;
  gap: 24px;
  padding: 12px 16px;
  background: rgba(30, 41, 59, 0.5);
  border-radius: 8px;
  margin-bottom: 16px;
  font-size: 0.875rem;
}

.pipelines-stat {
  color: var(--color-text-secondary);
}

.pipelines-stat strong {
  color: var(--color-text-primary);
  font-weight: 600;
}

.pipelines-stat-active strong {
  color: #fbbf24;
}

.pipelines-stat-failed strong {
  color: #ef4444;
}

/* Loading State */
.pipelines-loading {
  text-align: center;
  padding: 40px;
  color: var(--color-text-secondary);
  font-size: 1rem;
}

.pipelines-empty {
  text-align: center;
  padding: 40px;
  color: var(--color-text-secondary);
  font-style: italic;
}

/* Pipelines List */
.pipelines-list {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

/* Pipeline Row */
.pipeline-row {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
  transition: all 0.2s ease;
}

.pipeline-row:hover {
  border-color: var(--color-accent);
}

.pipeline-row-expanded {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.05);
}

.pipeline-row-main {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.pipeline-row-main:hover {
  background: rgba(255, 255, 255, 0.02);
}

.pipeline-expand-icon {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  min-width: 16px;
}

.pipeline-vtid {
  font-family: monospace;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-accent);
  min-width: 100px;
}

.pipeline-status-badge {
  font-size: 0.6875rem;
  font-weight: 600;
  text-transform: uppercase;
  padding: 3px 8px;
  border-radius: 4px;
  min-width: 80px;
  text-align: center;
}

.pipeline-status-active {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.pipeline-status-scheduled {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.pipeline-status-success {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.4);
}

.pipeline-status-failed {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.4);
}

.pipeline-status-pending {
  background: rgba(148, 163, 184, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(148, 163, 184, 0.4);
}

.pipeline-title {
  flex: 1;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.pipeline-timestamp {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

/* Stage Ribbon */
.pipeline-stage-ribbon {
  display: flex;
  gap: 4px;
}

.pipeline-stage-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 4px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  transition: all 0.2s ease;
}

.pipeline-stage-pill-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.pipeline-stage-pill-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.pipeline-stage-pill-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.pipeline-stage-pill-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

/* Completed stage - solid fill */
.pipeline-stage-completed.pipeline-stage-pill-planner {
  background: #3b82f6;
  color: white;
  border-color: #3b82f6;
}

.pipeline-stage-completed.pipeline-stage-pill-worker {
  background: #f59e0b;
  color: white;
  border-color: #f59e0b;
}

.pipeline-stage-completed.pipeline-stage-pill-validator {
  background: #8b5cf6;
  color: white;
  border-color: #8b5cf6;
}

.pipeline-stage-completed.pipeline-stage-pill-deploy {
  background: #10b981;
  color: white;
  border-color: #10b981;
}

/* Active stage - pulsing */
.pipeline-stage-active {
  box-shadow: 0 0 0 2px var(--color-bg), 0 0 0 4px currentColor;
  animation: pipeline-stage-pulse 2s ease-in-out infinite;
}

@keyframes pipeline-stage-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

/* Failed stage */
.pipeline-stage-failed {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border-color: rgba(239, 68, 68, 0.5);
}

/* Pending stage */
.pipeline-stage-pending {
  opacity: 0.4;
}

/* Trace View */
.pipeline-trace-view {
  padding: 16px;
  background: rgba(0, 0, 0, 0.2);
  border-top: 1px solid var(--color-border);
}

.pipeline-trace-header {
  font-size: 0.8125rem;
  font-weight: 600;
  color: var(--color-accent);
  margin-bottom: 12px;
}

.pipeline-trace-loading,
.pipeline-trace-empty {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 12px 0;
}

.pipeline-trace-timeline {
  display: flex;
  flex-direction: column;
  gap: 6px;
  max-height: 400px;
  overflow-y: auto;
}

.pipeline-trace-event {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  background: rgba(30, 41, 59, 0.6);
  border-radius: 4px;
  font-size: 0.75rem;
}

.pipeline-trace-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.pipeline-trace-dot-success {
  background: #10b981;
}

.pipeline-trace-dot-error {
  background: #ef4444;
}

.pipeline-trace-dot-warning {
  background: #f59e0b;
}

.pipeline-trace-dot-info {
  background: #3b82f6;
}

.pipeline-trace-ts {
  font-family: monospace;
  color: var(--color-text-secondary);
  min-width: 70px;
}

.pipeline-trace-type {
  font-family: monospace;
  color: var(--color-accent);
  min-width: 200px;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pipeline-trace-message {
  flex: 1;
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 0;
}

.pipeline-trace-source {
  font-size: 0.6875rem;
  color: var(--color-text-secondary);
  background: rgba(0, 0, 0, 0.2);
  padding: 2px 6px;
  border-radius: 3px;
  white-space: nowrap;
}

.pipeline-trace-count {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  margin-top: 12px;
  text-align: right;
}

/* Debug Section */
.pipelines-debug-section {
  margin-top: 24px;
  padding-top: 16px;
  border-top: 1px solid var(--color-border);
}

.pipelines-raw-json {
  margin-top: 12px;
  padding: 16px;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 8px;
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  max-height: 400px;
  overflow-y: auto;
}

/* Responsive */
@media (max-width: 1024px) {
  .pipeline-row-main {
    flex-wrap: wrap;
  }

  .pipeline-title {
    order: 10;
    flex-basis: 100%;
    margin-top: 8px;
  }
}

@media (max-width: 768px) {
  .pipelines-container {
    padding: 12px 16px;
  }

  .pipelines-controls {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }

  .pipeline-row-main {
    padding: 10px 12px;
    gap: 8px;
  }

  .pipeline-vtid {
    font-size: 0.8125rem;
  }

  .pipeline-status-badge {
    font-size: 0.625rem;
    padding: 2px 6px;
    min-width: 60px;
  }

  .pipeline-trace-event {
    flex-wrap: wrap;
  }

  .pipeline-trace-type {
    flex-basis: 100%;
    order: 5;
    margin-top: 4px;
  }
}

/* =============================================================================
 * VTID-01181: Governance Controls - System Arming Panel
 * ============================================================================= */

.gov-controls-container {
  padding: 24px 32px;
  max-width: 1200px;
}

.gov-controls-header {
  margin-bottom: 24px;
}

.gov-controls-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0 0 8px 0;
}

.gov-controls-desc {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin: 0;
}

.gov-controls-loading,
.gov-controls-error,
.gov-controls-empty {
  padding: 48px 24px;
  text-align: center;
}

.gov-controls-error {
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
}

.gov-controls-error .error-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 24px;
  height: 24px;
  background: #ef4444;
  color: white;
  border-radius: 50%;
  margin-right: 8px;
  font-weight: bold;
}

.gov-controls-empty {
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px dashed var(--color-border);
}

.gov-controls-empty p {
  margin: 0 0 8px 0;
  color: var(--color-text-primary);
}

.gov-controls-empty-hint {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* Control Cards */
.gov-controls-cards {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
  gap: 20px;
}

.gov-control-card {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 20px;
}

.gov-control-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 16px;
}

.gov-control-title {
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0;
}

.gov-control-status {
  padding: 4px 12px;
  border-radius: 12px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.gov-control-status.status-enabled {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
  border: 1px solid rgba(34, 197, 94, 0.3);
}

.gov-control-status.status-disabled {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.3);
}

.gov-control-card-body {
  margin-bottom: 16px;
}

.gov-control-expiry {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 0.875rem;
  color: #f59e0b;
  margin-bottom: 12px;
}

.gov-control-expiry .expiry-icon {
  font-size: 1rem;
}

.gov-control-reason {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin-bottom: 8px;
  line-height: 1.5;
}

.gov-control-reason strong {
  color: var(--color-text-primary);
}

.gov-control-updated {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.gov-control-card-actions {
  display: flex;
  align-items: center;
  gap: 16px;
  padding-top: 16px;
  border-top: 1px solid var(--color-border);
}

.gov-control-toggle-btn {
  padding: 8px 20px;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  border: none;
  transition: background-color 0.2s, transform 0.1s;
}

.gov-control-toggle-btn:active {
  transform: scale(0.98);
}

.gov-control-toggle-btn.btn-enable {
  background: #22c55e;
  color: white;
}

.gov-control-toggle-btn.btn-enable:hover {
  background: #16a34a;
}

.gov-control-toggle-btn.btn-disable {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-control-toggle-btn.btn-disable:hover {
  background: rgba(239, 68, 68, 0.3);
}

.gov-control-history-link {
  background: none;
  border: none;
  color: var(--color-accent);
  font-size: 0.875rem;
  cursor: pointer;
  padding: 8px 0;
}

.gov-control-history-link:hover {
  text-decoration: underline;
}

/* Arm/Disarm Modal */
.gov-control-modal {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  width: 480px;
  max-width: 90vw;
  max-height: 90vh;
  overflow: hidden;
}

.gov-control-modal-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--color-border);
}

.gov-control-modal-header h3 {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.gov-control-modal-body {
  padding: 24px;
}

.gov-control-modal-warning {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.2);
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 20px;
  font-size: 0.875rem;
  color: #f59e0b;
  display: flex;
  align-items: flex-start;
  gap: 10px;
}

.gov-control-modal-warning .warning-icon {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 20px;
  background: #f59e0b;
  color: white;
  border-radius: 50%;
  font-weight: bold;
  font-size: 0.75rem;
  flex-shrink: 0;
}

.gov-control-modal-label {
  display: block;
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 8px;
}

.gov-control-modal-textarea {
  width: 100%;
  min-height: 80px;
  padding: 12px;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  background: var(--color-bg);
  color: var(--color-text-primary);
  font-size: 0.875rem;
  resize: vertical;
  margin-bottom: 16px;
  font-family: inherit;
}

.gov-control-modal-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

.gov-control-modal-textarea::placeholder {
  color: var(--color-text-secondary);
}

.gov-control-modal-select {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  background: var(--color-bg);
  color: var(--color-text-primary);
  font-size: 0.875rem;
  cursor: pointer;
  margin-bottom: 16px;
}

.gov-control-modal-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

.gov-control-modal-error {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 6px;
  padding: 10px 12px;
  font-size: 0.875rem;
  color: #ef4444;
  margin-top: 8px;
}

.gov-control-modal-footer {
  padding: 16px 24px;
  border-top: 1px solid var(--color-border);
  display: flex;
  justify-content: flex-end;
  gap: 12px;
}

.gov-control-modal-cancel {
  padding: 8px 16px;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  cursor: pointer;
}

.gov-control-modal-cancel:hover {
  background: rgba(255, 255, 255, 0.05);
}

.gov-control-modal-confirm {
  padding: 8px 20px;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
}

.gov-control-modal-confirm.btn-enable {
  background: #22c55e;
  color: white;
}

.gov-control-modal-confirm.btn-enable:hover:not(:disabled) {
  background: #16a34a;
}

.gov-control-modal-confirm.btn-disable {
  background: #ef4444;
  color: white;
}

.gov-control-modal-confirm.btn-disable:hover:not(:disabled) {
  background: #dc2626;
}

.gov-control-modal-confirm:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* History Drawer */
.gov-control-history-drawer {
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  width: 480px;
  max-width: 90vw;
  height: 100vh;
  position: fixed;
  right: 0;
  top: 0;
  display: flex;
  flex-direction: column;
  z-index: 1001;
}

.gov-control-history-header {
  padding: 20px 24px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
}

.gov-control-history-header h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.gov-control-history-body {
  flex: 1;
  overflow-y: auto;
  padding: 20px 24px;
}

.gov-control-history-loading,
.gov-control-history-error,
.gov-control-history-empty {
  text-align: center;
  padding: 40px 20px;
  color: var(--color-text-secondary);
}

.gov-control-history-error {
  color: #ef4444;
}

.gov-control-history-timeline {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

.gov-control-history-entry {
  display: flex;
  gap: 12px;
}

.history-entry-icon {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  font-size: 0.875rem;
}

.history-entry-icon.icon-enabled {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
}

.history-entry-icon.icon-disabled {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
}

.history-entry-content {
  flex: 1;
  min-width: 0;
}

.history-entry-action {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 4px;
}

.history-entry-reason {
  font-size: 0.8125rem;
  color: var(--color-text-secondary);
  margin-bottom: 6px;
  line-height: 1.4;
}

.history-entry-meta {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  opacity: 0.8;
}

.drawer-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  justify-content: flex-end;
}

.drawer-close-btn {
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.25rem;
  cursor: pointer;
  padding: 4px 8px;
}

.drawer-close-btn:hover {
  color: var(--color-text-primary);
}

/* =============================================================================
   VTID-01188: Spec Status Pills and Buttons
   ============================================================================= */

/* Spec status row on task card */
.task-card-spec-row {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-top: 4px;
  flex-wrap: wrap;
}

/* Spec status pill base */
.task-card-spec-pill {
  display: inline-block;
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

/* Spec status colors */
.task-card-spec-pill-missing {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.2);
}

.task-card-spec-pill-generating,
.task-card-spec-pill-validating {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
  box-shadow: 0 0 0 1px rgba(168, 85, 247, 0.2);
  animation: pulse 1.5s ease-in-out infinite;
}

.task-card-spec-pill-draft {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
  box-shadow: 0 0 0 1px rgba(251, 191, 36, 0.2);
}

.task-card-spec-pill-validated {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.2);
}

.task-card-spec-pill-rejected {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  box-shadow: 0 0 0 1px rgba(239, 68, 68, 0.2);
}

.task-card-spec-pill-approved {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.2);
}

/* Pulse animation for loading states */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

/* Spec actions section in drawer */
.task-spec-pipeline-section {
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1rem;
}

.task-spec-pipeline-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 0.75rem;
}

.task-spec-pipeline-title {
  font-weight: 600;
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

.task-spec-pipeline-status {
  display: flex;
  align-items: center;
  gap: 8px;
}

.task-spec-pipeline-actions {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
}

.task-spec-pipeline-btn {
  padding: 6px 12px;
  border-radius: 6px;
  font-size: 0.8rem;
  font-weight: 500;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;
}

.task-spec-pipeline-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.task-spec-pipeline-btn-generate {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
  border: 1px solid rgba(168, 85, 247, 0.3);
}

.task-spec-pipeline-btn-generate:hover:not(:disabled) {
  background: rgba(168, 85, 247, 0.3);
}

.task-spec-pipeline-btn-validate {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.task-spec-pipeline-btn-validate:hover:not(:disabled) {
  background: rgba(59, 130, 246, 0.3);
}

.task-spec-pipeline-btn-approve {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.task-spec-pipeline-btn-approve:hover:not(:disabled) {
  background: rgba(16, 185, 129, 0.3);
}

.task-spec-pipeline-btn-view {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.3);
}

.task-spec-pipeline-btn-view:hover:not(:disabled) {
  background: rgba(100, 116, 139, 0.3);
}

/* Spec viewer/preview */
.task-spec-viewer {
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.75rem;
  max-height: 300px;
  overflow-y: auto;
  margin-top: 0.75rem;
}

.task-spec-viewer-content {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.75rem;
  line-height: 1.5;
  white-space: pre-wrap;
  color: var(--color-text-secondary);
}

/* Spec validation report */
.task-spec-validation-report {
  background: rgba(15, 23, 42, 0.3);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  margin-top: 0.5rem;
  font-size: 0.75rem;
}

.task-spec-validation-report-pass {
  border-color: rgba(16, 185, 129, 0.3);
}

.task-spec-validation-report-fail {
  border-color: rgba(239, 68, 68, 0.3);
}

.task-spec-validation-error {
  color: #ef4444;
  font-size: 0.75rem;
  margin-top: 0.5rem;
}

/* Activation disabled tooltip */
.task-activate-disabled-hint {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-top: 4px;
  font-style: italic;
}

/* =============================================================================
 * VTID-01189: Infinite Scroll List Layout Standardization
 * Shared styles for Row 3 toolbar, filters, and Load More button
 * ============================================================================= */

/* Row 3 Toolbar - Filters left, metadata right */
.list-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border, #333);
  background: var(--color-bg-secondary, #1a1a2e);
  min-height: 48px;
  gap: 12px;
}

.list-toolbar__filters {
  display: flex;
  gap: 8px;
  align-items: center;
  flex-wrap: wrap;
}

.list-toolbar__metadata {
  color: var(--color-text-secondary, #888);
  font-size: 13px;
  white-space: nowrap;
}

/* Filter Dropdowns */
.filter-dropdown {
  padding: 6px 12px;
  background: var(--color-bg-tertiary, #252540);
  border: 1px solid var(--color-border, #333);
  border-radius: 4px;
  color: var(--color-text-primary, #fff);
  font-size: 13px;
  cursor: pointer;
  min-width: 120px;
}

.filter-dropdown:hover {
  border-color: var(--color-border-hover, #555);
}

.filter-dropdown:focus {
  outline: none;
  border-color: var(--color-accent, #4a9eff);
}

/* VTID-01189: VTID Ledger View - Standard list layout */
.vtid-ledger-view {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.vtid-ledger-table {
  width: 100%;
}

.vtid-ledger-row.selected {
  background: var(--color-bg-selected, #2a2a4a);
}

/* VTID-01189: VTID Ledger Drawer */
.vtid-ledger-drawer {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--color-bg-secondary, #1a1a2e);
  border-left: 1px solid var(--color-border, #333);
  z-index: 1000;
  transition: right 0.25s ease;
  display: flex;
  flex-direction: column;
}

.vtid-ledger-drawer.open {
  right: 0;
}

.vtid-ledger-drawer .drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 16px;
  border-bottom: 1px solid var(--color-border, #333);
}

.vtid-ledger-drawer .drawer-header h3 {
  margin: 0;
  font-size: 1.1rem;
  color: var(--color-text-primary, #fff);
}

.vtid-ledger-drawer .drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: 16px;
}

.vtid-ledger-drawer .drawer-section {
  margin-bottom: 20px;
}

.vtid-ledger-drawer .drawer-section h4 {
  margin: 0 0 10px 0;
  font-size: 0.85rem;
  color: var(--color-text-secondary, #888);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.vtid-ledger-drawer .drawer-grid {
  display: grid;
  gap: 8px;
  font-size: 0.9rem;
}

.vtid-ledger-drawer .vtid-title {
  font-size: 1rem;
  color: var(--color-text-primary, #fff);
  margin-bottom: 8px;
}

.vtid-ledger-drawer .stage-timeline {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.vtid-ledger-drawer .stage-item {
  display: flex;
  flex-direction: column;
  padding: 8px 12px;
  background: var(--color-bg-tertiary, #252540);
  border-radius: 4px;
  font-size: 0.8rem;
}

.vtid-ledger-drawer .events-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
  max-height: 300px;
  overflow-y: auto;
}

.vtid-ledger-drawer .event-item {
  padding: 10px;
  background: var(--color-bg-tertiary, #252540);
  border-radius: 4px;
  font-size: 0.85rem;
}

.vtid-ledger-drawer .event-topic {
  font-weight: 500;
  color: var(--color-accent, #4a9eff);
}

.vtid-ledger-drawer .event-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary, #888);
  margin: 4px 0;
}

.vtid-ledger-drawer .event-message {
  color: var(--color-text-primary, #fff);
}

.vtid-ledger-drawer .no-events {
  color: var(--color-text-secondary, #888);
  font-style: italic;
}
  border-bottom: 1px solid var(--color-border, #333);
}

.list-table td {
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border, #333);
  font-size: 13px;
}

/* Clickable Rows */
.clickable-row {
  cursor: pointer;
  transition: background 0.15s ease;
}

.clickable-row:hover {
  background: var(--color-bg-hover, #252540);
}

.clickable-row.selected {
  background: var(--color-bg-selected, #2a2a4a);
}

/* Load More Button Container */
.load-more-container {
  display: flex;
  justify-content: center;
  padding: 24px 16px;
  border-top: 1px solid var(--color-border, #333);
}

.load-more-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  padding: 10px 24px;
  min-width: 120px;
  background: var(--color-bg-tertiary, #252540);
  border: 1px solid var(--color-border, #333);
  border-radius: 6px;
  color: var(--color-text-primary, #fff);
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.15s ease;
}

.load-more-btn:hover:not(:disabled) {
  background: var(--color-bg-hover, #2a2a4a);
  border-color: var(--color-border-hover, #555);
}

.load-more-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.load-more-btn.loading {
  pointer-events: none;
}

.load-more-btn.loading::after {
  content: '';
  display: inline-block;
  width: 14px;
  height: 14px;
  margin-left: 8px;
  border: 2px solid var(--color-border, #333);
  border-top-color: var(--color-accent, #4a9eff);
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* =============================================================================
   VTID-01195: Command Hub Admin Screens v1 Styles
   ============================================================================= */

/* Admin Screen Container */
.admin-screen-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Admin Screen Header */
.admin-screen-header {
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.admin-screen-header h2 {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.admin-screen-subtitle {
  margin: 0.5rem 0 0 0;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
}

/* Not-wired Banner */
.admin-not-wired-banner {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.75rem 1rem;
  background: rgba(251, 191, 36, 0.1);
  border: 1px solid rgba(251, 191, 36, 0.3);
  border-radius: 6px;
  color: #fbbf24;
  font-size: 0.85rem;
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.admin-not-wired-icon {
  font-size: 1rem;
}

/* Admin Split Layout */
.admin-split-layout {
  display: flex;
  gap: 1rem;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

.admin-split-left {
  flex: 0 0 55%;
  display: flex;
  flex-direction: column;
  min-width: 0;
  overflow: hidden;
}

.admin-split-right {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

/* Admin Search Wrapper */
.admin-search-wrapper {
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.admin-search-input {
  width: 100%;
  max-width: none;
}

/* Admin List Container */
.admin-list-container {
  flex: 1;
  overflow: auto;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

/* Admin List Table */
.admin-list-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.admin-list-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.admin-list-table th {
  padding: 0.75rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.admin-list-table td {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.admin-list-row {
  cursor: pointer;
  transition: background 0.15s;
}

.admin-list-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.admin-list-row.selected {
  background: rgba(59, 130, 246, 0.2);
}

.admin-cell-email,
.admin-cell-tenant {
  font-weight: 500;
  color: var(--color-text-primary);
}

.admin-cell-key code {
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.8rem;
  background: rgba(59, 130, 246, 0.1);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
}

/* Admin Detail Panel */
.admin-detail-panel {
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.admin-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--color-border);
  flex-shrink: 0;
}

.admin-detail-header h3 {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.admin-detail-header h3 code {
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.95rem;
}

.admin-detail-close-btn {
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
}

.admin-detail-close-btn:hover {
  color: var(--color-text-primary);
}

.admin-detail-section {
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--color-border);
}

.admin-detail-section:last-of-type {
  border-bottom: none;
}

.admin-detail-section h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.admin-detail-grid {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.admin-detail-field {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.admin-detail-label {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  min-width: 100px;
}

.admin-detail-value {
  font-size: 0.85rem;
  color: var(--color-text-primary);
}

.admin-detail-value code {
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.8rem;
  background: rgba(59, 130, 246, 0.1);
  padding: 0.2rem 0.4rem;
  border-radius: 4px;
}

.admin-detail-note {
  margin: 0.75rem 0 0 0;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.admin-detail-actions {
  padding: 1rem 1.25rem;
  display: flex;
  gap: 0.75rem;
  flex-wrap: wrap;
  border-top: 1px solid var(--color-border);
  margin-top: auto;
}

/* Admin Detail Empty State */
.admin-detail-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
}

.admin-detail-empty-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

.admin-detail-empty p {
  margin: 0;
  font-size: 0.9rem;
}

/* Admin Badges */
.admin-role-badge,
.admin-status-badge,
.admin-scope-badge,
.admin-plan-badge,
.admin-type-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: capitalize;
}

/* Role Badges */
.admin-role-admin {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.admin-role-developer {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.admin-role-user {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

.admin-role-support {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

/* Status Badges */
.admin-status-active {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.admin-status-inactive {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

.admin-status-trial {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
}

.admin-status-pending {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
}

.admin-status-reviewed {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.admin-status-resolved {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

/* Scope Badges */
.admin-scope-global {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.admin-scope-tenant {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

/* Plan Badges */
.admin-plan-enterprise {
  background: rgba(168, 85, 247, 0.15);
  color: #a855f7;
}

.admin-plan-professional {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.admin-plan-starter {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.admin-plan-free {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

/* Type Badges (Moderation) */
.admin-type-spam {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.admin-type-abuse {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.admin-type-inappropriate {
  background: rgba(251, 191, 36, 0.15);
  color: #fbbf24;
}

.admin-type-other {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

/* Admin Badges Row */
.admin-badges-row {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

/* Admin Placeholder List */
.admin-placeholder-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.admin-placeholder-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* Admin Limits Grid (Tenants) */
.admin-limits-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.admin-limit-item {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  padding: 0.75rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
}

.admin-limit-label {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.admin-limit-value {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

/* Admin Flags List (Tenants) */
.admin-flags-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.admin-flag-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.5rem 0.75rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

.admin-flag-name {
  font-family: 'SF Mono', Monaco, monospace;
  font-size: 0.8rem;
  color: var(--color-text-primary);
}

.admin-flag-value {
  font-size: 0.8rem;
  font-weight: 500;
}

.admin-flag-unknown {
  color: var(--color-text-secondary);
}

/* Admin Filters Row (Moderation) */
.admin-filters-row {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1rem;
  flex-shrink: 0;
}

.admin-filter-select {
  padding: 0.5rem 0.75rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-size: 0.85rem;
  cursor: pointer;
}

.admin-filter-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Admin Report Cards (Moderation) */
.admin-moderation-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  padding: 1rem;
}

.admin-report-card {
  padding: 1rem;
  background: rgba(0, 0, 0, 0.2);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.15s;
}

.admin-report-card:hover {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.05);
}

.admin-report-card.selected {
  border-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
}

.admin-report-card-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
}

.admin-report-card-body {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.admin-report-meta {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

/* Admin Empty List */
.admin-empty-list {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

/* Admin Content Preview (Moderation) */
.admin-content-preview {
  padding: 1rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  min-height: 80px;
}

.admin-placeholder-text {
  margin: 0;
  color: var(--color-text-secondary);
  font-style: italic;
  font-size: 0.85rem;
}

/* Admin Notes Textarea (Moderation) */
.admin-notes-textarea {
  width: 100%;
  min-height: 80px;
  padding: 0.75rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-size: 0.85rem;
  resize: vertical;
}

.admin-notes-textarea:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Admin Panels Container (Identity Access) */
.admin-panels-container {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
  flex: 1;
  overflow: auto;
}

.admin-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
}

.admin-panel-full {
  grid-column: 1 / -1;
}

.admin-panel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--color-border);
  background: rgba(0, 0, 0, 0.2);
}

.admin-panel-header h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.admin-panel-body {
  padding: 1rem 1.25rem;
}

/* Admin Auth Status (Identity Access) */
.admin-auth-status {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.admin-auth-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
}

.admin-auth-label {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
}

.admin-auth-value {
  font-size: 0.85rem;
  color: var(--color-text-primary);
}

.admin-auth-status-active {
  color: #10b981;
  font-weight: 500;
}

/* Admin Rules List (Identity Access) */
.admin-rules-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.admin-rule-item {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
}

.admin-rule-icon {
  color: #10b981;
  font-size: 1rem;
  flex-shrink: 0;
}

.admin-rule-text {
  font-size: 0.85rem;
  color: var(--color-text-primary);
  line-height: 1.4;
}

/* Admin Logs Table (Identity Access) */
.admin-logs-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.admin-logs-table th {
  padding: 0.75rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
}

.admin-logs-table td {
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
}

.admin-logs-empty {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.85rem;
}

/* Mobile Responsive (Admin Screens) */
@media (max-width: 768px) {
  .admin-screen-container {
    padding: 1rem;
    overflow: auto;
  }

  .admin-split-layout {
    flex-direction: column;
    overflow: visible;
  }

  .admin-split-left,
  .admin-split-right {
    flex: none;
    width: 100%;
    min-height: 300px;
  }

  .admin-split-right {
    margin-top: 1rem;
  }

  .admin-panels-container {
    grid-template-columns: 1fr;
  }

  .admin-limits-grid {
    grid-template-columns: 1fr;
  }

  .admin-detail-field {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.25rem;
  }

  .admin-detail-label {
    min-width: auto;
  }

  .admin-filters-row {
    flex-wrap: wrap;
  }

  .admin-filter-select {
    flex: 1;
    min-width: 120px;
  }
}

/* ===========================================================================
   VTID-01208: LLM Telemetry + Model Provenance + Runtime Routing Control
   =========================================================================== */

.telemetry-container {
  padding: 1.5rem;
  height: 100%;
  overflow-y: auto;
}

.telemetry-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 1.5rem;
  flex-wrap: wrap;
  gap: 1rem;
}

.telemetry-header h2 {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.telemetry-tab-bar {
  display: flex;
  gap: 0.5rem;
}

.telemetry-tab-btn {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  padding: 0.5rem 1rem;
  border-radius: 6px;
  cursor: pointer;
  font-size: 0.875rem;
  transition: all 0.2s ease;
}

.telemetry-tab-btn:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: var(--color-accent);
}

.telemetry-tab-btn.active {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

/* Filters bar */
.telemetry-filters-bar {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
  padding: 1rem;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.telemetry-filter-input {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  width: 150px;
}

.telemetry-filter-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.telemetry-filter-select {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  min-width: 120px;
}

.telemetry-filter-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Error and loading states */
.telemetry-error {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: #ef4444;
  padding: 1rem;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.telemetry-loading {
  color: var(--color-text-secondary);
  padding: 2rem;
  text-align: center;
}

/* Telemetry table */
.telemetry-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.telemetry-table th {
  background: var(--color-sidebar-bg);
  color: var(--color-text-secondary);
  font-weight: 500;
  text-align: left;
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.telemetry-table td {
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

.telemetry-table tbody tr:hover {
  background: rgba(59, 130, 246, 0.05);
}

.telemetry-row-error {
  background: rgba(239, 68, 68, 0.05) !important;
}

.telemetry-empty {
  color: var(--color-text-secondary);
  text-align: center;
  padding: 2rem !important;
}

.telemetry-vtid {
  font-family: monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.telemetry-model {
  font-family: monospace;
  font-size: 0.75rem;
}

/* Stage badges */
.telemetry-stage-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.telemetry-stage-planner {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
}

.telemetry-stage-worker {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
}

.telemetry-stage-validator {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
}

.telemetry-stage-operator {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
}

.telemetry-stage-memory {
  background: rgba(236, 72, 153, 0.2);
  color: #f472b6;
}

/* VTID-01208: Source badges (Operator vs ORB) */
.telemetry-source-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.telemetry-source-operator {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.telemetry-source-orb {
  background: rgba(168, 85, 247, 0.2);
  color: #c084fc;
  border: 1px solid rgba(168, 85, 247, 0.3);
}

.telemetry-source-unknown {
  background: rgba(107, 114, 128, 0.2);
  color: #9ca3af;
  border: 1px solid rgba(107, 114, 128, 0.3);
}

/* Status indicators */
.telemetry-status-ok {
  color: #10b981;
}

.telemetry-status-error {
  color: #ef4444;
}

.telemetry-fallback-yes {
  color: #f59e0b;
  font-weight: 500;
}

.telemetry-fallback-no {
  color: var(--color-text-secondary);
}

.telemetry-stats {
  margin-top: 1rem;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* Routing Policy Panel */
.telemetry-routing-panel {
  padding: 1rem;
}

.routing-policy-info {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1.5rem;
}

.routing-policy-table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1.5rem;
}

.routing-policy-table th {
  background: var(--color-sidebar-bg);
  color: var(--color-text-secondary);
  font-weight: 500;
  text-align: left;
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
}

.routing-policy-table td {
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-primary);
}

.routing-non-recommended {
  color: #f59e0b;
  position: relative;
}

.routing-non-recommended::after {
  content: ' *';
  color: #f59e0b;
}

.routing-policy-actions {
  display: flex;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
}

.routing-recommended-section {
  margin-top: 2rem;
  padding-top: 1.5rem;
  border-top: 1px solid var(--color-border);
}

.routing-recommended-section h4 {
  color: var(--color-text-secondary);
  margin: 0 0 1rem 0;
  font-size: 0.875rem;
  font-weight: 500;
}

.routing-recommended-json {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 1rem;
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  overflow-x: auto;
  max-height: 300px;
}

/* =============================================================================
 * VTID-01216: Intelligence Panel Styles
 * Operator Console panels for Context Pack, Retrieval Trace, and Tool Calls
 * ============================================================================= */

/* Intelligence Panel Toggle Button */
.intel-toggle-btn {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 6px;
  color: var(--color-accent);
  font-size: 0.85rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.intel-toggle-btn:hover {
  background: rgba(59, 130, 246, 0.2);
  border-color: var(--color-accent);
}

.intel-toggle-btn.has-data {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

/* Intelligence Panel Container */
.intelligence-panel {
  position: fixed;
  right: 0;
  top: var(--header-height);
  width: 420px;
  height: calc(100vh - var(--header-height));
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  z-index: 1000;
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
  animation: slideInRight 0.3s ease;
}

@keyframes slideInRight {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Panel Header */
.intel-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 1.25rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.intel-header h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.intel-close-btn {
  background: none;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.25rem;
  line-height: 1;
  transition: color 0.2s ease;
}

.intel-close-btn:hover {
  color: var(--color-text-primary);
}

/* Panel Body */
.intel-body {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

/* Sections */
.intel-section {
  margin-bottom: 1.5rem;
}

.intel-section-header {
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  color: var(--color-text-secondary);
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--color-border);
}

/* Tab Navigation */
.intel-tabs {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1rem;
}

.intel-tab {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.375rem 0.75rem;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.intel-tab:hover {
  border-color: var(--color-accent);
  color: var(--color-text-primary);
}

.intel-tab.active {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

.intel-tab .tab-icon {
  font-size: 0.875rem;
}

.intel-tab .tab-label {
  display: none;
}

@media (min-width: 500px) {
  .intel-tab .tab-label {
    display: inline;
  }
}

/* Tab Content */
.intel-tab-content {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  max-height: 300px;
  overflow-y: auto;
}

/* Empty State */
.intel-empty {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.85rem;
}

/* Item List */
.intel-list {
  padding: 0.5rem;
}

.intel-item {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.75rem;
  margin-bottom: 0.5rem;
}

.intel-item:last-child {
  margin-bottom: 0;
}

.item-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.item-category,
.item-title,
.item-vtid,
.item-tool-name,
.item-policy-id {
  font-weight: 600;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.item-score {
  font-size: 0.7rem;
  padding: 0.125rem 0.375rem;
  background: rgba(59, 130, 246, 0.2);
  border-radius: 4px;
  color: var(--color-accent);
}

.item-content {
  font-size: 0.8rem;
  color: var(--color-text-primary);
  line-height: 1.4;
  margin-bottom: 0.5rem;
}

.item-meta {
  display: flex;
  gap: 1rem;
  font-size: 0.7rem;
  color: var(--color-text-secondary);
}

.item-source,
.item-date {
  opacity: 0.8;
}

.item-link {
  color: var(--color-accent);
  text-decoration: none;
}

.item-link:hover {
  text-decoration: underline;
}

.item-status {
  font-size: 0.7rem;
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  font-weight: 500;
}

.item-status.status-in-progress {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
}

.item-status.status-scheduled {
  background: rgba(96, 165, 250, 0.2);
  color: #60a5fa;
}

.item-status.status-completed {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.item-status.status-ok {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.item-status.status-error {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

.item-error {
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 4px;
  font-size: 0.75rem;
  color: #ef4444;
}

/* Tool Health Items */
.tool-health-item.healthy {
  border-left: 3px solid #10b981;
}

.tool-health-item.unhealthy {
  border-left: 3px solid #ef4444;
}

/* Retrieval Trace */
.retrieval-trace {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 1rem;
}

.trace-section {
  margin-bottom: 1rem;
}

.trace-section:last-child {
  margin-bottom: 0;
}

.trace-header {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: 0.5rem;
}

.trace-row {
  display: flex;
  justify-content: space-between;
  font-size: 0.8rem;
  padding: 0.25rem 0;
}

.trace-label {
  color: var(--color-text-secondary);
}

.trace-value {
  color: var(--color-text-primary);
  font-weight: 500;
}

.trace-sources {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.trace-source {
  padding: 0.25rem 0.5rem;
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 4px;
  font-size: 0.75rem;
  color: var(--color-accent);
}

/* Tool Calls Panel */
.tool-calls-list {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.tool-call-item {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.75rem;
}

.tool-call-item.success {
  border-left: 3px solid #10b981;
}

.tool-call-item.error {
  border-left: 3px solid #ef4444;
}

.tool-call-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.75rem;
}

.tool-name {
  font-weight: 600;
  font-size: 0.85rem;
  color: var(--color-accent);
}

.tool-status {
  font-size: 0.7rem;
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  font-weight: 500;
}

.tool-status.success {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.tool-status.error {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

.tool-duration {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-left: auto;
}

.tool-call-section {
  margin-bottom: 0.75rem;
}

.tool-call-section:last-child {
  margin-bottom: 0;
}

.section-label {
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: 0.25rem;
}

.tool-json {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  padding: 0.5rem;
  margin: 0 0 0.5rem 0;
  font-size: 0.7rem;
  color: var(--color-text-primary);
  overflow-x: auto;
  max-height: 150px;
  white-space: pre-wrap;
  word-break: break-word;
}

.copy-btn {
  padding: 0.25rem 0.5rem;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s ease;
}

.copy-btn:hover {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

.tool-call-error {
  margin-top: 0.5rem;
  padding: 0.5rem;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 4px;
}

.error-message {
  font-size: 0.75rem;
  color: #ef4444;
}

/* ===========================================================================
   VTID-01218E: Voice LAB Styles
   =========================================================================== */

.voice-lab-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  padding: 1rem;
  background: var(--color-bg);
}

.voice-lab-header {
  display: flex;
  align-items: baseline;
  gap: 1rem;
  margin-bottom: 1rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid var(--color-border);
}

.voice-lab-title {
  margin: 0;
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-subtitle {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

/* Voice LAB Tab Bar */
.voice-lab-tab-bar {
  display: flex;
  gap: 0.25rem;
  margin-bottom: 1rem;
  padding: 0.25rem;
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.voice-lab-tab-btn {
  padding: 0.5rem 1rem;
  background: transparent;
  border: none;
  border-radius: 6px;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.voice-lab-tab-btn:hover {
  background: rgba(59, 130, 246, 0.1);
  color: var(--color-text-primary);
}

.voice-lab-tab-btn.active {
  background: var(--color-accent);
  color: white;
}

/* Voice LAB Content */
.voice-lab-content {
  flex: 1;
  overflow-y: auto;
}

/* Voice LAB Placeholder Panel */
.voice-lab-placeholder-panel {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 300px;
  padding: 2rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  text-align: center;
}

.voice-lab-placeholder-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  opacity: 0.5;
}

.voice-lab-placeholder-heading {
  margin: 0 0 0.5rem 0;
  font-size: 1.25rem;
  color: var(--color-text-primary);
}

.voice-lab-placeholder-message {
  margin: 0 0 1rem 0;
  font-size: 1rem;
  color: var(--color-accent);
  font-weight: 500;
}

.voice-lab-placeholder-details {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  max-width: 400px;
}

/* Voice LAB ORB Live Panel */
.voice-lab-orb-live-panel {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.voice-lab-sessions-section {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  padding: 1rem;
}

.voice-lab-section-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 1rem;
}

.voice-lab-section-header h3 {
  margin: 0;
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-refresh-btn {
  padding: 0.375rem 0.75rem;
  background: transparent;
  border: 1px solid var(--color-border);
  border-radius: 4px;
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.voice-lab-refresh-btn:hover {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

/* Voice LAB Loading/Empty States */
.voice-lab-loading,
.voice-lab-empty {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* Voice LAB Sessions Table */
.voice-lab-sessions-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.voice-lab-sessions-table th,
.voice-lab-sessions-table td {
  padding: 0.75rem 0.5rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.voice-lab-sessions-table th {
  font-weight: 500;
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}

.voice-lab-sessions-table td {
  color: var(--color-text-primary);
}

.voice-lab-sessions-table tr.session-active td.session-status {
  color: #10b981;
  font-weight: 500;
}

.voice-lab-sessions-table tr.session-ended td.session-status {
  color: var(--color-text-secondary);
}

.voice-lab-sessions-table td.session-id {
  font-family: 'Monaco', 'Menlo', monospace;
  font-size: 0.8rem;
}

.voice-lab-view-btn {
  padding: 0.25rem 0.5rem;
  background: transparent;
  border: 1px solid var(--color-accent);
  border-radius: 4px;
  color: var(--color-accent);
  font-size: 0.75rem;
  cursor: pointer;
  transition: all 0.2s ease;
}

.voice-lab-view-btn:hover {
  background: var(--color-accent);
  color: white;
}

/* Voice LAB Session Drawer */
.voice-lab-drawer {
  margin-top: 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
}

.voice-lab-drawer-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.75rem 1rem;
  background: rgba(59, 130, 246, 0.1);
  border-bottom: 1px solid var(--color-border);
}

.voice-lab-drawer-header h3 {
  margin: 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-drawer-close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.25rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  transition: color 0.2s ease;
}

.voice-lab-drawer-close:hover {
  color: var(--color-text-primary);
}

.voice-lab-drawer-content {
  padding: 1rem;
}

.voice-lab-session-info p {
  margin: 0 0 0.5rem 0;
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

.voice-lab-drawer-placeholder {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* ==========================================================================
   VTID-01218B: Voice LAB Enhanced Styles
   ========================================================================== */

/* Header controls (auto-refresh + refresh button) */
.voice-lab-header-controls {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.voice-lab-auto-refresh-label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  cursor: pointer;
}

.voice-lab-auto-refresh-label input[type="checkbox"] {
  cursor: pointer;
}

/* Visual alerts */
.voice-lab-alert {
  display: inline-block;
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.voice-lab-alert.alert-red {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

.voice-lab-alert.alert-orange {
  background: rgba(249, 115, 22, 0.2);
  color: #f97316;
}

.voice-lab-ok {
  display: inline-block;
  padding: 0.125rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
}

.alert-red {
  color: #ef4444 !important;
}

.alert-orange {
  color: #f97316 !important;
}

.turns-zero {
  color: #ef4444;
  font-weight: 600;
}

.status-active {
  color: #22c55e;
  font-weight: 500;
}

.status-ended {
  color: var(--color-text-secondary);
}

.status-ok {
  color: #22c55e;
}

/* Metrics grid in drawer */
.voice-lab-metrics-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
  gap: 0.75rem;
  margin-top: 1rem;
  padding: 1rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
}

.voice-lab-metrics-grid .metric {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.voice-lab-metrics-grid .metric .label {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.voice-lab-metrics-grid .metric .value {
  font-size: 0.875rem;
  color: var(--color-text-primary);
  font-weight: 500;
}

.voice-lab-metrics-grid .metric.alert-metric .value {
  font-weight: 600;
}

/* Turns section in drawer */
.voice-lab-turns-section {
  margin-top: 1.5rem;
}

.voice-lab-turns-section h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-turns-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.75rem;
}

.voice-lab-turns-table th,
.voice-lab-turns-table td {
  padding: 0.5rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.voice-lab-turns-table th {
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  font-size: 0.65rem;
  letter-spacing: 0.5px;
}

.voice-lab-turns-table td {
  color: var(--color-text-primary);
}

.turn-status {
  display: inline-block;
  padding: 0.125rem 0.375rem;
  border-radius: 3px;
  font-size: 0.65rem;
  font-weight: 500;
}

.turn-status.status-ok {
  background: rgba(34, 197, 94, 0.2);
}

.turn-status.status-active {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
}

.turn-status.alert-orange {
  background: rgba(249, 115, 22, 0.2);
}

.voice-lab-no-turns {
  color: var(--color-text-secondary);
  font-style: italic;
  font-size: 0.875rem;
}

/* Experiments panel */
.voice-lab-experiments-panel {
  padding: 1rem;
}

.voice-lab-experiments-header {
  margin-bottom: 1.5rem;
}

.voice-lab-experiments-header h3 {
  margin: 0 0 0.5rem 0;
  font-size: 1.125rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-experiments-subtitle {
  margin: 0;
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.voice-lab-controls-form {
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
  max-width: 500px;
}

.voice-lab-control-group {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.voice-lab-control-group label {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.voice-lab-control-group input[type="number"],
.voice-lab-control-group select {
  padding: 0.5rem 0.75rem;
  border: 1px solid var(--color-border);
  border-radius: 6px;
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
  font-size: 0.875rem;
  width: 100%;
  max-width: 300px;
}

/* Dropdown option styling for dark theme */
.voice-lab-control-group select option {
  background: #1e293b;
  color: #f1f5f9;
  padding: 0.5rem;
}

.voice-lab-control-group select option:hover,
.voice-lab-control-group select option:checked {
  background: #3b82f6;
  color: white;
}

.voice-lab-control-group input[type="number"]:focus,
.voice-lab-control-group select:focus {
  outline: none;
  border-color: var(--color-primary);
}

.voice-lab-control-group .control-hint {
  margin: 0;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.voice-lab-control-group .toggle-wrapper {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.voice-lab-control-group .toggle-label {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
}

.voice-lab-controls-actions {
  display: flex;
  gap: 1rem;
  margin-top: 1.5rem;
}

.voice-lab-save-btn {
  padding: 0.5rem 1.25rem;
  background: var(--color-primary);
  color: white;
  border: none;
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: background 0.2s ease;
}

.voice-lab-save-btn:hover:not(:disabled) {
  background: var(--color-primary-hover);
}

.voice-lab-save-btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.voice-lab-reset-btn {
  padding: 0.5rem 1.25rem;
  background: transparent;
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  font-size: 0.875rem;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
}

.voice-lab-reset-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--color-text-primary);
}

.voice-lab-controls-status {
  margin-top: 2rem;
  padding: 1rem;
  background: rgba(59, 130, 246, 0.1);
  border-radius: 6px;
  max-width: 500px;
}

.voice-lab-controls-status .info-text {
  margin: 0;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* VTID-01218B: Config Snapshot */
.voice-lab-config-snapshot {
  margin-bottom: 1.5rem;
  padding: 1rem;
  background: rgba(0, 0, 0, 0.3);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  max-width: 600px;
}

.voice-lab-config-snapshot h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.voice-lab-config-snapshot .snapshot-grid {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem 1.5rem;
}

.voice-lab-config-snapshot .snapshot-item {
  font-size: 0.8rem;
  color: var(--color-text-primary);
}

.voice-lab-config-snapshot .snapshot-item strong {
  color: var(--color-text-secondary);
  font-weight: 500;
}

/* Kill Switch Styling */
.voice-lab-kill-switch {
  padding: 1rem;
  background: rgba(239, 68, 68, 0.05);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
  margin-bottom: 0.5rem;
}

.voice-lab-kill-switch label {
  color: #ef4444 !important;
}

.voice-lab-kill-switch .toggle-label.status-active {
  color: #22c55e;
  font-weight: 600;
}

.voice-lab-kill-switch .toggle-label.status-ended {
  color: #ef4444;
  font-weight: 600;
}

/* Audit Hint Footer */
.voice-lab-audit-hint {
  margin-top: 2rem;
  padding: 0.75rem 1rem;
  background: rgba(34, 197, 94, 0.1);
  border-left: 3px solid #22c55e;
  border-radius: 0 6px 6px 0;
  max-width: 500px;
}

.voice-lab-audit-hint p {
  margin: 0;
  font-size: 0.75rem;
  color: #22c55e;
  font-weight: 500;
}

/* --- Variables & Tokens --- */
:root {
  --sidebar-width: 260px;
  --sidebar-collapsed-width: 64px;
  --header-height: 60px;
  --color-bg: #0f172a;
  --color-sidebar-bg: #1e293b;
  --color-border: #334155;
  --color-text-primary: #f8fafc;
  --color-text-secondary: #94a3b8;
  --color-accent: #3b82f6;
  --color-accent-hover: #2563eb;
  --color-operator: #f59e0b;

  /* Task Board Colors */
  --color-task-scheduled: #60a5fa;
  --color-task-progress: #f59e0b;
  --color-task-completed: #10b981;
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background-color: var(--color-bg);
  color: var(--color-text-primary);
  height: 100vh;
  overflow: hidden;
}

/* --- Layout --- */
.app-container {
  display: flex;
  height: 100vh;
}

.sidebar {
  width: var(--sidebar-width);
  background-color: var(--color-sidebar-bg);
  border-right: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  transition: width 0.3s ease;
  flex-shrink: 0;
  height: 100vh;
}

.sidebar.collapsed {
  width: var(--sidebar-collapsed-width);
}

.main-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  position: relative;
}

/* --- Header --- */
.header-bar {
  height: var(--header-height);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  justify-content: space-between;
  background-color: var(--color-bg);
}

.header-left {
  display: flex;
  align-items: center;
  gap: 1rem;
}

.header-title {
    font-weight: 600;
    font-size: 1rem;
    color: var(--color-text-primary);
    margin-right: 1rem;
}

.autopilot-card {
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 6px;
  padding: 0.5rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.autopilot-card .title {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-accent);
}

.autopilot-card .status {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* --- Status Chips (LIVE / Heartbeat) --- */
.status-live {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.status-live .live-dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.status-live.status-live-error {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.status-live.status-live-error .live-dot {
  background-color: #ef4444;
}

.heartbeat-chip {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 500;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(148, 163, 184, 0.1);
  border: 1px solid rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.heartbeat-chip:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

/* Legacy live indicator - kept for compatibility */
.live-indicator {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: #10b981;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.live-dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

@keyframes pulse {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

.multimodal-controls {
  display: flex;
  gap: 0.5rem;
}

.mm-btn {
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  width: 32px;
  height: 32px;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
}

.mm-btn:hover {
  border-color: var(--color-text-primary);
  color: var(--color-text-primary);
}

.mm-btn.active {
  background: rgba(59, 130, 246, 0.2);
  border-color: var(--color-accent);
  color: var(--color-accent);
}

/* --- Sidebar Navigation --- */
/* VTID-01014: Nav section takes all available space */
.nav-section {
  flex: 1;
  overflow-y: auto;
  padding: 0.75rem 0;
  min-height: 0;
}

.nav-item {
  display: flex;
  align-items: center;
  padding: 0.75rem 1.5rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
  font-size: 0.9rem;
  white-space: nowrap;
  overflow: hidden;
}

.nav-item:hover {
  background-color: rgba(255, 255, 255, 0.05);
  color: var(--color-text-primary);
}

.nav-item.active {
  background-color: rgba(59, 130, 246, 0.1);
  color: var(--color-accent);
  border-right: 3px solid var(--color-accent);
}

.nav-item[data-module="Operator"]::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 3px;
  background-color: var(--color-operator);
  display: none;
}

.nav-item[data-module="Operator"] {
  color: var(--color-operator);
}

.nav-item[data-module="Operator"].active::before {
  display: block;
}

/* VTID-01014: Old collapse toggle - hidden (now in header) */
.collapse-toggle {
  display: none;
}

/* --- Tabs --- */
.sub-nav {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  background-color: var(--color-bg);
  padding: 0 1.5rem;
}

.sub-nav-tab {
  padding: 1rem 1.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
}

.sub-nav-tab:hover {
  color: var(--color-text-primary);
}

.sub-nav-tab.active {
  color: var(--color-accent);
  border-bottom-color: var(--color-accent);
}

/* --- Content Area --- */
.content-area {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;
}

/* --- Tasks View --- */
.tasks-toolbar {
  padding: 1rem 1.5rem;
  display: flex;
  align-items: center;
  gap: 1rem;
  border-bottom: 1px solid var(--color-border);
}

.search-field {
  width: 300px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.9rem;
}

.btn {
  padding: 0.5rem 1rem;
  border-radius: 4px;
  font-size: 0.9rem;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
}

.btn:hover {
  background: rgba(255, 255, 255, 0.05);
}

.btn-primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: white;
}

.btn-primary:hover {
  background: var(--color-accent-hover);
}

.spacer {
  flex: 1;
}

/* --- Golden Task Board --- */
.task-board {
  flex: 1;
  display: flex;
  padding: 1.5rem;
  gap: 1.5rem;
  overflow-x: auto;
  background-color: #0b1120;
}

.task-column {
  flex: 1;
  min-width: 300px;
  background: var(--color-sidebar-bg);
  border-radius: 12px;
  border: 1px solid var(--color-border);
  display: flex;
  flex-direction: column;
  max-height: 100%;
  transition: background 0.3s;
}

/* Column specific tints */
.task-column:nth-child(1) { /* Scheduled */
  background: linear-gradient(180deg, rgba(96, 165, 250, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(96, 165, 250, 0.5);
}

.task-column:nth-child(2) { /* In Progress */
  background: linear-gradient(180deg, rgba(245, 158, 11, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(245, 158, 11, 0.5);
}

.task-column:nth-child(3) { /* Completed */
  background: linear-gradient(180deg, rgba(16, 185, 129, 0.03) 0%, var(--color-sidebar-bg) 100%);
  border-top: 3px solid rgba(16, 185, 129, 0.5);
}

.column-header {
  padding: 1rem;
  font-weight: 600;
  border-bottom: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  text-transform: uppercase;
  font-size: 0.8rem;
  letter-spacing: 0.5px;
}

/* VTID-01013: Scheduled Column Hygiene - Header with toggle and counters */
.column-header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.5rem;
}

.scheduled-archive-toggle {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  font-size: 0.65rem;
  font-weight: 400;
  text-transform: none;
  color: var(--color-text-muted);
  cursor: pointer;
  white-space: nowrap;
}

.scheduled-archive-toggle input[type="checkbox"] {
  width: 12px;
  height: 12px;
  cursor: pointer;
  accent-color: var(--color-primary);
}

.scheduled-archive-toggle:hover {
  color: var(--color-text-secondary);
}

/* VTID-01015: .scheduled-counters removed - counter stamp no longer used */

.column-content {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.task-card {
  background: #253045; /* Slightly lighter than sidebar */
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 8px;
  padding: 1.25rem;
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
  border-left: 4px solid transparent;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
}

.task-card:hover {
  transform: translateY(-3px);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
  border-color: rgba(255, 255, 255, 0.2);
  background: #2d3b52;
}

.task-card[data-status="scheduled"] { border-left-color: var(--color-task-scheduled); }
.task-card[data-status="in-progress"] { border-left-color: var(--color-task-progress); }
.task-card[data-status="completed"] { border-left-color: var(--color-task-completed); }

/* Status Pills (simulated via meta span) */
.task-card .meta span:last-child {
  padding: 2px 8px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.task-card[data-status="scheduled"] .meta span:last-child {
  background: rgba(96, 165, 250, 0.15);
  color: var(--color-task-scheduled);
  box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.2);
}

.task-card[data-status="in-progress"] .meta span:last-child {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-task-progress);
  box-shadow: 0 0 0 1px rgba(245, 158, 11, 0.2);
}

.task-card[data-status="completed"] .meta span:last-child {
  background: rgba(16, 185, 129, 0.15);
  color: var(--color-task-completed);
  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.2);
}

.task-card .title {
  font-weight: 500;
  margin-bottom: 0.5rem;
  font-size: 0.95rem;
  line-height: 1.4;
}

.task-card .meta {
  display: flex;
  justify-content: space-between;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.task-card .vtid {
  font-family: monospace;
  color: var(--color-accent);
}

/* --- Split Screen --- */
.split-screen {
  display: flex;
  flex: 1;
  height: 100%;
}

.split-panel-left {
  width: 35%;
  border-right: 1px solid var(--color-border);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.split-panel-right {
  flex: 1;
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.split-divider {
  width: 8px;
  background: var(--color-bg);
  border-left: 1px solid var(--color-border);
  border-right: 1px solid var(--color-border);
  cursor: col-resize;
  display: flex;
  align-items: center;
  justify-content: center;
}

.split-divider::after {
  content: '';
  width: 2px;
  height: 20px;
  background: var(--color-border);
}

.split-divider:hover {
  background: rgba(59, 130, 246, 0.1);
}

.split-divider:hover::after {
  background: var(--color-accent);
}

/* --- Modals --- */
.modal-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  backdrop-filter: blur(2px);
}

.modal {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  width: 500px;
  max-width: 90vw;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
}

.modal-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
  font-size: 1.25rem;
  font-weight: 600;
}

.modal-body {
  padding: 1.5rem;
}

.modal-footer {
  padding: 1.5rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  justify-content: flex-end;
  gap: 1rem;
}

/* Profile Modal Specifics */
.profile-avatar-large {
  width: 80px;
  height: 80px;
  border-radius: 50%;
  background: var(--color-accent);
  margin: 0 auto 1rem;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 2rem;
  font-weight: bold;
}

.profile-name {
  text-align: center;
  font-size: 1.5rem;
  font-weight: 600;
  margin-bottom: 0.5rem;
}

.profile-role-badge {
  display: block;
  width: fit-content;
  margin: 0 auto 1rem;
  padding: 0.25rem 0.75rem;
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
  border-radius: 999px;
  font-size: 0.85rem;
}

/* VTID-01014: Role Switcher in Profile Modal */
.profile-role-switcher {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  margin-bottom: 1.5rem;
  padding: 0 1rem;
}

.profile-role-switcher label {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.profile-role-select {
  flex: 1;
  max-width: 180px;
  padding: 0.5rem 0.75rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  cursor: pointer;
  transition: border-color 0.2s;
}

.profile-role-select:hover {
  border-color: var(--color-text-secondary);
}

.profile-role-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Form Controls */
.form-group {
  margin-bottom: 1rem;
}

/* VTID-01012: Form row for side-by-side fields */
.form-row {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.form-group-half {
  flex: 1;
  margin-bottom: 0;
}

.form-group label {
  display: block;
  margin-bottom: 0.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
}

.form-control {
  width: 100%;
  padding: 0.75rem;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  color: var(--color-text-primary);
  font-size: 1rem;
}

.form-control:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* VTID-01003: Form note styling */
.form-note {
  font-size: 12px;
  color: var(--color-text-secondary);
  margin-top: -8px;
  margin-bottom: 12px;
}

/* VTID-01003: Modal task spec textarea */
.task-spec-modal-textarea {
  min-height: 280px;
  resize: vertical;
  font-family: monospace;
  font-size: 0.9rem;
}

/* Drawer */
.task-drawer {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 12px rgba(0, 0, 0, 0.5);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.task-drawer.open {
  right: 0;
}

.drawer-header {
  padding: 1.5rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--color-bg);
}

.drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

/* --- Sidebar Brand & Profile --- */
/* VTID-01014: Updated header layout with collapse toggle */
.sidebar-brand {
  padding: 1rem 1rem 1rem 1.5rem;
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--color-text-primary);
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--color-border);
  text-transform: uppercase;
  display: flex;
  align-items: center;
  justify-content: space-between;
  flex-shrink: 0;
}

.sidebar-brand .brand-title {
  flex: 1;
}

.sidebar-brand .brand-subtitle {
  font-size: 0.7rem;
  font-weight: 400;
  color: var(--color-text-secondary);
  text-transform: none;
  letter-spacing: 0;
  margin-top: 0.25rem;
}

/* VTID-01014: Collapse toggle in header */
.sidebar-brand .collapse-btn {
  width: 28px;
  height: 28px;
  border-radius: 4px;
  background: transparent;
  border: 1px solid var(--color-border);
  color: var(--color-text-secondary);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}

.sidebar-brand .collapse-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  color: var(--color-text-primary);
  border-color: var(--color-text-secondary);
}

.sidebar.collapsed .sidebar-brand {
  padding: 1rem 0.5rem;
  justify-content: center;
}

.sidebar.collapsed .sidebar-brand .collapse-btn {
  margin: 0;
}

/* VTID-01014: Compact profile capsule */
.sidebar-profile {
  padding: 0.75rem 1rem;
  display: flex;
  align-items: center;
  gap: 0.75rem;
  cursor: pointer;
  transition: background 0.2s;
}

.sidebar-profile:hover {
  background: rgba(255, 255, 255, 0.05);
}

.sidebar.collapsed .sidebar-profile {
  padding: 0.75rem 0.5rem;
  justify-content: center;
}

/* --- Sidebar Footer (Fixed bottom: Profile + ORB) --- */
/* VTID-01014: Compact footer cluster */
.sidebar-footer {
  flex-shrink: 0;
  background: var(--color-sidebar-bg);
  border-top: 1px solid var(--color-border);
  margin-top: auto;
}

.sidebar-orb-container {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  padding: 0.5rem 0;
}

.sidebar-profile-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: var(--color-accent);
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
  font-weight: 600;
  color: #fff;
  flex-shrink: 0;
}

.sidebar-profile-info {
  flex: 1;
  min-width: 0;
  overflow: hidden;
}

.sidebar-profile-name {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.sidebar-profile-role {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

/* --- Header Right Buttons --- */
.header-right {
  display: flex;
  gap: 0.75rem;
  align-items: center;
}

.header-btn {
  padding: 0.5rem 1rem;
  border-radius: 6px;
  font-size: 0.85rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.header-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.header-btn-primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
}

.header-btn-primary:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

.header-btn-operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-btn-operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* --- Header Toolbar (VTID-0517) --- */

.header-toolbar {
  height: var(--header-height);
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  padding: 0 1.5rem;
  background-color: var(--color-bg);
  gap: 0.75rem;
}

.header-toolbar-left {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  position: relative;
}

.header-toolbar-center {
  flex: 1;
  display: flex;
  justify-content: center;
}

.header-toolbar-right {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

/* --- Header Buttons (VTID-0517) --- */

.header-button {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 500;
  cursor: pointer;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-primary);
  transition: all 0.2s;
}

.header-button:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

/* Status button style (Autopilot) */
.header-button--status {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
}

.header-button--status:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

.header-button__label {
  font-weight: 500;
}

/* --- Header Pills (DEV-COMHU-2025-0010: Uniform sizing) --- */

.header-pill {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  height: 32px;
  padding: 0 0.75rem;
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border: 1px solid var(--color-border);
  background: transparent;
  cursor: pointer;
  transition: all 0.2s;
}

/* Neutral pill (default state) */
.header-pill--neutral {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
  color: var(--color-text-secondary);
}

.header-pill--neutral:hover {
  background: rgba(148, 163, 184, 0.2);
  border-color: rgba(148, 163, 184, 0.5);
  color: var(--color-text-primary);
}

/* LIVE pill (green) */
.header-pill--live {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.header-pill--live:hover {
  background: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.5);
}

.header-pill--live .header-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

/* OFFLINE pill (red) */
.header-pill--offline {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.header-pill--offline:hover {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.5);
}

.header-pill--offline .header-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #ef4444;
  border-radius: 50%;
}

/* Publish pill (accent blue) */
.header-pill--publish {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
}

.header-pill--publish:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* Operator pill (orange accent, same size as other pills) */
.header-pill--operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-pill--operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* Primary button style (Operator, Publish) */
.header-button--primary {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
  font-weight: 600;
}

.header-button--primary:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* Operator button variant */
.header-button--operator {
  background: rgba(245, 158, 11, 0.1);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.header-button--operator:hover {
  background: rgba(245, 158, 11, 0.2);
  border-color: rgba(245, 158, 11, 0.5);
}

/* Publish button - slightly less dominant than Operator */
.header-button--publish {
  background: var(--color-accent);
  border-color: var(--color-accent);
  color: #fff;
  font-weight: 500;
  padding: 0.4rem 1rem;
  font-size: 0.8rem;
}

.header-button--publish:hover {
  background: var(--color-accent-hover);
  border-color: var(--color-accent-hover);
}

/* Clock / Icon Button */
.header-icon-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border-radius: 6px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.header-icon-button:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
  color: var(--color-text-primary);
}

.header-icon-button__icon {
  font-size: 1rem;
  line-height: 1;
}

/* --- LIVE Status Pill (VTID-0517) --- */

.header-live-pill {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  padding: 0.35rem 0.75rem;
  border-radius: 6px;
  background: rgba(16, 185, 129, 0.1);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.header-live-pill__dot {
  width: 8px;
  height: 8px;
  background-color: #10b981;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

/* --- Version History Dropdown (VTID-0517) --- */

.version-dropdown {
  position: absolute;
  top: calc(100% + 8px);
  left: 0;
  width: 360px;
  max-height: 400px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.version-dropdown__title {
  padding: 0.75rem 1rem;
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.version-dropdown__list {
  flex: 1;
  overflow-y: auto;
  max-height: 340px;
}

.version-dropdown__item {
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--color-border);
  cursor: pointer;
  transition: background 0.2s;
}

.version-dropdown__item:last-child {
  border-bottom: none;
}

.version-dropdown__item:hover {
  background: rgba(255, 255, 255, 0.05);
}

.version-dropdown__item--selected {
  background: rgba(59, 130, 246, 0.1);
  border-left: 3px solid var(--color-accent);
}

.version-dropdown__item-label {
  font-size: 0.875rem;
  font-weight: 500;
  color: var(--color-text-primary);
  margin-bottom: 0.25rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.version-dropdown__item-meta {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.75rem;
}

.version-dropdown__item-timestamp {
  color: var(--color-text-secondary);
}

.version-dropdown__item-badge {
  padding: 0.15rem 0.5rem;
  border-radius: 999px;
  font-size: 0.65rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.version-dropdown__item-badge--live {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.version-dropdown__item-badge--draft {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.version-dropdown__item-badge--unpublished {
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
}

.version-dropdown__item-badge--unknown {
  background: rgba(148, 163, 184, 0.1);
  color: var(--color-text-secondary);
}

/* VTID-0524: Success/Failure badge styles for deployments */
.version-dropdown__item-badge--success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.version-dropdown__item-badge--failure {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* VTID-0524: History tab status badge styles */
.history-status-badge {
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  text-transform: uppercase;
  font-weight: 600;
}

.history-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.history-status-failed {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* --- Toast Notifications (VTID-0517) --- */

.toast-container {
  position: fixed;
  bottom: 1.5rem;
  right: 1.5rem;
  z-index: 3000;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
  max-width: 400px;
}

.toast {
  display: flex;
  align-items: flex-start;
  gap: 0.75rem;
  padding: 0.875rem 1rem;
  border-radius: 8px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  animation: toast-slide-in 0.3s ease-out;
}

@keyframes toast-slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.toast--info {
  border-left: 3px solid var(--color-accent);
}

.toast--success {
  border-left: 3px solid #10b981;
}

.toast--error {
  border-left: 3px solid #ef4444;
}

.toast__message {
  flex: 1;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  line-height: 1.4;
}

.toast__close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.25rem;
  cursor: pointer;
  padding: 0;
  line-height: 1;
  transition: color 0.2s;
  flex-shrink: 0;
}

.toast__close:hover {
  color: var(--color-text-primary);
}

/* --- Publish Modal (VTID-0517) --- */

.publish-modal {
  max-width: 450px;
}

.publish-modal__message {
  margin: 0;
  color: var(--color-text-secondary);
  line-height: 1.6;
}

/* --- VTID-0407: Governance Blocked Modal --- */
.governance-blocked-modal {
  max-width: 560px;
}

.governance-blocked-header {
  background: rgba(239, 68, 68, 0.08);
  border-bottom: 1px solid rgba(239, 68, 68, 0.25);
}

.governance-violation-card {
  padding: 12px 14px;
  background: rgba(255, 255, 255, 0.03);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.2s ease;
}

.governance-violation-card:hover {
  background: rgba(255, 255, 255, 0.06);
  border-color: rgba(239, 68, 68, 0.3);
}

.governance-rule-chip {
  padding: 4px 8px;
  background: rgba(96, 165, 250, 0.15);
  border: 1px solid rgba(96, 165, 250, 0.3);
  border-radius: 4px;
  font-size: 12px;
  font-weight: 600;
  color: #60a5fa;
  font-family: ui-monospace, monospace;
  cursor: pointer;
  transition: all 0.2s ease;
}

.governance-rule-chip:hover {
  background: rgba(96, 165, 250, 0.25);
  border-color: rgba(96, 165, 250, 0.5);
}

.governance-level-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
  font-weight: 600;
}

.governance-level-badge--l1 {
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

.governance-level-badge--l2 {
  background: rgba(245, 158, 11, 0.15);
  border: 1px solid rgba(245, 158, 11, 0.3);
  color: #f59e0b;
}

.governance-level-badge--l3 {
  background: rgba(96, 165, 250, 0.15);
  border: 1px solid rgba(96, 165, 250, 0.3);
  color: #60a5fa;
}

.governance-level-badge--l4 {
  background: rgba(16, 185, 129, 0.15);
  border: 1px solid rgba(16, 185, 129, 0.3);
  color: #10b981;
}

/* --- Global Overlays --- */
.overlay-backdrop {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0, 0, 0, 0.75);
  z-index: 2000;
  display: flex;
  align-items: center;
  justify-content: center;
  backdrop-filter: blur(4px);
}

.overlay-panel {
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 12px;
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
  display: flex;
  flex-direction: column;
  max-height: 90vh;
  overflow: hidden;
}

.overlay-header {
  padding: 1.25rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: var(--color-bg);
}

.overlay-title {
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.overlay-subtitle {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-top: 0.25rem;
}

.overlay-close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 0.25rem;
  line-height: 1;
  transition: color 0.2s;
}

.overlay-close:hover {
  color: var(--color-text-primary);
}

.overlay-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

/* --- Heartbeat Overlay --- */
.heartbeat-overlay {
  width: 500px;
  max-width: 90vw;
}

.heartbeat-section {
  margin-bottom: 1.5rem;
}

.heartbeat-section-title {
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 0.75rem;
}

.heartbeat-status {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.heartbeat-status-dot {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background: var(--color-text-secondary);
}

.heartbeat-status-dot.standby {
  background: var(--color-text-secondary);
}

.heartbeat-status-dot.active {
  background: #10b981;
  animation: pulse 2s infinite;
}

.heartbeat-metrics {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 1rem;
}

.heartbeat-metric {
  padding: 1rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.heartbeat-metric-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  margin-bottom: 0.25rem;
}

.heartbeat-metric-value {
  font-size: 1rem;
  font-weight: 500;
  color: var(--color-text-primary);
}

.heartbeat-events {
  padding: 1.5rem;
  background: var(--color-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Operator Overlay --- */
.operator-overlay {
  width: 70vw;
  min-width: 600px;
  max-width: 1000px;
  height: 80vh;
}

.operator-tabs {
  display: flex;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
  padding: 0 1.5rem;
}

.operator-tab {
  padding: 1rem 1.5rem;
  font-size: 0.9rem;
  color: var(--color-text-secondary);
  cursor: pointer;
  border-bottom: 2px solid transparent;
  transition: all 0.2s;
  background: transparent;
  border-top: none;
  border-left: none;
  border-right: none;
}

.operator-tab:hover {
  color: var(--color-text-primary);
}

.operator-tab.active {
  color: var(--color-operator);
  border-bottom-color: var(--color-operator);
}

.operator-tab-content {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

/* Chat UI */
.chat-container {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.chat-messages {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  overflow-y: auto;
  max-height: 65vh;
  padding: 1.5rem;
}

/* VTID-0526: Message bubble styles */
.message-bubble {
  padding: 0.6rem 0.9rem;
  border-radius: 10px;
  font-size: 0.9rem;
  line-height: 1.25rem;
  max-width: 80%;
  word-break: break-word;
}

.message-sent {
  align-self: flex-end;
  background-color: #2a7bff;
  color: white;
}

.message-reply {
  align-self: flex-start;
  background-color: #2a2a2a;
  color: #e0e0e0;
}

.message-error {
  background-color: #5c1a1a;
  color: #ff6a6a;
}

.timestamp {
  font-size: 0.7rem;
  opacity: 0.6;
  margin-top: 2px;
}

.chat-message {
  display: flex;
  flex-direction: column;
  max-width: 80%;
}

.chat-message.user {
  align-self: flex-end;
}

.chat-message.system {
  align-self: flex-start;
}

.chat-message-bubble {
  padding: 0.75rem 1rem;
  border-radius: 12px;
  font-size: 0.9rem;
  line-height: 1.5;
}

.chat-message.user .chat-message-bubble {
  background: var(--color-accent);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.chat-message.system .chat-message-bubble {
  background: var(--color-bg);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-bottom-left-radius: 4px;
}

.chat-message-time {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-top: 0.25rem;
  padding: 0 0.5rem;
}

.chat-input-container {
  padding: 1rem 1.5rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  gap: 0.75rem;
  background: var(--color-bg);
}

.chat-input {
  flex: 1;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  resize: none;
}

.chat-input:focus {
  outline: none;
  border-color: var(--color-accent);
}

.chat-send-btn {
  padding: 0.75rem 1.5rem;
  background: var(--color-operator);
  border: none;
  border-radius: 8px;
  color: #000;
  font-weight: 600;
  cursor: pointer;
  transition: background 0.2s;
}

.chat-send-btn:hover {
  background: #d97706;
}

/* Live Ticker UI */
.ticker-container {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.ticker-item {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 1rem;
  align-items: flex-start;
}

.ticker-item:last-child {
  border-bottom: none;
}

.ticker-timestamp {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
  min-width: 80px;
}

.ticker-content {
  flex: 1;
  font-size: 0.875rem;
  color: var(--color-text-primary);
}

.ticker-type {
  font-size: 0.7rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  text-transform: uppercase;
  font-weight: 600;
  letter-spacing: 0.5px;
}

.ticker-type.info {
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
}

.ticker-type.system {
  background: rgba(148, 163, 184, 0.2);
  color: var(--color-text-secondary);
}

.ticker-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* DEV-COMHU-0202: Deploy Event Badges in Ticker */
.ticker-vtid {
  font-size: 0.65rem;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  background: rgba(99, 102, 241, 0.2);
  color: #a5b4fc;
  font-weight: 500;
  white-space: nowrap;
}

.ticker-swv {
  font-size: 0.65rem;
  padding: 0.15rem 0.4rem;
  border-radius: 3px;
  background: rgba(16, 185, 129, 0.2);
  color: #6ee7b7;
  font-weight: 500;
  white-space: nowrap;
}

.ticker-item-success {
  border-left: 3px solid #10b981;
  background: rgba(16, 185, 129, 0.05);
}

.ticker-item-error {
  border-left: 3px solid #ef4444;
  background: rgba(239, 68, 68, 0.05);
}

.ticker-type-deploy {
  background: rgba(168, 85, 247, 0.2);
  color: #c4b5fd;
}

.ticker-type-governance {
  background: rgba(245, 158, 11, 0.2);
  color: #fcd34d;
}

/* DEV-COMHU-0202: Task Event History Styles */
.task-event-history {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.task-event-history-heading {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  margin: 0 0 0.75rem 0;
  font-weight: 500;
}

.task-event-history-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-event-history-item {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.02);
  border-radius: 4px;
  font-size: 0.75rem;
  align-items: center;
}

.task-event-history-item-success {
  border-left: 2px solid #10b981;
}

.task-event-history-item-error {
  border-left: 2px solid #ef4444;
}

.task-event-history-time {
  color: var(--color-text-secondary);
  min-width: 70px;
}

.task-event-history-topic {
  color: var(--color-accent);
  font-weight: 500;
}

.task-event-history-swv {
  font-size: 0.65rem;
  padding: 0.1rem 0.35rem;
  border-radius: 3px;
  background: rgba(16, 185, 129, 0.2);
  color: #6ee7b7;
}

.task-event-history-message {
  width: 100%;
  color: var(--color-text-secondary);
  font-size: 0.7rem;
  margin-top: 0.25rem;
  opacity: 0.85;
}

.task-event-history-empty {
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  opacity: 0.7;
  padding: 0.5rem 0;
}

/* History Tab */
.history-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

/* --- Utility Classes (CSP-compliant replacements for inline styles) --- */
.module-content-wrapper {
  flex: 1;
  overflow: hidden;
}

.split-pane-header {
  padding: 0.5rem 1rem;
  background: var(--color-sidebar-bg);
  border-bottom: 1px solid var(--color-border);
  font-size: 0.8rem;
  font-weight: 600;
  color: var(--color-text-secondary);
}

.split-pane-content {
  flex: 1;
  overflow: hidden;
}

.content-container {
  height: 100%;
  display: flex;
  flex-direction: column;
}

.placeholder-content {
  padding: 2rem;
  color: var(--color-text-secondary);
}

.tasks-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.date-filter-input {
  width: auto;
  margin-left: 1rem;
}

.refresh-btn-margin {
  margin-left: 0.5rem;
}

.drawer-title-text {
  margin: 0;
  font-size: 1.25rem;
  color: var(--color-accent);
}

.drawer-close-btn {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
}

.task-summary-text {
  color: var(--color-text-primary);
}

.task-details-block {
  margin-top: 2rem;
  color: var(--color-text-secondary);
}

.docs-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.docs-toolbar {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.docs-toolbar-label {
  font-weight: 600;
  margin-right: 0.5rem;
}

.role-btn-active {
  background: var(--color-accent);
  color: #fff;
}

.docs-content {
  flex: 1;
  overflow: auto;
  padding: 1rem;
}

.docs-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.docs-table-row-alt {
  background: var(--color-sidebar-bg);
}

.docs-summary {
  margin-bottom: 1rem;
  padding: 0.5rem 1rem;
  background: var(--color-sidebar-bg);
  border-radius: 4px;
  font-size: 0.875rem;
}

.chat-empty-state {
  text-align: center;
  color: var(--color-text-secondary);
  padding: 2rem;
}

.error-text {
  color: #ef4444;
}

.docs-table-header {
  background: var(--color-sidebar-bg);
  text-align: left;
}

.docs-table-cell {
  padding: 0.75rem;
  border-bottom: 1px solid var(--color-border);
}

.docs-table-code {
  background: var(--color-sidebar-bg);
  padding: 2px 6px;
  border-radius: 3px;
}

/* Autopilot status text */
.autopilot-status-text {
  font-size: 0.7em;
  opacity: 0.8;
}

/* Critical error display */
.critical-error {
  color: #ef4444;
  padding: 2rem;
}

.critical-error h1 {
  margin-bottom: 1rem;
}

.critical-error pre {
  background: var(--color-sidebar-bg);
  padding: 1rem;
  border-radius: 4px;
  overflow-x: auto;
  font-size: 0.875rem;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .operator-overlay {
    width: 95vw;
    min-width: auto;
    height: 90vh;
  }

  .heartbeat-metrics {
    grid-template-columns: 1fr;
  }
}

/* --- VTID-0509: Operator Console Enhancements --- */

/* Heartbeat Live State */
.heartbeat-chip.heartbeat-live {
  background: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.4);
  color: #10b981;
  animation: heartbeat-pulse 2s infinite;
}

@keyframes heartbeat-pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
  50% { box-shadow: 0 0 0 4px rgba(16, 185, 129, 0); }
}

/* Live Ticker Button */
.header-btn-ticker {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.3);
  color: var(--color-accent);
}

.header-btn-ticker:hover {
  background: rgba(59, 130, 246, 0.2);
  border-color: rgba(59, 130, 246, 0.5);
}

/* Ticker Status Banner */
.ticker-status-banner {
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.ticker-status-banner.ticker-live {
  background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, var(--color-bg) 100%);
  border-bottom-color: rgba(16, 185, 129, 0.3);
}

.ticker-status-banner.ticker-standby {
  background: var(--color-bg);
}

.ticker-status-row {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex-wrap: wrap;
}

.ticker-status-tasks {
  margin-top: 0.5rem;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.ticker-status-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
}

.ticker-status-value {
  font-weight: 600;
  font-size: 0.85rem;
}

.ticker-status-value.status-live {
  color: #10b981;
}

.ticker-status-value.status-standby {
  color: var(--color-text-secondary);
}

.ticker-status-value.status-ok {
  color: #10b981;
}

.ticker-hint {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.ticker-events-list {
  flex: 1;
  overflow-y: auto;
  padding: 0.5rem 0;
}

/* Ticker type colors */
.ticker-type-operator {
  background: rgba(245, 158, 11, 0.2);
  color: var(--color-operator);
}

.ticker-type-gateway {
  background: rgba(59, 130, 246, 0.2);
  color: var(--color-accent);
}

.ticker-type-deploy {
  background: rgba(16, 185, 129, 0.2);
  color: #10b981;
}

.ticker-type-cicd {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
}

/* VTID-0407: Governance ticker type */
.ticker-type-governance {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
}

/* Chat Textarea */
.chat-textarea {
  flex: 1;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  font-family: inherit;
  resize: none;
  min-height: 60px;
}

.chat-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
}

/* Chat Attachment Button */
.chat-attach-btn {
  position: relative;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  cursor: pointer;
  font-size: 1.2rem;
  transition: all 0.2s;
}

.chat-attach-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.chat-attach-menu {
  position: absolute;
  bottom: 100%;
  left: 0;
  margin-bottom: 0.5rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  overflow: hidden;
  z-index: 100;
  min-width: 100px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  display: none;
}

.chat-attach-menu.menu-open {
  display: block;
}

.attach-option {
  padding: 0.75rem 1rem;
  cursor: pointer;
  transition: background 0.2s;
  font-size: 0.85rem;
}

.attach-option:hover {
  background: rgba(255, 255, 255, 0.05);
}

/* Chat Attachments Preview */
.chat-attachments-preview {
  padding: 0.5rem 1rem;
  border-top: 1px solid var(--color-border);
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.attachment-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.25rem 0.75rem;
  background: rgba(59, 130, 246, 0.15);
  border: 1px solid rgba(59, 130, 246, 0.3);
  border-radius: 999px;
  font-size: 0.75rem;
  color: var(--color-accent);
}

.attachment-chip.attachment-image {
  background: rgba(16, 185, 129, 0.15);
  border-color: rgba(16, 185, 129, 0.3);
  color: #10b981;
}

.attachment-chip.attachment-video {
  background: rgba(168, 85, 247, 0.15);
  border-color: rgba(168, 85, 247, 0.3);
  color: #a855f7;
}

.attachment-chip.attachment-file {
  background: rgba(245, 158, 11, 0.15);
  border-color: rgba(245, 158, 11, 0.3);
  color: var(--color-operator);
}

.attachment-remove {
  cursor: pointer;
  opacity: 0.7;
  font-weight: bold;
}

.attachment-remove:hover {
  opacity: 1;
}

.chat-message-attachments {
  margin-top: 0.5rem;
  display: flex;
  flex-wrap: wrap;
  gap: 0.25rem;
}

.chat-message.error .chat-message-bubble {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.3);
  color: #ef4444;
}

/* History Tab */
.history-container {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.history-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.history-header span {
  font-weight: 600;
}

.history-refresh-btn {
  padding: 0.35rem 0.75rem;
  font-size: 0.8rem;
}

.history-content {
  flex: 1;
  overflow-y: auto;
  padding: 1rem;
}

.history-loading,
.history-error,
.history-empty {
  text-align: center;
  padding: 2rem;
  color: var(--color-text-secondary);
}

.history-error {
  color: #ef4444;
}

.history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.8rem;
}

.history-table th,
.history-table td {
  padding: 0.75rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.history-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  font-size: 0.7rem;
  letter-spacing: 0.5px;
}

.history-table tbody tr:hover {
  background: rgba(255, 255, 255, 0.02);
}

.history-type {
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-accent);
}

.history-vtid {
  font-family: monospace;
  font-size: 0.75rem;
  color: var(--color-operator);
}

.history-time {
  color: var(--color-text-secondary);
  font-size: 0.75rem;
  white-space: nowrap;
}

.history-summary {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.history-status {
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  text-transform: uppercase;
  font-weight: 600;
}

.history-status-info {
  background: rgba(59, 130, 246, 0.15);
  color: var(--color-accent);
}

.history-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.history-status-warning {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-operator);
}

.history-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

/* --- VTID-0520: CI/CD Health Indicator --- */

.cicd-health-indicator {
  position: relative;
  display: flex;
  align-items: center;
  margin-right: 0.75rem;
}

.cicd-health-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  padding: 0;
  border-radius: 8px;
  border: 1px solid var(--color-border);
  background: transparent;
  cursor: pointer;
  transition: all 0.2s ease;
}

.cicd-health-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
}

.cicd-health-btn:focus {
  outline: none;
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.3);
}

.cicd-health-icon {
  font-size: 1.25rem;
  line-height: 1;
  transition: transform 0.2s ease;
}

/* Healthy state - green heartbeat */
.cicd-health-btn--healthy {
  background: rgba(16, 185, 129, 0.1);
  border-color: rgba(16, 185, 129, 0.3);
}

.cicd-health-btn--healthy:hover {
  background: rgba(16, 185, 129, 0.2);
  border-color: rgba(16, 185, 129, 0.5);
}

.cicd-health-btn--healthy .cicd-health-icon {
  color: #10b981;
  animation: cicd-heartbeat 1.5s ease-in-out infinite;
}

/* Error state - red heartbeat */
.cicd-health-btn--error {
  background: rgba(239, 68, 68, 0.1);
  border-color: rgba(239, 68, 68, 0.3);
}

.cicd-health-btn--error:hover {
  background: rgba(239, 68, 68, 0.2);
  border-color: rgba(239, 68, 68, 0.5);
}

.cicd-health-btn--error .cicd-health-icon {
  color: #ef4444;
  animation: cicd-heartbeat-error 0.8s ease-in-out infinite;
}

/* VTID-0541 D4: Warning state - yellow/amber (governance limited, runtime OK) */
.cicd-health-btn--warning {
  background: rgba(251, 191, 36, 0.1);
  border-color: rgba(251, 191, 36, 0.3);
}

.cicd-health-btn--warning:hover {
  background: rgba(251, 191, 36, 0.2);
  border-color: rgba(251, 191, 36, 0.5);
}

.cicd-health-btn--warning .cicd-health-icon {
  color: #fbbf24;
  animation: cicd-heartbeat 1.5s ease-in-out infinite;
}

/* Loading state - gray pulsing */
.cicd-health-btn--loading {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
}

.cicd-health-btn--loading .cicd-health-icon {
  color: var(--color-text-secondary);
  animation: cicd-pulse 1s ease-in-out infinite;
}

/* Unknown state - gray */
.cicd-health-btn--unknown {
  background: rgba(148, 163, 184, 0.1);
  border-color: rgba(148, 163, 184, 0.3);
}

.cicd-health-btn--unknown .cicd-health-icon {
  color: var(--color-text-secondary);
}

/* Heartbeat animation for healthy state */
@keyframes cicd-heartbeat {
  0%, 100% {
    transform: scale(1);
  }
  14% {
    transform: scale(1.15);
  }
  28% {
    transform: scale(1);
  }
  42% {
    transform: scale(1.15);
  }
  56% {
    transform: scale(1);
  }
}

/* Faster heartbeat for error state */
@keyframes cicd-heartbeat-error {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.2);
  }
}

/* Pulse animation for loading */
@keyframes cicd-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

/* --- CI/CD Health Tooltip (VTID-0520) --- */

.cicd-health-tooltip {
  position: absolute;
  top: calc(100% + 8px);
  right: 0;
  width: 280px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.5);
  z-index: 1000;
  overflow: hidden;
  animation: cicd-tooltip-fade-in 0.15s ease-out;
}

@keyframes cicd-tooltip-fade-in {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.cicd-health-tooltip__header {
  padding: 0.75rem 1rem;
  background: var(--color-bg);
  border-bottom: 1px solid var(--color-border);
}

.cicd-health-tooltip__status {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  font-size: 0.9rem;
  font-weight: 600;
}

.cicd-health-tooltip__status--healthy {
  color: #10b981;
}

.cicd-health-tooltip__status--error {
  color: #ef4444;
}

/* VTID-0541 D4: Warning status for governance limited */
.cicd-health-tooltip__status--warning {
  color: #fbbf24;
}

.cicd-health-tooltip__details {
  padding: 0.75rem 1rem;
}

.cicd-health-tooltip__row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 0.35rem 0;
  font-size: 0.8rem;
}

.cicd-health-tooltip__label {
  color: var(--color-text-secondary);
}

.cicd-health-tooltip__value {
  color: var(--color-text-primary);
  font-weight: 500;
}

.cicd-health-tooltip__value--yes {
  color: #10b981;
}

.cicd-health-tooltip__value--no {
  color: #ef4444;
}

.cicd-health-tooltip__caps-header {
  font-size: 0.7rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 0.75rem;
  margin-bottom: 0.25rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--color-border);
}

.cicd-health-tooltip__error {
  padding: 0.75rem 1rem;
  color: #ef4444;
  font-size: 0.8rem;
}

.cicd-health-tooltip__loading {
  padding: 0.75rem 1rem;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  text-align: center;
}

.cicd-health-tooltip__footer {
  padding: 0.5rem 1rem;
  background: var(--color-bg);
  border-top: 1px solid var(--color-border);
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  text-align: right;
}

/* --- VTID-0401: Governance Rules Catalog --- */

.governance-rules-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.governance-rules-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.governance-rules-search {
  min-width: 250px;
  flex: 1;
  max-width: 400px;
}

.governance-filter-select {
  width: auto !important;
  min-width: 140px;
  max-width: 200px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.5rem 0.75rem;
  color: var(--color-text-primary);
  font-size: 0.875rem;
  flex-shrink: 0;
}

.governance-filter-select:focus {
  outline: none;
  border-color: var(--color-accent);
}

.governance-rules-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.governance-rules-loading {
  padding: 2rem;
}

.skeleton-table {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.skeleton-row {
  height: 48px;
  background: linear-gradient(90deg, var(--color-sidebar-bg) 25%, var(--color-border) 50%, var(--color-sidebar-bg) 75%);
  background-size: 200% 100%;
  animation: skeleton-shimmer 1.5s infinite;
  border-radius: 4px;
}

@keyframes skeleton-shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.governance-rules-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.governance-rules-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.governance-rules-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.governance-rules-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.governance-rules-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.governance-rules-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.governance-rules-table th.sortable {
  cursor: pointer;
  user-select: none;
}

.governance-rules-table th.sortable:hover {
  color: var(--color-text-primary);
}

.governance-rule-row {
  cursor: pointer;
  transition: background 0.15s ease;
}

.governance-rule-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.governance-rules-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.rule-id-cell {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
  font-weight: 500;
}

.domain-cell {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.title-cell {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.updated-cell {
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  white-space: nowrap;
}

/* Level badges */
.level-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.level-l1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.level-l2 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.level-l3 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.level-l4 {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

/* Status badges */
.status-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.status-active {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.status-draft {
  background: rgba(148, 163, 184, 0.15);
  color: #94a3b8;
}

.status-deprecated {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.status-proposal {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

/* VTID chips */
.vtids-cell {
  white-space: nowrap;
}

.vtid-chip {
  display: inline-block;
  padding: 0.125rem 0.375rem;
  margin-right: 0.25rem;
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  border-radius: 3px;
  font-size: 0.7rem;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  color: var(--color-accent);
}

.vtid-more {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
}

.vtid-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

/* Domain badge for detail drawer */
.domain-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

/* Enforcement chips */
.enforcement-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

.enforcement-chip {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  background: rgba(139, 92, 246, 0.1);
  border: 1px solid rgba(139, 92, 246, 0.2);
  border-radius: 4px;
  font-size: 0.75rem;
  color: #8b5cf6;
}

/* Sources list */
.sources-list {
  margin: 0;
  padding-left: 1.25rem;
  list-style-type: disc;
}

.sources-list li {
  margin-bottom: 0.375rem;
}

.sources-list code {
  background: var(--color-sidebar-bg);
  padding: 0.125rem 0.375rem;
  border-radius: 3px;
  font-size: 0.8rem;
  word-break: break-all;
}

/* Governance Rule Detail Drawer */
.governance-rule-drawer {
  position: fixed;
  top: 0;
  right: -500px;
  width: 500px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.governance-rule-drawer.open {
  right: 0;
}

.rule-detail-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.rule-detail-section {
  margin-bottom: 1.25rem;
}

.rule-detail-section h3 {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--color-text-secondary);
  margin: 0 0 0.5rem 0;
}

.rule-detail-section p {
  margin: 0;
  line-height: 1.6;
  color: var(--color-text-primary);
}

/* --- VTID-0405: Source badges and enforcement semantics --- */

/* Source badges (SYSTEM vs CATALOG) */
.source-badge {
  display: inline-block;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.source-system {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.source-catalog {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

/* Enforcement semantics display */
.enforcement-semantics {
  padding: 0.75rem 1rem;
  border-radius: 6px;
  font-size: 0.875rem;
  line-height: 1.5;
}

.enforcement-hard {
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  color: #fca5a5;
}

.enforcement-soft {
  background: rgba(59, 130, 246, 0.1);
  border: 1px solid rgba(59, 130, 246, 0.2);
  color: #93c5fd;
}

.enforcement-info {
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.2);
  color: #fcd34d;
}

/* --- VTID-0526-D: Stage Counters Styling --- */

/* Stage counter row in ticker status banner */
.ticker-stage-counters {
  display: flex;
  gap: 0.75rem;
  margin-top: 0.5rem;
  padding-top: 0.5rem;
  border-top: 1px solid var(--color-border);
}

.stage-counter {
  display: flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  cursor: default;
}

.stage-icon {
  width: 18px;
  height: 18px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 3px;
  font-weight: 700;
  font-size: 0.7rem;
}

.stage-count {
  min-width: 20px;
  text-align: center;
}

/* Stage-specific colors */
.stage-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.stage-planner .stage-icon {
  background: #3b82f6;
  color: white;
}

.stage-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
}

.stage-worker .stage-icon {
  background: #f59e0b;
  color: white;
}

.stage-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
}

.stage-validator .stage-icon {
  background: #8b5cf6;
  color: white;
}

.stage-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
}

.stage-deploy .stage-icon {
  background: #10b981;
  color: white;
}

/* Stage badges in ticker event items */
.ticker-stage {
  width: 20px;
  height: 20px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 4px;
  font-weight: 700;
  font-size: 0.65rem;
  flex-shrink: 0;
  margin-right: 0.5rem;
}

.ticker-stage-planner {
  background: #3b82f6;
  color: white;
}

.ticker-stage-worker {
  background: #f59e0b;
  color: white;
}

.ticker-stage-validator {
  background: #8b5cf6;
  color: white;
}

.ticker-stage-deploy {
  background: #10b981;
  color: white;
}

/* --- VTID-0527: Task Stage Timeline Styles --- */

/* Card-level stage timeline pills */
.task-stage-timeline {
  display: flex;
  gap: 4px;
  margin-top: 8px;
  padding-top: 8px;
  border-top: 1px solid var(--color-border);
}

.task-stage-pill {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 22px;
  height: 22px;
  border-radius: 4px;
  font-size: 9px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  transition: all 0.2s ease;
}

/* Stage-specific base colors */
.task-stage-pill-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.task-stage-pill-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.task-stage-pill-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.task-stage-pill-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

/* Completed state - solid fill */
.task-stage-pill-completed.task-stage-pill-planner {
  background: #3b82f6;
  color: white;
  border-color: #3b82f6;
}

.task-stage-pill-completed.task-stage-pill-worker {
  background: #f59e0b;
  color: white;
  border-color: #f59e0b;
}

.task-stage-pill-completed.task-stage-pill-validator {
  background: #8b5cf6;
  color: white;
  border-color: #8b5cf6;
}

.task-stage-pill-completed.task-stage-pill-deploy {
  background: #10b981;
  color: white;
  border-color: #10b981;
}

/* Current state - highlighted with pulse */
.task-stage-pill-current {
  box-shadow: 0 0 0 2px var(--color-bg), 0 0 0 4px currentColor;
  animation: stage-pulse 2s ease-in-out infinite;
}

@keyframes stage-pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.8;
  }
}

/* Pending state - muted */
.task-stage-pill-pending {
  opacity: 0.4;
}

/* --- Task Stage Detail (Drawer) --- */

.task-stage-detail {
  margin-top: 1.5rem;
  padding-top: 1rem;
  border-top: 1px solid var(--color-border);
}

.task-stage-detail-heading {
  font-size: 0.875rem;
  font-weight: 600;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0 0 1rem 0;
}

.task-stage-detail-list {
  list-style: none;
  margin: 0;
  padding: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-stage-detail-item {
  padding: 0.75rem;
  background: var(--color-bg);
  border-radius: 8px;
  border-left: 3px solid var(--color-border);
}

/* VTID-0530: Added -success alias for -completed */
.task-stage-detail-item-completed,
.task-stage-detail-item-success {
  border-left-color: #10b981;
  background: rgba(16, 185, 129, 0.05);
}

.task-stage-detail-item-current {
  border-left-color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
}

.task-stage-detail-item-pending {
  border-left-color: var(--color-border);
  opacity: 0.6;
}

.task-stage-detail-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.25rem;
}

.task-stage-detail-stage {
  font-weight: 600;
  font-size: 0.8rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
}

.task-stage-detail-stage-planner {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.task-stage-detail-stage-worker {
  background: rgba(245, 158, 11, 0.15);
  color: #fbbf24;
}

.task-stage-detail-stage-validator {
  background: rgba(139, 92, 246, 0.15);
  color: #a78bfa;
}

.task-stage-detail-stage-deploy {
  background: rgba(16, 185, 129, 0.15);
  color: #34d399;
}

.task-stage-detail-status {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
}

/* VTID-0530: Added -success alias for -completed */
.task-stage-detail-status-completed,
.task-stage-detail-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.task-stage-detail-status-current {
  background: rgba(59, 130, 246, 0.15);
  color: var(--color-accent);
}

.task-stage-detail-status-pending {
  background: rgba(148, 163, 184, 0.15);
  color: var(--color-text-secondary);
}

.task-stage-detail-meta {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
  margin-top: 0.5rem;
}

.task-stage-detail-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.task-stage-detail-message {
  font-size: 0.8rem;
  color: var(--color-text-primary);
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
}

/* --- VTID-0529-B: Hard Bundle Fingerprint UI --- */
/* Banner at top + footer label at bottom-right to prove which bundle is served */

.bundle-fingerprint-banner {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  padding: 6px 12px;
  text-align: center;
  font-size: 12px;
  letter-spacing: 0.06em;
  background: rgba(255, 196, 0, 0.18);
  border-bottom: 1px solid rgba(255, 196, 0, 0.4);
  color: #ffcc33;
  z-index: 9999;
  pointer-events: none;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-weight: 600;
}

.bundle-fingerprint-footer {
  position: fixed;
  bottom: 8px;
  right: 12px;
  font-size: 10px;
  opacity: 0.7;
  z-index: 9999;
  pointer-events: none;
  color: var(--color-text-secondary);
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  background: rgba(0, 0, 0, 0.3);
  padding: 2px 6px;
  border-radius: 3px;
}

/* VTID-0539: Hide bundle fingerprint banner and footer for cleaner chat experience */
.bundle-fingerprint-banner,
.bundle-fingerprint-footer {
  display: none !important;
}

/* VTID-0527: Additional stage detail styles */

.task-stage-detail-loading {
  padding: 1rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.875rem;
}

.task-stage-detail-item-error {
  border-left-color: #ef4444;
  background: rgba(239, 68, 68, 0.08);
}

.task-stage-detail-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.task-stage-detail-time-completed {
  color: #10b981;
}

.task-stage-detail-time-error {
  color: #ef4444;
}

/* --- VTID-0527: VTID Stage Timeline Visual Component --- */

.vtid-stage-timeline {
  margin-top: 12px;
  padding: 12px 16px;
  border-radius: 8px;
  background: rgba(255, 255, 255, 0.02);
  border: 1px solid rgba(255, 255, 255, 0.04);
}

.vtid-stage-timeline-item {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  padding: 8px 0;
  border-bottom: 1px solid rgba(255, 255, 255, 0.04);
}

.vtid-stage-timeline-item:last-child {
  border-bottom: none;
}

.vtid-stage-timeline-item-marker {
  width: 10px;
  height: 10px;
  border-radius: 999px;
  margin-top: 4px;
  flex-shrink: 0;
}

/* Status colors for timeline markers */
/* VTID-0530: Added --success alias for --completed */
.vtid-stage-timeline-item-marker--completed,
.vtid-stage-timeline-item-marker--success {
  background: #10b981;
  box-shadow: 0 0 4px rgba(16, 185, 129, 0.4);
}

.vtid-stage-timeline-item-marker--running {
  background: #f59e0b;
  box-shadow: 0 0 4px rgba(245, 158, 11, 0.4);
  animation: marker-pulse 1.5s ease-in-out infinite;
}

.vtid-stage-timeline-item-marker--pending {
  background: #4b5563;
  opacity: 0.5;
}

.vtid-stage-timeline-item-marker--error {
  background: #ef4444;
  box-shadow: 0 0 4px rgba(239, 68, 68, 0.4);
}

@keyframes marker-pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(1.1);
  }
}

.vtid-stage-timeline-item-main {
  display: flex;
  flex-direction: column;
  gap: 2px;
  flex: 1;
}

.vtid-stage-timeline-item-title {
  font-weight: 500;
  font-size: 0.8rem;
  color: var(--color-text-primary);
}

.vtid-stage-timeline-item-meta {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  opacity: 0.8;
}

/* --- VTID-0406: Governance Evaluations Viewer --- */

.gov-evals-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-evals-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.gov-evals-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.gov-evals-loading {
  padding: 2rem;
}

.gov-evals-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-evals-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-evals-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-evals-empty p {
  margin: 0.5rem 0;
}

.gov-evals-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

.gov-evals-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-evals-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-evals-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-evals-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-eval-row {
  transition: background 0.15s ease;
}

.gov-eval-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-evals-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-eval-timestamp {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.gov-eval-action {
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.gov-eval-service {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.gov-eval-env {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

/* Result badges - Allow (green) / Deny (red) */
.gov-eval-allow {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-eval-deny {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-eval-rules {
  display: flex;
  flex-wrap: wrap;
  gap: 0.375rem;
}

.gov-eval-no-violations {
  color: var(--color-text-secondary);
  opacity: 0.5;
}

/* Rule chips with level badges */
.gov-rule-chip {
  display: inline-flex;
  align-items: center;
  gap: 0.25rem;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  cursor: pointer;
  transition: all 0.15s ease;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
}

.gov-rule-chip:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.gov-rule-chip-id {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-weight: 500;
}

.gov-rule-chip-level {
  padding: 0.1rem 0.25rem;
  border-radius: 2px;
  font-weight: 700;
  font-size: 0.65rem;
}

/* Level-specific chip colors - L1 red, L2 blue, L3 amber, L4 purple */
.gov-rule-chip-l1 {
  border-color: rgba(239, 68, 68, 0.4);
}

.gov-rule-chip-l1 .gov-rule-chip-level {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

.gov-rule-chip-l2 {
  border-color: rgba(59, 130, 246, 0.4);
}

.gov-rule-chip-l2 .gov-rule-chip-level {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
}

.gov-rule-chip-l3 {
  border-color: rgba(245, 158, 11, 0.4);
}

.gov-rule-chip-l3 .gov-rule-chip-level {
  background: rgba(245, 158, 11, 0.2);
  color: #f59e0b;
}

.gov-rule-chip-l4 {
  border-color: rgba(139, 92, 246, 0.4);
}

.gov-rule-chip-l4 .gov-rule-chip-level {
  background: rgba(139, 92, 246, 0.2);
  color: #8b5cf6;
}

/* --- VTID-0408: Governance History Timeline --- */

.gov-history-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-history-toolbar {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.gov-history-count {
  color: var(--color-text-secondary);
  font-size: 0.875rem;
  white-space: nowrap;
}

.gov-history-loading {
  padding: 2rem;
}

.gov-history-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-history-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-history-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-history-empty p {
  margin: 0.5rem 0;
}

.gov-history-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

.gov-history-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-history-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-history-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-history-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-history-row {
  transition: background 0.15s ease;
  cursor: pointer;
}

.gov-history-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-history-row:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

.gov-history-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-history-timestamp {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  white-space: nowrap;
}

.gov-history-summary {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.gov-history-no-level {
  color: var(--color-text-secondary);
  opacity: 0.5;
}

.gov-history-details-cell {
  width: 40px;
  text-align: center;
}

.gov-history-chevron {
  font-size: 1.25rem;
  color: var(--color-text-secondary);
  transition: transform 0.2s ease;
}

.gov-history-row:hover .gov-history-chevron {
  transform: translateX(3px);
  color: var(--color-accent);
}

/* Event Type Badges */
.gov-history-type-badge {
  display: inline-block;
  padding: 0.25rem 0.625rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-history-type-blocked {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-history-type-allowed {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-history-type-evaluate {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-history-type-rule {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

.gov-history-type-default {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Actor Badges */
.gov-history-actor-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: capitalize;
}

.gov-history-actor-operator {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-history-actor-autopilot {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.gov-history-actor-validator {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.gov-history-actor-system {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Load More Button */
.gov-history-load-more {
  margin-top: 1rem;
  width: 100%;
  padding: 0.75rem;
}

/* History Event Drawer */
.gov-history-drawer {
  position: fixed;
  top: 0;
  right: -500px;
  width: 500px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -4px 0 20px rgba(0, 0, 0, 0.3);
  transition: right 0.3s ease;
  z-index: 900;
  display: flex;
  flex-direction: column;
}

.gov-history-drawer.open {
  right: 0;
}

.gov-history-drawer-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
  background: var(--color-bg);
}

.gov-history-drawer-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
  color: var(--color-text-primary);
}

.gov-history-drawer-content {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
}

.gov-history-drawer-section {
  margin-bottom: 1.5rem;
}

.gov-history-drawer-section h3 {
  font-size: 0.75rem;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--color-text-secondary);
  margin: 0 0 0.5rem 0;
}

.gov-history-drawer-section p {
  margin: 0;
  line-height: 1.6;
  color: var(--color-text-primary);
}

.gov-history-drawer-meta {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.gov-history-rules-chips {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
}

.gov-history-context-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.gov-history-context-item {
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.gov-history-context-item .label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  min-width: 60px;
}

.gov-history-context-item .value {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
}

.gov-history-json-section {
  margin-top: 2rem;
}

.gov-history-json {
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 1rem;
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.75rem;
  overflow-x: auto;
  max-height: 300px;
  overflow-y: auto;
  white-space: pre-wrap;
  word-break: break-word;
  color: var(--color-text-secondary);
}

/* ==========================================================================
   VTID-0150-A: ORB UI & Interaction Shell (Global Assistant Overlay)
   ========================================================================== */

/* --- ORB Variables --- */
:root {
  --orb-outer: #5a6a8a;
  --orb-mid: #4a5a7a;
  --orb-core: #3a4a6a;
  --orb-highlight: rgba(140, 160, 200, 0.4);
  --orb-glow: rgba(90, 110, 150, 0.5);
  --orb-size-idle: 72px;
  --orb-size-large: 280px;
  --orb-z-idle: 850;
  --orb-z-overlay: 2500;
  --orb-z-drawer: 2600;
  /* VTID-01064: ORB Status Aura Variables */
  --orb-glow-ready: rgba(20, 184, 166, 0.6);
  --orb-glow-listening: rgba(59, 130, 246, 0.6);
  --orb-glow-thinking: rgba(139, 92, 246, 0.6);
  --orb-glow-speaking: rgba(245, 158, 11, 0.6);
  --orb-glow-paused: rgba(107, 114, 128, 0.4);
  --orb-glow-connecting: rgba(226, 232, 240, 0.6);
  --orb-glow-error: rgba(239, 68, 68, 0.5);
  --orb-aura-opacity-base: 0.4;
  --orb-aura-opacity-active: 0.8;
}

/* --- ORB Container (Global Overlay Layer) --- */
.orb-layer {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: var(--orb-z-idle);
}

/* --- ORB Idle State (Floating Sphere - Nebula Style) --- */
.orb-idle {
  position: relative;
  width: var(--orb-size-idle);
  height: var(--orb-size-idle);
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 35% 35%,
    var(--orb-highlight) 0%,
    var(--orb-outer) 25%,
    var(--orb-mid) 50%,
    var(--orb-core) 75%,
    #2a3a5a 100%
  );
  box-shadow:
    0 8px 32px var(--orb-glow),
    0 0 60px rgba(90, 110, 150, 0.3),
    inset 0 -8px 20px rgba(0, 0, 0, 0.4),
    inset 0 8px 20px rgba(255, 255, 255, 0.08);
  cursor: pointer;
  pointer-events: auto;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1),
              box-shadow 0.3s ease;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  flex-shrink: 0;
}

/* Highlight shimmer effect */
.orb-idle::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 25% 25%,
    rgba(255, 255, 255, 0.25) 0%,
    rgba(255, 255, 255, 0.1) 20%,
    transparent 50%
  );
}

/* Subtle inner glow / nebula particles effect */
.orb-idle::after {
  content: '';
  position: absolute;
  width: 60%;
  height: 60%;
  border-radius: 50%;
  background: radial-gradient(
    circle at 60% 60%,
    rgba(180, 190, 220, 0.15) 0%,
    transparent 70%
  );
  animation: orb-nebula-drift 6s ease-in-out infinite;
}

@keyframes orb-nebula-drift {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.6;
  }
  50% {
    transform: translate(5px, -5px) scale(1.1);
    opacity: 0.8;
  }
}

.orb-idle:hover {
  transform: scale(1.08);
  box-shadow:
    0 10px 40px var(--orb-glow),
    0 0 80px rgba(90, 110, 150, 0.4),
    inset 0 -8px 20px rgba(0, 0, 0, 0.4),
    inset 0 8px 20px rgba(255, 255, 255, 0.1);
}

.orb-idle:active {
  transform: scale(0.95);
}

/* Subtle pulse animation for idle orb */
.orb-idle-pulse {
  animation: orb-idle-pulse 4s ease-in-out infinite;
}

@keyframes orb-idle-pulse {
  0%, 100% {
    box-shadow:
      0 8px 32px var(--orb-glow),
      0 0 60px rgba(90, 110, 150, 0.3),
      inset 0 -8px 20px rgba(0, 0, 0, 0.4),
      inset 0 8px 20px rgba(255, 255, 255, 0.08);
  }
  50% {
    box-shadow:
      0 8px 40px rgba(90, 110, 150, 0.6),
      0 0 80px rgba(90, 110, 150, 0.4),
      inset 0 -8px 20px rgba(0, 0, 0, 0.4),
      inset 0 8px 20px rgba(255, 255, 255, 0.1);
  }
}

/* Inner orb icon - hidden for clean sphere look per design */
.orb-idle-icon {
  display: none;
}

/* Hide idle orb when overlay is open */
.orb-idle.orb-hidden {
  opacity: 0;
  transform: scale(0);
  pointer-events: none;
}

/* --- ORB Overlay (Full-Screen Mode) --- */
.orb-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(200, 210, 220, 0.75);
  backdrop-filter: blur(8px);
  z-index: var(--orb-z-overlay);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.4s ease, visibility 0.4s ease;
}

.orb-overlay.orb-overlay-visible {
  opacity: 1;
  visibility: visible;
}

/* Large centered ORB - Nebula/Galaxy Style */
.orb-large {
  width: var(--orb-size-large);
  height: var(--orb-size-large);
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 40% 35%,
    rgba(160, 175, 200, 0.5) 0%,
    #7080a0 15%,
    #5a6a8a 30%,
    #4a5a7a 50%,
    #3a4a6a 70%,
    #2a3a5a 100%
  );
  box-shadow:
    0 20px 80px rgba(60, 80, 120, 0.5),
    0 0 150px rgba(80, 100, 140, 0.3),
    inset 0 -20px 50px rgba(0, 0, 0, 0.4),
    inset 0 20px 40px rgba(255, 255, 255, 0.08);
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0;
}

/* Main highlight */
.orb-large::before {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(
    ellipse at 30% 25%,
    rgba(255, 255, 255, 0.3) 0%,
    rgba(255, 255, 255, 0.15) 15%,
    transparent 45%
  );
}

/* Subtle inner nebula glow */
.orb-large::after {
  content: '';
  position: absolute;
  width: 70%;
  height: 70%;
  border-radius: 50%;
  background: radial-gradient(
    circle at 55% 55%,
    rgba(140, 160, 200, 0.2) 0%,
    transparent 60%
  );
  animation: orb-large-nebula 8s ease-in-out infinite;
}

@keyframes orb-large-nebula {
  0%, 100% {
    transform: translate(0, 0) scale(1);
    opacity: 0.5;
  }
  50% {
    transform: translate(10px, -10px) scale(1.1);
    opacity: 0.7;
  }
}

/* Idle animation for large orb */
.orb-large-idle {
  animation: orb-large-idle 5s ease-in-out infinite;
}

@keyframes orb-large-idle {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.02); }
}

/* Thinking animation for large orb */
.orb-large-thinking {
  animation: orb-large-thinking 1.5s ease-in-out infinite;
}

@keyframes orb-large-thinking {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      0 20px 80px rgba(60, 80, 120, 0.5),
      0 0 150px rgba(80, 100, 140, 0.3),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.08);
  }
  50% {
    transform: scale(1.05);
    box-shadow:
      0 20px 100px rgba(60, 80, 120, 0.7),
      0 0 180px rgba(80, 100, 140, 0.5),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.1);
  }
}

/* DEV-COMHU-2025-0014: Listening animation for live voice */
.orb-large-listening {
  animation: orb-large-listening 2s ease-in-out infinite;
}

@keyframes orb-large-listening {
  0%, 100% {
    transform: scale(1);
    box-shadow:
      0 20px 80px rgba(59, 130, 246, 0.4),
      0 0 150px rgba(59, 130, 246, 0.2),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.08);
  }
  50% {
    transform: scale(1.03);
    box-shadow:
      0 20px 100px rgba(59, 130, 246, 0.6),
      0 0 180px rgba(59, 130, 246, 0.4),
      inset 0 -20px 50px rgba(0, 0, 0, 0.4),
      inset 0 20px 40px rgba(255, 255, 255, 0.1);
  }
}

/* DEV-COMHU-2025-0014: Live transcript area */
.orb-live-transcript {
  position: fixed;
  top: 60px;
  left: 50%;
  transform: translateX(-50%);
  width: 90%;
  max-width: 600px;
  max-height: 200px;
  overflow-y: auto;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
  padding: 16px 20px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
  z-index: 10002;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.orb-live-transcript:empty {
  display: none;
}

.orb-live-message {
  font-size: 0.95rem;
  line-height: 1.5;
  color: #1e293b;
}

.orb-live-message-assistant {
  background: #f1f5f9;
  padding: 12px 16px;
  border-radius: 12px;
  border-left: 3px solid #3b82f6;
}

.orb-live-message-user {
  background: #e0f2fe;
  padding: 12px 16px;
  border-radius: 12px;
  text-align: right;
}

.orb-live-listening,
.orb-live-connecting {
  font-size: 0.9rem;
  color: #64748b;
  text-align: center;
  padding: 8px;
  animation: orb-live-pulse 2s ease-in-out infinite;
}

@keyframes orb-live-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.orb-live-error {
  font-size: 0.9rem;
  color: #ef4444;
  text-align: center;
  padding: 12px;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 8px;
}

/* VTID-0135: Interim transcript styling */
.orb-live-interim {
  opacity: 0.7;
  font-style: italic;
}

/* ==========================================================================
   VTID-0135: ORB State Pill (Voice Conversation State)
   ========================================================================== */

.orb-state-pill {
  position: fixed;
  top: 32px;
  left: 50%;
  transform: translateX(-50%);
  padding: 8px 24px;
  border-radius: 20px;
  font-size: 0.85rem;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  z-index: 2510;
  transition: all 0.3s ease;
}

.orb-state-idle {
  background: rgba(100, 116, 139, 0.2);
  color: #64748b;
}

.orb-state-listening {
  background: rgba(59, 130, 246, 0.2);
  color: #3b82f6;
  animation: orb-state-pulse 1.5s ease-in-out infinite;
}

.orb-state-thinking {
  background: rgba(168, 85, 247, 0.2);
  color: #a855f7;
  animation: orb-state-pulse 0.8s ease-in-out infinite;
}

.orb-state-speaking {
  background: rgba(34, 197, 94, 0.2);
  color: #22c55e;
  animation: orb-state-speaking 1s ease-in-out infinite;
}

.orb-state-muted {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

@keyframes orb-state-pulse {
  0%, 100% { opacity: 0.8; transform: translateX(-50%) scale(1); }
  50% { opacity: 1; transform: translateX(-50%) scale(1.02); }
}

@keyframes orb-state-speaking {
  0%, 100% { opacity: 0.9; }
  50% { opacity: 1; }
}

/* VTID-0135: ORB Large Speaking State */
.orb-large-speaking {
  animation: orb-large-speaking 1s ease-in-out infinite;
}

@keyframes orb-large-speaking {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 60px rgba(34, 197, 94, 0.4), 0 0 120px rgba(34, 197, 94, 0.2);
  }
  50% {
    transform: scale(1.03);
    box-shadow: 0 0 80px rgba(34, 197, 94, 0.5), 0 0 160px rgba(34, 197, 94, 0.3);
  }
}

/* VTID-0135: ORB Large Muted State */
.orb-large-muted {
  opacity: 0.6;
  filter: grayscale(30%);
}

/* ==========================================================================
   VTID-01064: ORB Status Aura System
   ========================================================================== */

/* --- ORB Shell Wrapper (contains ORB + aura layers) --- */
.orb-shell {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* --- Aura Layer (behind ORB via ::before) --- */
.orb-shell::before {
  content: '';
  position: absolute;
  width: 140%;
  height: 140%;
  border-radius: 50%;
  opacity: var(--orb-aura-opacity-base);
  transition: opacity 300ms ease, box-shadow 300ms ease, background 300ms ease;
  pointer-events: none;
  z-index: -1;
}

/* --- Secondary Aura Glow (::after for depth) --- */
.orb-shell::after {
  content: '';
  position: absolute;
  width: 160%;
  height: 160%;
  border-radius: 50%;
  opacity: calc(var(--orb-aura-opacity-base) * 0.5);
  transition: opacity 300ms ease, box-shadow 300ms ease, background 300ms ease;
  pointer-events: none;
  z-index: -2;
}

/* --- Ready State (Teal/Cyan - slow breathe) --- */
.orb-shell.orb--ready::before {
  background: radial-gradient(circle, var(--orb-glow-ready) 0%, transparent 70%);
  box-shadow: 0 0 60px var(--orb-glow-ready), 0 0 120px var(--orb-glow-ready);
  animation: orb-aura-breathe 4s ease-in-out infinite;
}
.orb-shell.orb--ready::after {
  background: radial-gradient(circle, var(--orb-glow-ready) 0%, transparent 60%);
}

@keyframes orb-aura-breathe {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.05);
  }
}

/* --- Listening State (Blue - subtle ripple) --- */
.orb-shell.orb--listening::before {
  background: radial-gradient(circle, var(--orb-glow-listening) 0%, transparent 70%);
  box-shadow: 0 0 80px var(--orb-glow-listening), 0 0 150px var(--orb-glow-listening);
  animation: orb-aura-ripple 2s ease-in-out infinite;
}
.orb-shell.orb--listening::after {
  background: radial-gradient(circle, var(--orb-glow-listening) 0%, transparent 60%);
  animation: orb-aura-ripple-outer 2s ease-in-out infinite 0.3s;
}

@keyframes orb-aura-ripple {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.08);
  }
}

@keyframes orb-aura-ripple-outer {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.4);
    transform: scale(1);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.6);
    transform: scale(1.1);
  }
}

/* --- Thinking State (Purple - slow swirl) --- */
.orb-shell.orb--thinking::before {
  background: radial-gradient(circle, var(--orb-glow-thinking) 0%, transparent 70%);
  box-shadow: 0 0 100px var(--orb-glow-thinking), 0 0 180px var(--orb-glow-thinking);
  animation: orb-aura-swirl 3s ease-in-out infinite;
}
.orb-shell.orb--thinking::after {
  background: radial-gradient(circle, var(--orb-glow-thinking) 0%, transparent 60%);
  animation: orb-aura-swirl-counter 3s ease-in-out infinite;
}

@keyframes orb-aura-swirl {
  0% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1) rotate(0deg);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.06) rotate(180deg);
  }
  100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1) rotate(360deg);
  }
}

@keyframes orb-aura-swirl-counter {
  0% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.5);
    transform: scale(1) rotate(0deg);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.7);
    transform: scale(1.08) rotate(-180deg);
  }
  100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.5);
    transform: scale(1) rotate(-360deg);
  }
}

/* --- Speaking State (Gold/Amber - rhythmic pulse) --- */
.orb-shell.orb--speaking::before {
  background: radial-gradient(circle, var(--orb-glow-speaking) 0%, transparent 70%);
  box-shadow: 0 0 80px var(--orb-glow-speaking), 0 0 140px var(--orb-glow-speaking);
  animation: orb-aura-pulse 1s ease-in-out infinite;
}
.orb-shell.orb--speaking::after {
  background: radial-gradient(circle, var(--orb-glow-speaking) 0%, transparent 60%);
  animation: orb-aura-pulse-outer 1s ease-in-out infinite 0.15s;
}

@keyframes orb-aura-pulse {
  0%, 100% {
    opacity: var(--orb-aura-opacity-base);
    transform: scale(1);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
    transform: scale(1.04);
  }
}

@keyframes orb-aura-pulse-outer {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.4);
    transform: scale(1);
  }
  50% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.7);
    transform: scale(1.06);
  }
}

/* --- Paused/Muted State (Gray - no animation) --- */
.orb-shell.orb--paused::before {
  background: radial-gradient(circle, var(--orb-glow-paused) 0%, transparent 70%);
  box-shadow: 0 0 40px var(--orb-glow-paused);
  opacity: var(--orb-aura-opacity-base);
  animation: none;
}
.orb-shell.orb--paused::after {
  background: radial-gradient(circle, var(--orb-glow-paused) 0%, transparent 60%);
  opacity: calc(var(--orb-aura-opacity-base) * 0.3);
  animation: none;
}

/* --- Connecting/Loading State (Silver/White - fade loop) --- */
.orb-shell.orb--connecting::before {
  background: radial-gradient(circle, var(--orb-glow-connecting) 0%, transparent 70%);
  box-shadow: 0 0 60px var(--orb-glow-connecting), 0 0 100px var(--orb-glow-connecting);
  animation: orb-aura-fade 2s ease-in-out infinite;
}
.orb-shell.orb--connecting::after {
  background: radial-gradient(circle, var(--orb-glow-connecting) 0%, transparent 60%);
  animation: orb-aura-fade 2s ease-in-out infinite 0.5s;
}

@keyframes orb-aura-fade {
  0%, 100% {
    opacity: calc(var(--orb-aura-opacity-base) * 0.3);
  }
  50% {
    opacity: var(--orb-aura-opacity-active);
  }
}

/* --- Error/Blocked State (Soft Red - static, tighter radius) --- */
.orb-shell.orb--error::before {
  background: radial-gradient(circle, var(--orb-glow-error) 0%, transparent 60%);
  box-shadow: 0 0 40px var(--orb-glow-error);
  opacity: var(--orb-aura-opacity-active);
  animation: none;
  width: 120%;
  height: 120%;
}
.orb-shell.orb--error::after {
  background: radial-gradient(circle, var(--orb-glow-error) 0%, transparent 50%);
  opacity: calc(var(--orb-aura-opacity-base) * 0.5);
  animation: none;
  width: 130%;
  height: 130%;
}

/* VTID-0135: End button styling (red) */
.orb-control-end {
  color: #ef4444;
}

.orb-control-end:hover {
  background: rgba(239, 68, 68, 0.1);
  color: #dc2626;
}

/* DEV-COMHU-2025-0014: Status text below orb - show for live mode */
.orb-status-text {
  margin-top: 24px;
  font-size: 1rem;
  font-weight: 500;
  color: #475569;
  text-align: center;
}

/* --- ORB Control Row (Fixed at bottom center) --- */
.orb-controls {
  position: fixed;
  bottom: 48px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 12px;
  background: rgba(255, 255, 255, 0.95);
  padding: 12px 16px;
  border-radius: 32px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
}

.orb-control-btn {
  width: 48px;
  height: 48px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
}

.orb-control-btn:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-control-btn.orb-control-active {
  color: #3b82f6;
}

.orb-control-btn.orb-control-active:hover {
  background: rgba(59, 130, 246, 0.1);
}

/* Close button - same style as others */
.orb-control-close {
  color: #64748b;
}

.orb-control-close:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-control-icon {
  width: 24px;
  height: 24px;
}

/* Hide labels - controls are icon-only per design */
.orb-control-label {
  display: none;
}

/* Wrapper for control buttons - no labels */
.orb-control-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.orb-control-wrapper .orb-control-label {
  display: none;
  opacity: 0.7;
}

/* VTID-01042: Unified Language Settings (replaces VTID-01038 Voice Settings) */
.orb-lang-settings {
  position: absolute;
  bottom: 140px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 8px;
  padding: 12px 16px;
  background: rgba(30, 40, 55, 0.8);
  border-radius: 8px;
  border: 1px solid var(--color-border);
}

.orb-lang-label-row {
  display: flex;
  align-items: baseline;
  gap: 8px;
  width: 100%;
}

.orb-lang-label {
  font-size: 0.75rem;
  font-weight: 600;
  color: var(--color-text-primary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.orb-lang-helper {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

.orb-lang-select {
  min-width: 200px;
  max-width: 280px;
  padding: 8px 12px;
  font-size: 0.875rem;
  color: var(--color-text-primary);
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  cursor: pointer;
  transition: border-color 0.2s ease;
}

.orb-lang-select:hover {
  border-color: var(--color-text-secondary);
}

.orb-lang-select:focus {
  outline: none;
  border-color: var(--color-primary);
}

.orb-lang-warning {
  font-size: 0.75rem;
  color: var(--color-warning, #f0a500);
  text-align: center;
  padding: 4px 8px;
  background: rgba(240, 165, 0, 0.1);
  border-radius: 4px;
  max-width: 280px;
}

/* Chat button in overlay - hidden per design, chat accessed via control */
.orb-chat-btn {
  display: none;
}

/* --- ORB Chat Drawer --- */
.orb-chat-drawer {
  position: fixed;
  top: 0;
  right: -420px;
  width: 420px;
  height: 100vh;
  background: var(--color-sidebar-bg);
  border-left: 1px solid var(--color-border);
  box-shadow: -8px 0 30px rgba(0, 0, 0, 0.4);
  z-index: var(--orb-z-drawer);
  display: flex;
  flex-direction: column;
  transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.orb-chat-drawer.orb-chat-drawer-open {
  right: 0;
}

/* Drawer Header */
.orb-chat-header {
  padding: 16px 20px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--color-bg);
}

.orb-chat-title {
  display: flex;
  align-items: center;
  gap: 12px;
}

.orb-chat-title-orb {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--orb-primary) 0%, var(--orb-secondary) 100%);
  box-shadow: 0 2px 10px var(--orb-glow);
}

.orb-chat-title-text {
  font-size: 1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin: 0;
}

.orb-chat-close {
  background: transparent;
  border: none;
  color: var(--color-text-secondary);
  font-size: 1.5rem;
  cursor: pointer;
  padding: 4px;
  line-height: 1;
  transition: color 0.2s;
}

.orb-chat-close:hover {
  color: var(--color-text-primary);
}

/* Chat Messages Area */
.orb-chat-messages {
  flex: 1;
  overflow-y: auto;
  padding: 20px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* Suggestion Chips Area (Placeholder) */
.orb-suggestion-chips {
  padding: 12px 20px;
  border-bottom: 1px solid var(--color-border);
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  background: var(--color-bg);
}

.orb-suggestion-chip {
  padding: 6px 14px;
  border-radius: 16px;
  border: 1px solid var(--color-border);
  background: transparent;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  cursor: pointer;
  transition: all 0.2s;
}

.orb-suggestion-chip:hover {
  background: rgba(139, 92, 246, 0.1);
  border-color: var(--orb-primary);
  color: var(--orb-primary);
}

/* Chat Message Bubble */
.orb-chat-message {
  display: flex;
  flex-direction: column;
  max-width: 85%;
}

.orb-chat-message-user {
  align-self: flex-end;
}

.orb-chat-message-assistant {
  align-self: flex-start;
}

.orb-chat-bubble {
  padding: 12px 16px;
  border-radius: 16px;
  font-size: 0.9rem;
  line-height: 1.5;
}

.orb-chat-message-user .orb-chat-bubble {
  background: var(--orb-primary);
  color: #fff;
  border-bottom-right-radius: 4px;
}

.orb-chat-message-assistant .orb-chat-bubble {
  background: var(--color-bg);
  color: var(--color-text-primary);
  border: 1px solid var(--color-border);
  border-bottom-left-radius: 4px;
}

.orb-chat-message-time {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  margin-top: 4px;
  padding: 0 8px;
}

/* Chat Input Area */
.orb-chat-input-container {
  padding: 16px 20px;
  border-top: 1px solid var(--color-border);
  display: flex;
  gap: 12px;
  background: var(--color-bg);
}

.orb-chat-input {
  flex: 1;
  padding: 12px 16px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 24px;
  color: var(--color-text-primary);
  font-size: 0.9rem;
  resize: none;
  font-family: inherit;
  min-height: 44px;
  max-height: 120px;
}

.orb-chat-input:focus {
  outline: none;
  border-color: var(--orb-primary);
}

.orb-chat-input::placeholder {
  color: var(--color-text-secondary);
}

.orb-chat-send {
  width: 44px;
  height: 44px;
  border-radius: 50%;
  border: none;
  background: var(--orb-primary);
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  flex-shrink: 0;
}

.orb-chat-send:hover {
  background: var(--orb-secondary);
  transform: scale(1.05);
}

.orb-chat-send:disabled {
  background: var(--color-border);
  cursor: not-allowed;
  transform: none;
}

.orb-chat-send-icon {
  width: 20px;
  height: 20px;
}

/* Empty state for chat */
.orb-chat-empty {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  color: var(--color-text-secondary);
  text-align: center;
  padding: 40px;
}

.orb-chat-empty-orb {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--orb-primary) 0%, var(--orb-secondary) 100%);
  box-shadow: 0 4px 20px var(--orb-glow);
  margin-bottom: 16px;
  opacity: 0.6;
}

.orb-chat-empty-text {
  font-size: 0.9rem;
  margin-bottom: 8px;
}

.orb-chat-empty-hint {
  font-size: 0.8rem;
  opacity: 0.7;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .orb-chat-drawer {
    width: 100%;
    right: -100%;
  }

  .orb-large {
    width: 140px;
    height: 140px;
  }

  .orb-controls {
    gap: 12px;
  }

  .orb-control-btn {
    width: 48px;
    height: 48px;
  }
}

/* ========================================
   VTID-0409: Governance Categories Styles
   ======================================== */

.gov-categories-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-categories-loading {
  padding: 2rem;
}

.gov-categories-error {
  padding: 2rem;
  text-align: center;
  color: #ef4444;
  background: rgba(239, 68, 68, 0.1);
  border: 1px solid rgba(239, 68, 68, 0.2);
  border-radius: 8px;
}

.gov-categories-error .error-icon {
  font-size: 1.5rem;
  margin-right: 0.5rem;
}

.gov-categories-empty {
  padding: 3rem;
  text-align: center;
  color: var(--color-text-secondary);
}

.gov-categories-empty p {
  margin: 0.5rem 0;
}

.gov-categories-empty-hint {
  font-size: 0.875rem;
  opacity: 0.7;
}

/* Two-column layout */
.gov-categories-layout {
  display: flex;
  gap: 1.5rem;
  flex: 1;
  min-height: 0;
  overflow: hidden;
}

/* Left column: Category list */
.gov-categories-list {
  width: 280px;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  overflow-y: auto;
  padding-right: 0.5rem;
}

.gov-category-item {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  padding: 0.875rem 1rem;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 8px;
  cursor: pointer;
  text-align: left;
  transition: all 0.15s ease;
  width: 100%;
}

.gov-category-item:hover {
  background: rgba(59, 130, 246, 0.1);
  border-color: rgba(59, 130, 246, 0.3);
}

.gov-category-item:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

.gov-category-item.selected {
  background: rgba(59, 130, 246, 0.15);
  border-color: var(--color-accent);
}

.gov-category-label {
  font-weight: 600;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}

.gov-category-meta {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.5rem;
}

.gov-category-count {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
}

.gov-category-levels {
  display: flex;
  gap: 0.25rem;
}

.gov-category-levels .lvl {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 20px;
  height: 18px;
  font-size: 0.65rem;
  font-weight: 600;
  border-radius: 3px;
}

.gov-category-levels .lvl-L1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.gov-category-levels .lvl-L2 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.gov-category-levels .lvl-L3 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.gov-category-levels .lvl-L4 {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
}

/* Right column: Rules table */
.gov-category-rules {
  flex: 1;
  min-width: 0;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.gov-category-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1rem;
  padding-bottom: 0.75rem;
  border-bottom: 1px solid var(--color-border);
}

.gov-category-title {
  font-size: 1.125rem;
  font-weight: 600;
  margin: 0;
  color: var(--color-text-primary);
}

.gov-category-rule-count {
  font-size: 0.875rem;
  color: var(--color-text-secondary);
  background: var(--color-sidebar-bg);
  padding: 0.25rem 0.625rem;
  border-radius: 12px;
}

.gov-category-table-wrapper {
  flex: 1;
  overflow: auto;
  border: 1px solid var(--color-border);
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.gov-category-rules-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.875rem;
}

.gov-category-rules-table thead {
  position: sticky;
  top: 0;
  background: var(--color-bg);
  z-index: 1;
}

.gov-category-rules-table th {
  padding: 0.875rem 1rem;
  text-align: left;
  font-weight: 600;
  color: var(--color-text-secondary);
  border-bottom: 1px solid var(--color-border);
  white-space: nowrap;
}

.gov-category-rule-row {
  transition: background 0.15s ease;
  cursor: pointer;
}

.gov-category-rule-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.gov-category-rule-row:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: -2px;
}

.gov-category-rules-table td {
  padding: 0.875rem 1rem;
  border-bottom: 1px solid var(--color-border);
  vertical-align: middle;
}

.gov-rule-id {
  font-family: 'JetBrains Mono', 'Fira Code', monospace;
  font-size: 0.8rem;
  color: var(--color-accent);
  white-space: nowrap;
}

.gov-rule-title {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Level badges in categories table */
.gov-rule-level {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-rule-level.lvl-L1 {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.gov-rule-level.lvl-L2 {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
  border: 1px solid rgba(245, 158, 11, 0.3);
}

.gov-rule-level.lvl-L3 {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
  border: 1px solid rgba(59, 130, 246, 0.3);
}

.gov-rule-level.lvl-L4 {
  background: rgba(156, 163, 175, 0.15);
  color: #9ca3af;
  border: 1px solid rgba(156, 163, 175, 0.3);
}

/* Source badges */
.gov-rule-source {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.gov-rule-source.source-system {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
  border: 1px solid rgba(139, 92, 246, 0.3);
}

.gov-rule-source.source-catalog {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
  border: 1px solid rgba(16, 185, 129, 0.3);
}

.gov-rule-chevron {
  width: 30px;
  text-align: center;
  font-size: 1.25rem;
  color: var(--color-text-secondary);
  transition: transform 0.2s ease;
}

.gov-category-rule-row:hover .gov-rule-chevron {
  transform: translateX(3px);
  color: var(--color-accent);
}

/* ========================================
   VTID-0600: Operational Visibility Styles
   ======================================== */

/* --- Severity Colors --- */
.severity-dot {
  display: inline-block;
  width: 10px;
  height: 10px;
  border-radius: 50%;
  margin-right: 8px;
}

.severity-critical, .severity-dot.severity-critical { background-color: #ff4d4f; }
.severity-important, .severity-dot.severity-important { background-color: #f7b731; }
.severity-info, .severity-dot.severity-info { background-color: #2ecc71; }
.severity-low, .severity-dot.severity-low { background-color: #95a5a6; }

/* Severity row backgrounds */
.severity-row-critical { background: rgba(255, 77, 79, 0.08); }
.severity-row-important { background: rgba(247, 183, 49, 0.08); }
.severity-row-critical:hover { background: rgba(255, 77, 79, 0.15); }
.severity-row-important:hover { background: rgba(247, 183, 49, 0.15); }

/* --- OASIS Events View --- */
.oasis-events-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.oasis-events-toolbar {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
  flex-wrap: wrap;
}

.oasis-toolbar-left {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.oasis-toolbar-right {
  display: flex;
  align-items: center;
}

.auto-refresh-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: var(--color-text-secondary);
  font-size: 0.8rem;
}

.oasis-events-toolbar .filter-select {
  height: 32px;
  padding: 0.25rem 0.5rem;
  font-size: 0.8rem;
}

.oasis-live-pill {
  display: flex;
  align-items: center;
  gap: 0.375rem;
  padding: 0.25rem 0.625rem;
  background: rgba(46, 204, 113, 0.15);
  border: 1px solid rgba(46, 204, 113, 0.3);
  border-radius: 12px;
  color: #2ecc71;
  font-size: 0.75rem;
  font-weight: 500;
  white-space: nowrap;
}

.oasis-refresh-icon-btn {
  width: 34px;
  height: 34px;
  padding: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 6px;
}

.oasis-refresh-icon-btn svg {
  width: 16px;
  height: 16px;
}

.live-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  background: #2ecc71;
  animation: pulse 1.5s infinite;
  flex-shrink: 0;
}

.oasis-events-content {
  flex: 1;
  overflow-y: auto;
}

.oasis-events-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.oasis-events-table th,
.oasis-events-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.oasis-events-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
  z-index: 1;
}

.oasis-event-row {
  cursor: pointer;
  transition: background 0.15s ease;
}

.oasis-event-row:hover {
  background: rgba(59, 130, 246, 0.1);
}

.event-timestamp {
  color: var(--color-text-secondary);
  font-size: 0.8rem;
  white-space: nowrap;
}

.event-topic {
  font-family: monospace;
  font-size: 0.8rem;
}

.event-vtid {
  font-weight: 500;
  color: var(--color-accent);
}

.event-message {
  max-width: 300px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* --- Status Badges --- */
.status-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  text-transform: uppercase;
}

.status-success { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }
.status-error { background: rgba(255, 77, 79, 0.15); color: #ff4d4f; }
.status-info { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.status-warning { background: rgba(247, 183, 49, 0.15); color: #f7b731; }

/* --- OASIS Event Drawer --- */
.oasis-event-drawer {
  position: fixed;
  top: 0;
  right: -450px;
  width: 450px;
  height: 100vh;
  background: var(--color-bg);
  border-left: 1px solid var(--color-border);
  z-index: 1000;
  transition: right 0.3s ease;
  display: flex;
  flex-direction: column;
}

.oasis-event-drawer.open {
  right: 0;
}

.severity-banner {
  padding: 0.75rem 1.5rem;
  font-weight: 600;
  font-size: 0.85rem;
  text-align: center;
}

.severity-banner-critical { background: rgba(255, 77, 79, 0.2); color: #ff4d4f; }
.severity-banner-important { background: rgba(247, 183, 49, 0.2); color: #f7b731; }
.severity-banner-info { background: rgba(46, 204, 113, 0.2); color: #2ecc71; }
.severity-banner-low { background: rgba(149, 165, 166, 0.2); color: #95a5a6; }

.drawer-field {
  padding: 0.75rem 1.5rem;
  border-bottom: 1px solid var(--color-border);
}

.drawer-field-label {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
  margin-bottom: 0.25rem;
}

.drawer-field-value {
  font-size: 0.9rem;
  color: var(--color-text-primary);
  word-break: break-word;
}

.drawer-section {
  padding: 1rem 1.5rem;
}

.drawer-section h4 {
  margin: 0 0 0.75rem 0;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  text-transform: uppercase;
}

.drawer-metadata {
  background: var(--color-sidebar-bg);
  padding: 1rem;
  border-radius: 6px;
  font-size: 0.8rem;
  overflow-x: auto;
  white-space: pre-wrap;
  word-break: break-word;
  margin: 0;
  font-family: monospace;
}

/* --- VTID-01039: ORB Session Transcript Styles --- */
.orb-summary-section {
  border-bottom: 1px solid var(--color-border);
}

.orb-summary-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.5rem;
}

.orb-summary-stats {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
}

.orb-summary-bullets {
  margin-bottom: 1rem;
}

.orb-summary-bullets ul,
.orb-summary-actions ul {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.orb-summary-bullets li,
.orb-summary-actions li {
  margin-bottom: 0.25rem;
  font-size: 0.9rem;
  color: var(--color-text-primary);
}

.orb-summary-actions {
  background: rgba(59, 130, 246, 0.1);
  border-radius: 6px;
  padding: 0.75rem;
}

.orb-summary-actions strong {
  font-size: 0.8rem;
  color: var(--color-accent);
}

.orb-transcript-section {
  flex: 1;
  overflow-y: auto;
}

.orb-transcript-loading,
.orb-transcript-error,
.orb-transcript-empty {
  padding: 2rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
}

.orb-transcript-error {
  color: #ff4d4f;
}

.orb-transcript-turns {
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.orb-transcript-turn {
  padding: 0.75rem;
  border-radius: 8px;
  background: var(--color-sidebar-bg);
}

.orb-transcript-turn-user {
  background: rgba(59, 130, 246, 0.1);
  border-left: 3px solid var(--color-accent);
}

.orb-transcript-turn-assistant {
  background: rgba(16, 185, 129, 0.1);
  border-left: 3px solid #10b981;
}

.orb-transcript-turn-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.5rem;
}

.orb-transcript-role {
  font-weight: 600;
  font-size: 0.8rem;
  text-transform: uppercase;
}

.orb-transcript-turn-user .orb-transcript-role {
  color: var(--color-accent);
}

.orb-transcript-turn-assistant .orb-transcript-role {
  color: #10b981;
}

.orb-transcript-ts {
  font-size: 0.7rem;
  color: var(--color-text-secondary);
}

.orb-transcript-text {
  font-size: 0.9rem;
  color: var(--color-text-primary);
  line-height: 1.5;
  word-break: break-word;
}

/* --- Command Hub Events View --- */
.command-hub-events-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.command-hub-events-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.section-subtitle {
  color: var(--color-text-secondary);
  font-size: 0.9rem;
  margin: 0 0 1.5rem 0;
}

.command-hub-events-toolbar {
  display: flex;
  gap: 1rem;
  align-items: center;
  margin-bottom: 1rem;
  flex-wrap: wrap;
}

.filter-select {
  min-width: 150px;
  padding: 0.5rem;
  border-radius: 6px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  font-size: 0.85rem;
}

.command-hub-events-content {
  flex: 1;
  overflow-y: auto;
}

.command-hub-events-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.command-hub-events-table th,
.command-hub-events-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.command-hub-events-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
}

.command-hub-event-row {
  transition: background 0.15s ease;
}

.event-type-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  text-transform: capitalize;
}

/* --- VTIDs View --- */
.vtids-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.vtids-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.vtid-status-legend {
  display: flex;
  gap: 1rem;
  flex-wrap: wrap;
  margin-bottom: 1rem;
}

.vtids-toolbar {
  display: flex;
  gap: 1rem;
  margin-bottom: 1rem;
}

.vtids-content {
  flex: 1;
  overflow-y: auto;
}

.vtids-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.vtids-table th,
.vtids-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.vtids-table th {
  background: var(--color-sidebar-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
  position: sticky;
  top: 0;
}

.vtid-row {
  transition: background 0.15s ease;
}

.vtid-row:hover {
  background: rgba(59, 130, 246, 0.08);
}

.vtid-cell {
  font-weight: 600;
  color: var(--color-accent);
  font-family: monospace;
}

/* VTID Stage Badges */
.vtid-stage-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
}

.vtid-stage-pl { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }
.vtid-stage-wo { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-stage-va { background: rgba(247, 183, 49, 0.15); color: #f7b731; }
.vtid-stage-de { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }

/* VTID Layer Badges */
.vtid-layer-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
}

.vtid-layer-dev { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-layer-gov { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
.vtid-layer-adm { background: rgba(249, 115, 22, 0.15); color: #f97316; }
.vtid-layer-unk { background: rgba(107, 114, 128, 0.15); color: #6b7280; }

/* DEV-COMHU-2025-0008: VTID Ledger Error Banner & Status Line */
.vtid-ledger-error-banner {
  background: rgba(239, 68, 68, 0.15);
  border: 1px solid rgba(239, 68, 68, 0.4);
  color: #ef4444;
  padding: 0.75rem 1rem;
  border-radius: 6px;
  margin-bottom: 1rem;
  font-size: 0.85rem;
}

.vtid-ledger-status-line {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-bottom: 1rem;
  padding: 0.25rem 0;
}

/* DEV-COMHU-2025-0009: View fingerprint for deployment verification */
.view-fingerprint {
  display: inline-block;
  font-size: 0.7rem;
  color: var(--color-text-secondary);
  background: rgba(107, 114, 128, 0.1);
  border: 1px solid rgba(107, 114, 128, 0.2);
  padding: 0.15rem 0.5rem;
  border-radius: 4px;
  margin-left: 1rem;
  vertical-align: middle;
  font-family: 'Courier New', monospace;
}

/* DEV-COMHU-2025-0008: VTID Status Badges */
.vtid-status-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: capitalize;
}

.vtid-status-active { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.vtid-status-completed { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-status-pending { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.vtid-status-blocked { background: rgba(239, 68, 68, 0.15); color: #ef4444; }
.vtid-status-unknown { background: rgba(107, 114, 128, 0.15); color: #6b7280; }

/* VTID-01016: OASIS Event Authority - Deterministic Status Values */
.vtid-status-scheduled { background: rgba(107, 114, 128, 0.15); color: #6b7280; }
.vtid-status-in_progress { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-status-success { background: rgba(16, 185, 129, 0.15); color: #10b981; }
.vtid-status-failed { background: rgba(239, 68, 68, 0.15); color: #ef4444; }

/* VTID-01016: OASIS Event Authority - Deterministic Stage Values */
.vtid-stage-scheduled { background: rgba(107, 114, 128, 0.15); color: #6b7280; }
.vtid-stage-queued { background: rgba(245, 158, 11, 0.15); color: #f59e0b; }
.vtid-stage-planner { background: rgba(139, 92, 246, 0.15); color: #8b5cf6; }
.vtid-stage-worker { background: rgba(59, 130, 246, 0.15); color: #3b82f6; }
.vtid-stage-validator { background: rgba(247, 183, 49, 0.15); color: #f7b731; }
.vtid-stage-deploy { background: rgba(46, 204, 113, 0.15); color: #2ecc71; }
.vtid-stage-done { background: rgba(16, 185, 129, 0.15); color: #10b981; }

/* --- Approvals View --- */
.approvals-container {
  padding: 1.5rem;
  height: 100%;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.approvals-header h2 {
  margin: 0 0 0.5rem 0;
  font-size: 1.5rem;
  color: var(--color-text-primary);
}

.approvals-section {
  margin-bottom: 2rem;
}

.approvals-section-header {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 1rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.approvals-section-content {
  background: var(--color-sidebar-bg);
  border-radius: 8px;
  border: 1px solid var(--color-border);
  overflow: hidden;
}

.approvals-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
}

.approvals-table th,
.approvals-table td {
  padding: 0.75rem 1rem;
  text-align: left;
  border-bottom: 1px solid var(--color-border);
}

.approvals-table th {
  background: var(--color-bg);
  font-weight: 600;
  color: var(--color-text-secondary);
}

.approvals-empty-cell {
  text-align: center;
  color: var(--color-text-secondary);
  padding: 2rem !important;
}

.approvals-sample-note {
  padding: 1rem;
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.85rem;
  border-top: 1px solid var(--color-border);
}

.approvals-actions-section {
  display: flex;
  gap: 1rem;
  margin-top: 1rem;
}

.btn-success {
  background: rgba(46, 204, 113, 0.2);
  color: #2ecc71;
  border: 1px solid rgba(46, 204, 113, 0.3);
}

.btn-success:hover:not(:disabled) {
  background: rgba(46, 204, 113, 0.3);
}

.btn-danger {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border: 1px solid rgba(239, 68, 68, 0.3);
}

.btn-danger:hover:not(:disabled) {
  background: rgba(239, 68, 68, 0.3);
}

/* --- Ticker Enhancements --- */
.ticker-filter-toolbar {
  display: flex;
  gap: 1rem;
  align-items: center;
  padding: 0.75rem;
  background: var(--color-sidebar-bg);
  border-bottom: 1px solid var(--color-border);
  font-size: 0.85rem;
}

.ticker-collapse-toggle {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
  color: var(--color-text-secondary);
}

.ticker-collapse-toggle input {
  cursor: pointer;
}

.ticker-severity-filter {
  padding: 0.4rem;
  border-radius: 4px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  color: var(--color-text-primary);
  font-size: 0.8rem;
}

.ticker-item-critical {
  border-left: 3px solid #ff4d4f;
  background: rgba(255, 77, 79, 0.05);
}

.ticker-item-important {
  border-left: 3px solid #f7b731;
  background: rgba(247, 183, 49, 0.05);
}

.ticker-item-info {
  border-left: 3px solid #2ecc71;
}

.ticker-item-low {
  border-left: 3px solid #95a5a6;
  opacity: 0.7;
}

.ticker-severity-dot {
  display: inline-block;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  margin-right: 8px;
  flex-shrink: 0;
}

.ticker-severity-critical { background: #ff4d4f; }
.ticker-severity-important { background: #f7b731; }
.ticker-severity-info { background: #2ecc71; }
.ticker-severity-low { background: #95a5a6; }

.ticker-heartbeat-collapsed {
  border: 1px solid var(--color-border);
  border-radius: 6px;
  margin: 0.5rem;
  overflow: hidden;
}

.ticker-heartbeat-header {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  background: var(--color-sidebar-bg);
  cursor: pointer;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
}

.ticker-heartbeat-header:hover {
  background: rgba(149, 165, 166, 0.15);
}

.ticker-heartbeat-list {
  display: none;
  padding: 0.5rem;
  max-height: 200px;
  overflow-y: auto;
}

.ticker-heartbeat-collapsed.expanded .ticker-heartbeat-list {
  display: block;
}

.ticker-item-mini {
  padding: 0.4rem 0.75rem !important;
  font-size: 0.75rem;
  opacity: 0.8;
}

.ticker-more-note {
  padding: 0.5rem 1rem;
  text-align: center;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- Deployment History Enhancements --- */
.history-summary {
  max-width: 200px;
  font-size: 0.85rem;
  color: var(--color-text-secondary);
}

.history-triggered-by {
  white-space: nowrap;
}

.history-trigger-badge {
  display: inline-block;
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  font-weight: 500;
}

.history-trigger-user {
  background: rgba(59, 130, 246, 0.15);
  color: #3b82f6;
}

.history-trigger-agent {
  background: rgba(139, 92, 246, 0.15);
  color: #8b5cf6;
}

/* btn-sm and btn-active variants */
.btn-sm {
  padding: 0.3rem 0.6rem;
  font-size: 0.8rem;
}

.btn-active {
  background: var(--color-accent);
  color: white;
  border-color: var(--color-accent);
}

/* --- DEV-COMHU-2025-0012: Task Management v1 Styles --- */

/* Enhanced Task Card Design */
.task-card-enhanced {
  position: relative;
}

.task-card-title {
  font-weight: 600;
  font-size: 1rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
  color: var(--color-text-primary);
}

.task-card-vtid-line {
  margin-bottom: 0.5rem;
}

.task-card-vtid-label {
  font-family: monospace;
  font-size: 0.8rem;
  color: #60a5fa;
  background: rgba(96, 165, 250, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
}

.task-card-status-row {
  margin-bottom: 0.5rem;
}

.task-card-status-pill {
  display: inline-block;
  padding: 3px 10px;
  border-radius: 999px;
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.task-card-status-pill-scheduled {
  background: rgba(96, 165, 250, 0.15);
  color: var(--color-task-scheduled);
  box-shadow: 0 0 0 1px rgba(96, 165, 250, 0.2);
}

.task-card-status-pill-in-progress {
  background: rgba(245, 158, 11, 0.15);
  color: var(--color-task-progress);
  box-shadow: 0 0 0 1px rgba(245, 158, 11, 0.2);
}

.task-card-status-pill-completed {
  background: rgba(16, 185, 129, 0.15);
  color: var(--color-task-completed);
  box-shadow: 0 0 0 1px rgba(16, 185, 129, 0.2);
}

/* DEV-COMHU-2025-0015: Uniform card sizing across all columns */
.task-card-enhanced {
  min-height: 140px;
  max-height: 180px;
  display: flex;
  flex-direction: column;
  overflow: hidden;
}

.task-card-enhanced .task-card-title {
  /* Limit title to 2 lines with ellipsis */
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
  min-height: 2.8em;
  max-height: 2.8em;
}

.task-card-enhanced .task-card-vtid-label {
  /* Prominent VTID display */
  font-size: 0.85rem;
  font-weight: 600;
  padding: 4px 10px;
}

.task-card-enhanced .task-stage-timeline {
  margin-top: auto;
}

/* Task Spec Editor in Drawer */
.task-spec-section {
  margin-top: 1.5rem;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 8px;
}

.task-spec-heading {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.75rem;
}

.task-spec-textarea {
  width: 100%;
  min-height: 150px;
  background: var(--color-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-primary);
  font-family: monospace;
  font-size: 0.85rem;
  padding: 0.75rem;
  resize: vertical;
  margin-bottom: 0.75rem;
}

.task-spec-textarea:focus {
  outline: none;
  border-color: var(--color-accent);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.task-spec-textarea::placeholder {
  color: var(--color-text-secondary);
}

.task-spec-actions {
  display: flex;
  gap: 0.5rem;
  flex-wrap: wrap;
  margin-bottom: 0.75rem;
}

.task-spec-btn {
  padding: 0.4rem 0.8rem;
  font-size: 0.85rem;
}

.task-activate-btn {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.task-activate-btn:hover {
  background: #059669;
  border-color: #059669;
}

/* VTID-01052: Delete button styling for scheduled tasks */
.task-delete-btn {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.task-delete-btn:hover:not(:disabled) {
  background: #dc2626;
  border-color: #dc2626;
}

.task-delete-btn:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.task-spec-local-banner {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 0.5rem;
  background: rgba(59, 130, 246, 0.05);
  border-radius: 4px;
  text-align: center;
}

/* Approvals View Enhancements */
.approvals-decisions-label {
  font-size: 0.75rem;
  color: #f59e0b;
  background: rgba(245, 158, 11, 0.1);
  border: 1px solid rgba(245, 158, 11, 0.3);
  padding: 4px 10px;
  border-radius: 4px;
  margin-top: 8px;
  display: inline-block;
}

.approvals-error {
  background: #3b1515;
  border: 1px solid #ef4444;
  padding: 12px;
  border-radius: 6px;
  margin-bottom: 16px;
  color: #fca5a5;
}

.approvals-empty-state {
  text-align: center;
  padding: 40px 20px;
  color: #888;
}

.approvals-empty-icon {
  font-size: 48px;
  margin-bottom: 16px;
}

.approvals-empty-title {
  font-size: 18px;
  margin-bottom: 8px;
}

.approvals-empty-subtitle {
  font-size: 14px;
}

.approvals-pr-link {
  color: #60a5fa;
}

.approvals-branch-cell {
  font-family: monospace;
  font-size: 12px;
}

.approvals-service-badge {
  background: #1e3a3f;
  color: #34d399;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
}

.approvals-status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.status-pass {
  color: #22c55e;
}

.status-fail {
  color: #ef4444;
}

.status-pending {
  color: #f59e0b;
}

.status-unknown {
  color: #888;
}

.approvals-action-badge {
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 11px;
}

.approvals-action-merge-deploy {
  background: #4c1d95;
  color: #c4b5fd;
}

.approvals-action-deploy {
  background: #1e3a3f;
  color: #34d399;
}

.approvals-action-merge {
  background: #1e3a5f;
  color: #60a5fa;
}

.approvals-actions-cell {
  text-align: center;
}

.approvals-actions-cell .btn {
  padding: 4px 12px;
  font-size: 12px;
  margin-right: 8px;
}

.approvals-actions-cell .btn:last-child {
  margin-right: 0;
}

.vtid-badge {
  background: #1e3a5f;
  color: #60a5fa;
  padding: 2px 8px;
  border-radius: 4px;
  font-family: monospace;
}

.vtid-badge-unknown {
  background: #3b2f1f;
  color: #f59e0b;
}

.approvals-info {
  margin-top: 24px;
  padding: 16px;
  background: #1a1a2e;
  border-radius: 8px;
  border: 1px solid #333;
}

.approvals-info-title {
  font-weight: 600;
  margin-bottom: 8px;
}

.approvals-info-content {
  font-size: 13px;
  color: #888;
  line-height: 1.6;
}

.approvals-info-content code {
  background: #2a2a3e;
  padding: 2px 6px;
  border-radius: 4px;
}

.approvals-info-content strong {
  color: #fff;
}

/* btn-success and btn-danger for Approvals */
.btn-success {
  background: #10b981;
  border-color: #10b981;
  color: white;
}

.btn-success:hover:not(:disabled) {
  background: #059669;
  border-color: #059669;
}

.btn-success:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-danger {
  background: #ef4444;
  border-color: #ef4444;
  color: white;
}

.btn-danger:hover:not(:disabled) {
  background: #dc2626;
  border-color: #dc2626;
}

.btn-danger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

.btn-secondary {
  background: var(--color-sidebar-bg);
  border-color: var(--color-border);
  color: var(--color-text-secondary);
}

.btn-secondary:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-primary);
}

/* DEV-COMHU-2025-0013: Muted fingerprint line (non-disruptive) */
.view-fingerprint-muted {
  display: block;
  font-size: 0.65rem;
  color: var(--color-text-secondary);
  opacity: 0.7;
  font-family: 'Courier New', monospace;
  margin-top: 0.25rem;
  margin-left: 1rem;
}

/* DEV-COMHU-2025-0015: OASIS Event Tracking Styles */
.task-event-history {
  margin-top: 1.5rem;
  padding: 1rem;
  background: rgba(30, 41, 59, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 8px;
}

.task-event-history-heading {
  font-size: 0.9rem;
  font-weight: 600;
  color: var(--color-text-primary);
  margin-bottom: 0.75rem;
}

.task-event-history-empty {
  font-size: 0.85rem;
  color: var(--color-text-secondary);
  font-style: italic;
  padding: 0.5rem 0;
}

.task-event-history-list {
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
}

.task-event-history-item {
  background: rgba(15, 23, 42, 0.5);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  padding: 0.75rem;
  transition: all 0.2s;
  border-left: 3px solid var(--color-border);
}

.task-event-history-item:hover {
  background: rgba(15, 23, 42, 0.8);
  border-color: var(--color-accent);
}

.task-event-history-item-success {
  border-left-color: #10b981;
}

.task-event-history-item-error {
  border-left-color: #ef4444;
}

.task-event-history-item-warning {
  border-left-color: #f59e0b;
}

.task-event-history-item-expanded {
  background: rgba(15, 23, 42, 0.8);
}

.task-event-history-header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  flex-wrap: wrap;
}

.task-event-history-time {
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  font-family: monospace;
  min-width: 100px;
}

.task-event-history-topic {
  font-size: 0.8rem;
  font-weight: 500;
  color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
}

.task-event-history-status {
  font-size: 0.7rem;
  font-weight: 600;
  text-transform: uppercase;
  padding: 2px 6px;
  border-radius: 4px;
}

.task-event-status-success {
  background: rgba(16, 185, 129, 0.15);
  color: #10b981;
}

.task-event-status-error {
  background: rgba(239, 68, 68, 0.15);
  color: #ef4444;
}

.task-event-status-warning {
  background: rgba(245, 158, 11, 0.15);
  color: #f59e0b;
}

.task-event-status-info {
  background: rgba(59, 130, 246, 0.15);
  color: #60a5fa;
}

.task-event-history-message {
  font-size: 0.8rem;
  color: var(--color-text-secondary);
  margin-top: 0.5rem;
  line-height: 1.4;
}

.task-event-history-detail {
  margin-top: 0.75rem;
  padding-top: 0.75rem;
  border-top: 1px solid var(--color-border);
}

.task-event-detail-row {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 0.4rem;
  font-size: 0.8rem;
}

.task-event-detail-label {
  color: var(--color-text-secondary);
  min-width: 80px;
  flex-shrink: 0;
}

.task-event-detail-value {
  color: var(--color-text-primary);
  word-break: break-word;
}

.task-event-detail-meta {
  flex-direction: column;
}

.task-event-detail-json {
  background: var(--color-bg);
  padding: 0.5rem;
  border-radius: 4px;
  font-size: 0.75rem;
  color: var(--color-text-secondary);
  overflow-x: auto;
  margin-top: 0.25rem;
}

/* ========================================
 * VTID-01006: Task Lifecycle Lock Enforcement
 * Styles for drawer mode separation and finalization
 * ======================================== */

/* Mode badge in drawer header */
.drawer-mode-badge {
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  padding: 2px 8px;
  border-radius: 4px;
  margin-left: 10px;
  letter-spacing: 0.5px;
}

.drawer-mode-final {
  background: linear-gradient(135deg, #1e3a5f 0%, #0f1f36 100%);
  color: #60a5fa;
  border: 1px solid rgba(96, 165, 250, 0.4);
}

.drawer-mode-failed {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  color: #f87171;
  border: 1px solid rgba(248, 113, 113, 0.4);
}

/* Content styling for final mode */
.drawer-content-final {
  background: linear-gradient(180deg, rgba(30, 58, 95, 0.1) 0%, transparent 100%);
}

/* Finalization banner */
.task-finalization-banner {
  background: linear-gradient(135deg, #1e3a5f 0%, #0f1f36 100%);
  border: 1px solid rgba(96, 165, 250, 0.4);
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 16px;
  color: #93c5fd;
  font-size: 0.875rem;
  line-height: 1.5;
}

.task-finalization-banner strong {
  color: #60a5fa;
}

.task-finalization-banner-failed {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  border-color: rgba(248, 113, 113, 0.4);
  color: #fca5a5;
}

.task-finalization-banner-failed strong {
  color: #f87171;
}

.task-finalization-banner-cancelled {
  background: linear-gradient(135deg, #3d3317 0%, #1f1a0d 100%);
  border-color: rgba(251, 191, 36, 0.4);
  color: #fcd34d;
}

.task-finalization-banner-cancelled strong {
  color: #f59e0b;
}

/* Inconsistent state warning */
.task-inconsistent-state-warning {
  background: linear-gradient(135deg, #3b1515 0%, #1f0a0a 100%);
  border: 2px solid #ef4444;
  border-radius: 8px;
  padding: 12px 16px;
  margin-bottom: 16px;
  color: #fca5a5;
  font-size: 0.875rem;
  line-height: 1.5;
}

.task-inconsistent-state-warning strong {
  color: #ef4444;
}

/* Stage inconsistency warning */
.task-stage-inconsistent-warning {
  background: rgba(245, 158, 11, 0.15);
  border: 1px solid rgba(245, 158, 11, 0.4);
  border-radius: 6px;
  padding: 10px 12px;
  margin-bottom: 12px;
  color: #fcd34d;
  font-size: 0.8rem;
}

.task-stage-inconsistent-warning strong {
  color: #f59e0b;
}

/* Locked spec section */
.task-spec-section-locked {
  opacity: 0.85;
}

.task-spec-section-locked .task-spec-heading {
  color: var(--color-text-secondary);
}

/* Locked textarea */
.task-spec-textarea-locked {
  background: rgba(0, 0, 0, 0.3) !important;
  border-color: rgba(100, 100, 100, 0.3) !important;
  cursor: not-allowed;
  color: var(--color-text-secondary) !important;
}

.task-spec-textarea-locked::placeholder {
  color: rgba(150, 150, 150, 0.5);
}

/* Locked stage list */
.task-stage-detail-list-locked {
  opacity: 0.9;
}

.task-stage-detail-list-locked .task-stage-detail-item {
  cursor: default;
}

/* Stage detail heading for locked state */
.task-stage-detail-heading {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* ===========================================================================
   VTID-01010: Target Role Styles
   =========================================================================== */

/* --- Target Role Selector (Modal) --- */
.target-role-selector {
  display: flex;
  flex-wrap: nowrap;
  gap: 8px;
  padding: 8px;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 6px;
  border: 1px solid var(--color-border);
  overflow-x: auto;
}

.target-role-option {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 6px 10px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.2s ease;
}

.target-role-option:hover {
  background: rgba(255, 255, 255, 0.1);
}

.target-role-option input[type="checkbox"] {
  cursor: pointer;
}

.target-role-label {
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--color-text-primary);
}

.form-note-error {
  color: #f87171 !important;
}

/* --- Role Filter Bar --- */
.role-filter-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  padding: 12px 0;
  margin-bottom: 8px;
}

.role-filter-chip {
  padding: 6px 14px;
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid var(--color-border);
  background: rgba(255, 255, 255, 0.05);
  color: var(--color-text-secondary);
}

.role-filter-chip:hover {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-primary);
}

.role-filter-chip-active {
  background: var(--color-primary) !important;
  color: white !important;
  border-color: var(--color-primary) !important;
}

/* Role-specific chip colors */
.role-filter-chip-dev { border-color: rgba(59, 130, 246, 0.5); }
.role-filter-chip-com { border-color: rgba(16, 185, 129, 0.5); }
.role-filter-chip-adm { border-color: rgba(239, 68, 68, 0.5); }
.role-filter-chip-pro { border-color: rgba(139, 92, 246, 0.5); }
.role-filter-chip-erp { border-color: rgba(245, 158, 11, 0.5); }
.role-filter-chip-pat { border-color: rgba(236, 72, 153, 0.5); }
.role-filter-chip-infra { border-color: rgba(100, 116, 139, 0.5); }

/* --- Task Card Role Badge --- */
.task-card-role-badge {
  display: inline-block;
  padding: 2px 8px;
  margin-left: 6px;
  border-radius: 4px;
  font-size: 0.65rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

/* Role-specific badge colors */
.task-card-role-badge-dev {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.task-card-role-badge-com {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.4);
}

.task-card-role-badge-adm {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.4);
}

.task-card-role-badge-pro {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.4);
}

.task-card-role-badge-erp {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.task-card-role-badge-pat {
  background: rgba(236, 72, 153, 0.2);
  color: #f472b6;
  border: 1px solid rgba(236, 72, 153, 0.4);
}

.task-card-role-badge-infra {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.4);
}

.task-card-role-badge-multi {
  background: rgba(255, 255, 255, 0.1);
  color: var(--color-text-secondary);
  border: 1px solid var(--color-border);
}

.task-card-role-badge-unknown {
  background: rgba(100, 100, 100, 0.2);
  color: #888;
  border: 1px solid rgba(100, 100, 100, 0.3);
  font-style: italic;
}

/* --- Drawer Role Badge --- */
.drawer-role-badge {
  display: inline-block;
  padding: 3px 10px;
  margin-left: 8px;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.drawer-role-badge-dev {
  background: rgba(59, 130, 246, 0.2);
  color: #60a5fa;
  border: 1px solid rgba(59, 130, 246, 0.4);
}

.drawer-role-badge-com {
  background: rgba(16, 185, 129, 0.2);
  color: #34d399;
  border: 1px solid rgba(16, 185, 129, 0.4);
}

.drawer-role-badge-adm {
  background: rgba(239, 68, 68, 0.2);
  color: #f87171;
  border: 1px solid rgba(239, 68, 68, 0.4);
}

.drawer-role-badge-pro {
  background: rgba(139, 92, 246, 0.2);
  color: #a78bfa;
  border: 1px solid rgba(139, 92, 246, 0.4);
}

.drawer-role-badge-erp {
  background: rgba(245, 158, 11, 0.2);
  color: #fbbf24;
  border: 1px solid rgba(245, 158, 11, 0.4);
}

.drawer-role-badge-pat {
  background: rgba(236, 72, 153, 0.2);
  color: #f472b6;
  border: 1px solid rgba(236, 72, 153, 0.4);
}

.drawer-role-badge-infra {
  background: rgba(100, 116, 139, 0.2);
  color: #94a3b8;
  border: 1px solid rgba(100, 116, 139, 0.4);
}

.drawer-role-badge-unknown {
  background: rgba(100, 100, 100, 0.2);
  color: #888;
  border: 1px solid rgba(100, 100, 100, 0.3);
  font-style: italic;
}

/* --- VTID-01041: Editable Task Card Title Styles --- */

/* Editable title on card - show cursor pointer */
.task-card-title-editable {
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.task-card-title-editable:hover {
  background: rgba(59, 130, 246, 0.1);
  border-radius: 4px;
}

/* Placeholder title styling - italic, muted */
.task-card-title-placeholder {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Inline input for card title editing */
.task-card-title-input {
  width: 100%;
  padding: 4px 8px;
  font-size: 1rem;
  font-weight: 600;
  font-family: inherit;
  background: var(--color-bg);
  border: 1px solid var(--color-accent);
  border-radius: 4px;
  color: var(--color-text-primary);
  outline: none;
  box-sizing: border-box;
}

.task-card-title-input:focus {
  border-color: var(--color-accent-hover);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.task-card-title-input::placeholder {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- VTID-01041: Drawer Title Row Styles --- */

/* Drawer title row (below VTID heading) */
.drawer-title-row {
  display: flex;
  align-items: center;
  margin-top: 8px;
  padding: 6px 10px;
  background: rgba(255, 255, 255, 0.03);
  border-radius: 4px;
  font-size: 0.9rem;
}

.drawer-title-row.drawer-title-editable {
  cursor: pointer;
  transition: background-color 0.15s ease;
}

.drawer-title-row.drawer-title-editable:hover {
  background: rgba(59, 130, 246, 0.1);
}

.drawer-title-label {
  color: var(--color-text-secondary);
  margin-right: 4px;
  font-weight: 500;
}

.drawer-title-value {
  color: var(--color-text-primary);
  font-weight: 600;
  flex: 1;
}

.drawer-title-placeholder .drawer-title-value {
  font-style: italic;
  color: var(--color-text-secondary);
}

/* Inline input for drawer title editing */
.drawer-title-input {
  flex: 1;
  padding: 4px 8px;
  font-size: 0.9rem;
  font-weight: 600;
  font-family: inherit;
  background: var(--color-bg);
  border: 1px solid var(--color-accent);
  border-radius: 4px;
  color: var(--color-text-primary);
  outline: none;
  box-sizing: border-box;
}

.drawer-title-input:focus {
  border-color: var(--color-accent-hover);
  box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
}

.drawer-title-input::placeholder {
  color: var(--color-text-secondary);
  font-style: italic;
}

/* --- VTID-01045: Compact Task Cards + Date Filter Icon --- */

/* Compact card density: reduce padding and height */
.task-card {
  padding: 0.625rem 0.75rem;
}

.task-card-enhanced {
  min-height: 72px;
  max-height: 100px;
}

/* Reduce title font size and margins */
.task-card-title {
  font-size: 0.875rem;
  margin-bottom: 0.25rem;
  line-height: 1.3;
}

.task-card-enhanced .task-card-title {
  min-height: 2.4em;
  max-height: 2.4em;
}

/* VTID line: reduce margin */
.task-card-vtid-line {
  margin-bottom: 0.25rem;
}

/* Smaller VTID chip */
.task-card-vtid-label {
  font-size: 0.7rem;
  padding: 1px 6px;
}

.task-card-enhanced .task-card-vtid-label {
  font-size: 0.7rem;
  font-weight: 600;
  padding: 1px 6px;
}

/* Status row: single line flex, no wrap */
.task-card-status-row {
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  gap: 6px;
  overflow: hidden;
  margin-bottom: 0.25rem;
}

/* Smaller status pills */
.task-card-status-pill {
  padding: 1px 6px;
  font-size: 0.6rem;
  height: 18px;
  line-height: 16px;
  white-space: nowrap;
  flex-shrink: 0;
}

/* Smaller role badges */
.task-card-role-badge {
  padding: 1px 5px;
  font-size: 0.55rem;
  height: 16px;
  line-height: 14px;
  white-space: nowrap;
  flex-shrink: 1;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Stage timeline compact */
.task-card-enhanced .task-stage-timeline {
  margin-top: 4px;
  padding-top: 4px;
}

.task-stage-timeline {
  gap: 3px;
  margin-top: 4px;
  padding-top: 4px;
}

/* Reduce column content gap */
.column-content {
  gap: 0.5rem;
}

/* --- Date Filter Calendar Icon Button --- */

/* Hidden date input (visually hidden but accessible) */
.date-hidden-input {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
  opacity: 0;
}

/* Calendar icon button container */
.date-filter-btn-container {
  display: flex;
  align-items: center;
  gap: 6px;
  margin-left: 0.5rem;
}

/* Calendar icon button */
.date-filter-icon-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 34px;
  height: 34px;
  background: var(--color-sidebar-bg);
  border: 1px solid var(--color-border);
  border-radius: 6px;
  color: var(--color-text-secondary);
  cursor: pointer;
  transition: all 0.2s;
}

.date-filter-icon-btn:hover {
  background: rgba(255, 255, 255, 0.05);
  border-color: var(--color-text-secondary);
  color: var(--color-text-primary);
}

.date-filter-icon-btn.date-filter-active {
  border-color: var(--color-accent);
  color: var(--color-accent);
  background: rgba(59, 130, 246, 0.1);
}

/* Calendar SVG icon */
.date-filter-icon-btn svg {
  width: 16px;
  height: 16px;
  fill: currentColor;
}

/* Active date indicator (compact text next to icon) */
.date-filter-indicator {
  font-size: 0.7rem;
  color: var(--color-accent);
  font-family: monospace;
  white-space: nowrap;
}

/* Clear date button (small X) */
.date-filter-clear-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 18px;
  height: 18px;
  background: none;
  border: none;
  border-radius: 50%;
  color: var(--color-text-secondary);
  cursor: pointer;
  font-size: 0.75rem;
  transition: all 0.15s;
  padding: 0;
}

.date-filter-clear-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
}

/* ==========================================================================
   VTID-01069: ORB Input Surface v2 (Auto-Growing Chatbox, Symmetric Layout)
   ========================================================================== */

/* VTID-01069: Two-column layout for ORB overlay */
.orb-overlay-layout {
  display: flex;
  width: 100%;
  height: 100%;
  gap: 40px;
  padding: 40px;
  box-sizing: border-box;
}

/* VTID-01069: Left column - Conversation + Input with symmetric spacing */
.orb-left {
  flex: 1;
  display: flex;
  flex-direction: column;
  height: 100%;
  max-width: 600px;
  min-width: 320px;
}

/* VTID-01069: Top spacer for symmetry */
.orb-left-topspacer {
  flex: 1;
  min-height: 20px;
}

/* VTID-01069: Conversation stream area */
.orb-conversation {
  flex: 0 1 auto;
  max-height: 50vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  gap: 12px;
  padding: 16px;
  background: rgba(255, 255, 255, 0.95);
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
}

.orb-conversation:empty {
  display: none;
}

.orb-conversation-empty {
  text-align: center;
  color: var(--color-text-secondary);
  font-size: 0.9rem;
  padding: 24px;
}

.orb-conversation-message {
  padding: 12px 16px;
  border-radius: 12px;
  font-size: 0.95rem;
  line-height: 1.5;
  max-width: 90%;
}

.orb-conversation-message-user {
  align-self: flex-end;
  background: var(--orb-primary);
  color: #fff;
}

.orb-conversation-message-assistant {
  align-self: flex-start;
  background: #f1f5f9;
  color: #1e293b;
  border-left: 3px solid #3b82f6;
}

/* VTID-01069: Input zone wrapper */
.orb-inputzone-wrap {
  flex: 0 0 auto;
  padding: 16px 0;
}

/* VTID-01069: Input bar container (controls + textarea + send) */
.orb-inputbar {
  display: flex;
  align-items: flex-end;
  gap: 12px;
  background: rgba(255, 255, 255, 0.98);
  border-radius: 24px;
  padding: 12px 16px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12);
  border: 1px solid rgba(0, 0, 0, 0.08);
}

/* VTID-01069: Control rail (left of textarea) */
.orb-input-controls {
  display: flex;
  flex-direction: row;
  gap: 4px;
  flex-shrink: 0;
  align-items: center;
}

.orb-input-control-btn {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  border: none;
  background: transparent;
  color: #64748b;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  padding: 0;
}

.orb-input-control-btn:hover {
  background: rgba(0, 0, 0, 0.05);
  color: #334155;
}

.orb-input-control-btn.orb-input-control-active {
  color: #3b82f6;
  background: rgba(59, 130, 246, 0.1);
}

.orb-input-control-btn svg {
  width: 18px;
  height: 18px;
}

/* VTID-01069: Textarea container */
.orb-textarea-wrap {
  flex: 1;
  display: flex;
  align-items: flex-end;
}

/* VTID-01069: Base textarea styles */
.orb-textarea {
  width: 100%;
  padding: 10px 14px;
  font-size: 0.95rem;
  font-family: inherit;
  line-height: 1.5;
  color: #1e293b;
  background: transparent;
  border: none;
  resize: none;
  outline: none;
  transition: height 160ms ease;
  box-sizing: border-box;
}

.orb-textarea::placeholder {
  color: #94a3b8;
}

.orb-textarea:focus {
  outline: none;
}

/* VTID-01069: Focus ring on input bar */
.orb-inputbar:focus-within {
  border-color: var(--orb-primary);
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.12), 0 0 0 3px rgba(139, 92, 246, 0.15);
}

/* VTID-01069: Height bucket classes (class-based, no inline styles) */
/* h1: 1-2 lines (~48px) */
.input-h1 .orb-textarea {
  height: 3rem;
  overflow-y: hidden;
}

/* h2: 3-5 lines (~80px) */
.input-h2 .orb-textarea {
  height: 5rem;
  overflow-y: hidden;
}

/* h3: 6-9 lines (~120px) */
.input-h3 .orb-textarea {
  height: 7.5rem;
  overflow-y: hidden;
}

/* h4: 10-14 lines (~168px) */
.input-h4 .orb-textarea {
  height: 10.5rem;
  overflow-y: hidden;
}

/* h5: 15+ lines (MAX ~224px with scroll) */
.input-h5 .orb-textarea {
  height: 14rem;
  overflow-y: auto;
}

/* VTID-01069: Send button in input bar */
.orb-input-send {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  border: none;
  background: var(--orb-primary);
  color: white;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s ease;
  flex-shrink: 0;
}

.orb-input-send:hover:not(:disabled) {
  background: var(--orb-secondary);
  transform: scale(1.05);
}

.orb-input-send:disabled {
  background: #cbd5e1;
  cursor: not-allowed;
  transform: none;
}

.orb-input-send svg {
  width: 18px;
  height: 18px;
}

/* VTID-01069: Bottom spacer for symmetry */
.orb-left-bottomspacer {
  flex: 1;
  min-height: 20px;
}

/* VTID-01069: Right column - ORB + aura container */
.orb-right {
  flex: 0 0 auto;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 300px;
  padding: 40px;
}

/* VTID-01069: Override overlay for two-column layout */
.orb-overlay.orb-overlay-twocol {
  flex-direction: row;
  align-items: stretch;
  justify-content: center;
  padding: 0;
}

/* VTID-01069: Move controls into right column */
.orb-overlay.orb-overlay-twocol .orb-controls {
  position: relative;
  bottom: auto;
  left: auto;
  transform: none;
  margin-top: 32px;
}

/* VTID-01069: Move state pill into right column */
.orb-overlay.orb-overlay-twocol .orb-state-pill {
  position: relative;
  top: auto;
  left: auto;
  transform: none;
  margin-bottom: 24px;
}

/* VTID-01069: Move transcript into right column */
.orb-overlay.orb-overlay-twocol .orb-live-transcript {
  position: relative;
  top: auto;
  left: auto;
  transform: none;
  width: 100%;
  max-width: 400px;
  margin-bottom: 24px;
}

/* VTID-01069: Language settings in right column */
.orb-overlay.orb-overlay-twocol .orb-lang-settings {
  position: relative;
  bottom: auto;
  left: auto;
  transform: none;
  margin-top: 24px;
}

/* VTID-01069: Status text in right column */
.orb-overlay.orb-overlay-twocol .orb-status-text {
  margin-top: 16px;
}

/* VTID-01069: Responsive adjustments */
@media (max-width: 900px) {
  .orb-overlay-layout {
    flex-direction: column-reverse;
    padding: 20px;
    gap: 20px;
  }

  .orb-left {
    max-width: 100%;
    min-width: 0;
  }

  .orb-right {
    min-width: 0;
    padding: 20px;
  }

  .orb-conversation {
    max-height: 30vh;
  }
}
